!function(m){function webpackJsonpCallback(y){for(var _,$,C=y[0],I=y[1],M=0,P=[];M<C.length;M++)$=C[M],Object.prototype.hasOwnProperty.call(b,$)&&b[$]&&P.push(b[$][0]),b[$]=0;for(_ in I)Object.prototype.hasOwnProperty.call(I,_)&&(m[_]=I[_]);for(D&&D(y);P.length;)P.shift()()}var y={},b={3:0};function __webpack_require__(b){if(y[b])return y[b].exports;var _=y[b]={i:b,l:!1,exports:{}};return m[b].call(_.exports,_,_.exports,__webpack_require__),_.l=!0,_.exports}__webpack_require__.e=function requireEnsure(m){var y=[],_=b[m];if(0!==_)if(_)y.push(_[2]);else{var $=new Promise((function(y,$){_=b[m]=[y,$]}));y.push(_[2]=$);var C,D=document.createElement("script");D.charset="utf-8",D.timeout=120,__webpack_require__.nc&&D.setAttribute("nonce",__webpack_require__.nc),D.src=function jsonpScriptSrc(m){return __webpack_require__.p+"js/"+({0:"../widgets/metered-access-reports/js/metered-access-reports"}[m]||m)+"-"+{0:"c848005adeca290e5a8b",5:"853219bcd96351fbf27c",6:"d3cb2ae43c675acbb6b0",7:"c6e18d13ff7a3522b722",8:"0980772dae248e9b64a1",9:"d4e9adbf10c0ea96e406",10:"3654bc895167a8bb128c",11:"c29b050d573ba36ecccd"}[m]+".js"}(m);var I=new Error;C=function(y){D.onerror=D.onload=null,clearTimeout(M);var _=b[m];if(0!==_){if(_){var $=y&&("load"===y.type?"missing":y.type),C=y&&y.target&&y.target.src;I.message="Loading chunk "+m+" failed.\n("+$+": "+C+")",I.name="ChunkLoadError",I.type=$,I.request=C,_[1](I)}b[m]=void 0}};var M=setTimeout((function(){C({type:"timeout",target:D})}),12e4);D.onerror=D.onload=C,document.head.appendChild(D)}return Promise.all(y)},__webpack_require__.m=m,__webpack_require__.c=y,__webpack_require__.d=function(m,y,b){__webpack_require__.o(m,y)||Object.defineProperty(m,y,{enumerable:!0,get:b})},__webpack_require__.r=function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},__webpack_require__.t=function(m,y){if(1&y&&(m=__webpack_require__(m)),8&y)return m;if(4&y&&"object"==typeof m&&m&&m.__esModule)return m;var b=Object.create(null);if(__webpack_require__.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:m}),2&y&&"string"!=typeof m)for(var _ in m)__webpack_require__.d(b,_,function(y){return m[y]}.bind(null,_));return b},__webpack_require__.n=function(m){var y=m&&m.__esModule?function getDefault(){return m.default}:function getModuleExports(){return m};return __webpack_require__.d(y,"a",y),y},__webpack_require__.o=function(m,y){return Object.prototype.hasOwnProperty.call(m,y)},__webpack_require__.p="",__webpack_require__.oe=function(m){throw console.error(m),m};var _=window.webpackJsonp=window.webpackJsonp||[],$=_.push.bind(_);_.push=webpackJsonpCallback,_=_.slice();for(var C=0;C<_.length;C++)webpackJsonpCallback(_[C]);var D=$;__webpack_require__(__webpack_require__.s=93)}([function(m,y,b){(function(y){m.exports=y.$=b(97)}).call(this,b(26))},function(m,y,b){"use strict";b.d(y,"j",(function(){return Injectable})),b.d(y,"i",(function(){return Inject})),b.d(y,"g",(function(){return _})),b.d(y,"a",(function(){return I})),b.d(y,"h",(function(){return q})),b.d(y,"e",(function(){return G})),b.d(y,"f",(function(){return Y})),b.d(y,"d",(function(){return K})),b.d(y,"b",(function(){return Q})),b.d(y,"c",(function(){return ComponentInjector}));var _=function(){function Container(){this._services={}}return Container.register=function(m){this.instance._services[m.name]=new m},Container.get=function(m){var y=this.instance._services[m.name];if(!y)throw Error("Service not found");return y},Container.instance=new Container,Container}();function Injectable(m){return void 0===m&&(m=null),function(m){_.register(m)}}function Inject(){return function(m,y){var b=Reflect.getMetadata("design:type",m,y);Object.defineProperty(m,y,{get:function get(){return _.get(b)},enumerable:!1,configurable:!1})}}var $,C=b(2),D=b.n(C),__decorate=function(m,y,b,_){var $,C=arguments.length,I=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"===("undefined"==typeof Reflect?"undefined":D()(Reflect))&&"function"==typeof Reflect.decorate)I=Reflect.decorate(m,y,b,_);else for(var M=m.length-1;M>=0;M--)($=m[M])&&(I=(C<3?$(I):C>3?$(y,b,I):$(y,b))||I);return C>3&&I&&Object.defineProperty(y,b,I),I},__generator=function(m,y){var b,_,$,C,D={label:0,sent:function sent(){if(1&$[0])throw $[1];return $[1]},trys:[],ops:[]};return C={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(C[Symbol.iterator]=function(){return this}),C;function verb(C){return function(I){return function step(C){if(b)throw new TypeError("Generator is already executing.");for(;D;)try{if(b=1,_&&($=2&C[0]?_.return:C[0]?_.throw||(($=_.return)&&$.call(_),0):_.next)&&!($=$.call(_,C[1])).done)return $;switch(_=0,$&&(C=[2&C[0],$.value]),C[0]){case 0:case 1:$=C;break;case 4:return D.label++,{value:C[1],done:!1};case 5:D.label++,_=C[1],C=[0];continue;case 7:C=D.ops.pop(),D.trys.pop();continue;default:if(!($=D.trys,($=$.length>0&&$[$.length-1])||6!==C[0]&&2!==C[0])){D=0;continue}if(3===C[0]&&(!$||C[1]>$[0]&&C[1]<$[3])){D.label=C[1];break}if(6===C[0]&&D.label<$[1]){D.label=$[1],$=C;break}if($&&D.label<$[2]){D.label=$[2],D.ops.push(C);break}$[2]&&D.ops.pop(),D.trys.pop();continue}C=y.call(m,D)}catch(m){C=[6,m],_=0}finally{b=$=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([C,I])}}},I=function(){function BrowserUtils(){}return Object.defineProperty(BrowserUtils.prototype,"isIOS",{get:function get(){return!!navigator.userAgent.match(/ipad|ipod|iphone/i)},enumerable:!1,configurable:!0}),Object.defineProperty(BrowserUtils.prototype,"isSafari",{get:function get(){return new RegExp("apple","i").test(navigator.vendor)},enumerable:!1,configurable:!0}),Object.defineProperty(BrowserUtils.prototype,"isIE",{get:function get(){return-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>-1},enumerable:!1,configurable:!0}),BrowserUtils.prototype.toggleFullScreen=function(m){var y=document.webkitIsFullScreen||document.mozFullScreen||!1;m.requestFullScreen=m.requestFullScreen||m.webkitRequestFullScreen||m.mozRequestFullScreen||function(){return!1},document.cancelFullScreen=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||function(){return!1},y?document.cancelFullScreen():m.requestFullScreen()},BrowserUtils.prototype.copyToClipboard=function(m){var y=document.createElement("textarea");y.value=m,y.setAttribute("readonly",""),document.body.appendChild(y),y.select(),document.execCommand("copy"),document.body.removeChild(y)},BrowserUtils.prototype.delay=function(m){var y;return __generator(this,(function(b){switch(b.label){case 0:return[4,setTimeout((function(){y()}),m)];case 1:return b.sent(),[2,new Promise((function(m){return y=m}))]}}))},BrowserUtils.prototype.scrollTo=function(m,y){if(void 0===y&&(y=0),m&&m.offsetTop){var b=m.offsetTop-y;window.scrollTo({top:b,behavior:"smooth"})}},BrowserUtils=__decorate([Injectable()],BrowserUtils)}(),observer_decorate=function(m,y,b,_){var $,C=arguments.length,I=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"===("undefined"==typeof Reflect?"undefined":D()(Reflect))&&"function"==typeof Reflect.decorate)I=Reflect.decorate(m,y,b,_);else for(var M=m.length-1;M>=0;M--)($=m[M])&&(I=(C<3?$(I):C>3?$(y,b,I):$(y,b))||I);return C>3&&I&&Object.defineProperty(y,b,I),I},M=(function(){function Observer(){this._observers={}}Observer.prototype.subscribe=function(m,y){this._observers[m]||(this._observers[m]=[]),this._observers[m].push(y)},Observer.prototype.unsubscribe=function(m,y){this._observers[m]&&(this._observers[m]=this._observers[m].filter((function(m){return m!==y})))},Observer.prototype.unsubscribeAll=function(m){this._observers[m]&&(this._observers[m]=[])},Observer.prototype.notify=function(m){for(var y=[],b=1;b<arguments.length;b++)y[b-1]=arguments[b];this._observers[m]&&this._observers[m].forEach((function(m){m.apply(void 0,y)}))},Observer.prototype.getObservers=function(m){return this._observers[m]},Observer=observer_decorate([Injectable()],Observer)}(),function(){function DOMEvents(){}return DOMEvents.prototype.addEventListener=function(m,y,b){var _=this;y.indexOf(",")>-1?y.split(",").forEach((function(y){_.addEventListener(m,y,b)})):m&&(m instanceof Array?m.forEach((function(m){null==m||m.addEventListener(y.trim(),b)})):null==m||m.addEventListener(y.trim(),b))},DOMEvents.prototype.removeEventListener=function(m,y,b){var _=this;y.indexOf(",")>-1?y.split(",").forEach((function(y){_.removeEventListener(m,y,b)})):m&&(m instanceof Array?m.forEach((function(m){null==m||m.removeEventListener(y.trim(),b)})):null==m||m.removeEventListener(y.trim(),b))},DOMEvents}()),__awaiter=function(m,y,b,_){return new(b||(b=Promise))((function($,C){function fulfilled(m){try{step(_.next(m))}catch(m){C(m)}}function rejected(m){try{step(_.throw(m))}catch(m){C(m)}}function step(m){m.done?$(m.value):function adopt(m){return m instanceof b?m:new b((function(y){y(m)}))}(m.value).then(fulfilled,rejected)}step((_=_.apply(m,y||[])).next())}))},scriptLoader_generator=function(m,y){var b,_,$,C,D={label:0,sent:function sent(){if(1&$[0])throw $[1];return $[1]},trys:[],ops:[]};return C={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(C[Symbol.iterator]=function(){return this}),C;function verb(C){return function(I){return function step(C){if(b)throw new TypeError("Generator is already executing.");for(;D;)try{if(b=1,_&&($=2&C[0]?_.return:C[0]?_.throw||(($=_.return)&&$.call(_),0):_.next)&&!($=$.call(_,C[1])).done)return $;switch(_=0,$&&(C=[2&C[0],$.value]),C[0]){case 0:case 1:$=C;break;case 4:return D.label++,{value:C[1],done:!1};case 5:D.label++,_=C[1],C=[0];continue;case 7:C=D.ops.pop(),D.trys.pop();continue;default:if(!($=D.trys,($=$.length>0&&$[$.length-1])||6!==C[0]&&2!==C[0])){D=0;continue}if(3===C[0]&&(!$||C[1]>$[0]&&C[1]<$[3])){D.label=C[1];break}if(6===C[0]&&D.label<$[1]){D.label=$[1],$=C;break}if($&&D.label<$[2]){D.label=$[2],D.ops.push(C);break}$[2]&&D.ops.pop(),D.trys.pop();continue}C=y.call(m,D)}catch(m){C=[6,m],_=0}finally{b=$=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([C,I])}}},P=function(){function LoadScript(m,y){void 0===y&&(y=!1),this.target=m}return LoadScript.prototype.generateScripts=function(m){var y=this;void 0===m&&(m=0);var b=Array.from(this.target);if(m<b.length)return b[m].src?void this.injectScriptsAsync(b[m].src,!0).then((function(b){return m++,y.generateScripts(m)})):(this.injectScriptsAsync(b[m].innerHTML),m++,this.generateScripts(m))},LoadScript.prototype.injectScriptsAsync=function(m,y){return void 0===y&&(y=!1),__awaiter(this,void 0,void 0,(function(){var b;return scriptLoader_generator(this,(function(_){return(b=document.createElement("script")).type="text/javascript",b.async=!0,y?b.src=m:b.innerHTML=m,[2,new Promise((function(m,y){document.getElementsByTagName("head")[0].appendChild(b),b.onload=function(y){m(y)},b.onerror=function(m){y(m)}}))]}))}))},LoadScript}(),R=($=function extendStatics(m,y){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(m[b]=y[b])})(m,y)},function(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function __(){this.constructor=m}$(m,y),m.prototype=null===y?Object.create(y):(__.prototype=y.prototype,new __)}),N=function(m){function DOMHTML(){return null!==m&&m.apply(this,arguments)||this}return R(DOMHTML,m),DOMHTML.prototype.insertHTML=function(m,y,b){var _;return void 0===b&&(b=document.body),_="string"==typeof y?this.htmlToElement(y):y,b.insertAdjacentElement(m,_)},DOMHTML.prototype.htmlToElement=function(m){var y=document.createElement("template");return m=m.trim(),y.innerHTML=m,y.content.firstElementChild},DOMHTML.prototype.replaceElement=function(m,y){var b,_=(b="string"==typeof y?this.htmlToElement(y):y).querySelectorAll("script");return m.parentNode.replaceChild(b,m),_&&new P(_).generateScripts(),b},DOMHTML}(M),animate_decorate=function(m,y,b,_){var $,C=arguments.length,I=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"===("undefined"==typeof Reflect?"undefined":D()(Reflect))&&"function"==typeof Reflect.decorate)I=Reflect.decorate(m,y,b,_);else for(var M=m.length-1;M>=0;M--)($=m[M])&&(I=(C<3?$(I):C>3?$(y,b,I):$(y,b))||I);return C>3&&I&&Object.defineProperty(y,b,I),I},U=function(){function Animater(){this._duration=250,this._display="block",this.delays=new Map}return Animater.prototype.toggleClass=function(m,y,b){m.classList.remove(y),m.classList.add(b)},Animater.prototype.withDuration=function(m){return this._duration=m,this},Animater.prototype.withDisplay=function(m){return this._display=m,this},Animater.prototype.fadeToggle=function(m){if(m){var y=getComputedStyle(m);"0"===y.opacity||"none"===y.display||m.classList.contains("animator__fade-out")?this.fadeIn(m):this.fadeOut(m)}},Animater.prototype.slideToggle=function(m){m&&("none"===getComputedStyle(m).display||m.classList.contains("animator__slide-up")?this.slideIn(m):this.slideOut(m))},Animater.prototype.fadeIn=function(m){m&&(clearTimeout(this.delays.get(m)),this.toggleClass(m,"animator__fade-out","animator__fade-in"),m.style.opacity="0",m.style.display=this._display,m.style.transition="opacity ".concat(this._duration,"ms ease-in-out"),this.delays.set(m,setTimeout((function(){m.style.opacity="1"}),0)))},Animater.prototype.fadeOut=function(m){m&&(clearTimeout(this.delays.get(m)),this.toggleClass(m,"animator__fade-in","animator__fade-out"),m.style.transition="opacity ".concat(this._duration,"ms ease-in-out"),m.style.opacity="0",this.delays.set(m,setTimeout((function(){m.style.display="none"}),this._duration)))},Animater.prototype.slideIn=function(m){m&&(clearTimeout(this.delays.get(m)),this.toggleClass(m,"animator__slide-up","animator__slide-down"),m.style.height="0",m.style.display=this._display,m.style.transition="height ".concat(this._duration,"ms ease-in-out"),m.style.overflow="hidden",setTimeout((function(){m.style.height="".concat(m.scrollHeight,"px")}),0),this.delays.set(m,setTimeout((function(){m.style.height=null}),this._duration)))},Animater.prototype.slideOut=function(m){m&&(clearTimeout(this.delays.get(m)),this.toggleClass(m,"animator__slide-down","animator__slide-up"),m.style.height="".concat(m.scrollHeight,"px"),m.style.transition="height ".concat(this._duration,"ms ease-in-out"),setTimeout((function(){m.style.height="0"}),0),this.delays.set(m,setTimeout((function(){m.style.display="none",m.style.overflow=null}),this._duration)))},Animater=animate_decorate([Injectable()],Animater)}(),H=function(){var m=function extendStatics(y,b){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(m[b]=y[b])})(y,b)};return function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=y}m(y,b),y.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),classlist_decorate=function(m,y,b,_){var $,C=arguments.length,I=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"===("undefined"==typeof Reflect?"undefined":D()(Reflect))&&"function"==typeof Reflect.decorate)I=Reflect.decorate(m,y,b,_);else for(var M=m.length-1;M>=0;M--)($=m[M])&&(I=(C<3?$(I):C>3?$(y,b,I):$(y,b))||I);return C>3&&I&&Object.defineProperty(y,b,I),I},__metadata=function(m,y){if("object"===("undefined"==typeof Reflect?"undefined":D()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(m,y)},B=function(m){function DOMClasslist(){return null!==m&&m.apply(this,arguments)||this}return H(DOMClasslist,m),DOMClasslist.prototype.containsClasses=function(m){for(var y=[],b=1;b<arguments.length;b++)y[b-1]=arguments[b];for(var _=0,$=y;_<$.length;_++){var C=$[_];if(m.classList.contains(C))return!0}return!1},DOMClasslist.prototype.addClasses=function(m){for(var y=[],b=1;b<arguments.length;b++)y[b-1]=arguments[b];for(var _=function _loop_1(y){m instanceof Array?m.forEach((function(m){null==m||m.classList.add(y)})):null==m||m.classList.add(y)},$=0,C=y;$<C.length;$++){var D=C[$];_(D)}},DOMClasslist.prototype.removeClasses=function(m){for(var y=[],b=1;b<arguments.length;b++)y[b-1]=arguments[b];for(var _=function _loop_2(y){m instanceof Array?m.forEach((function(m){null==m||m.classList.remove(y)})):null==m||m.classList.remove(y)},$=0,C=y;$<C.length;$++){var D=C[$];_(D)}},DOMClasslist.prototype.toggleClasses=function(m){for(var y=[],b=1;b<arguments.length;b++)y[b-1]=arguments[b];for(var _=y.filter((function(m){return"string"==typeof m})),$=y.find((function(m){return"boolean"==typeof m})),C=function _loop_3(y){m instanceof Array?m.forEach((function(m){null==m||m.classList.toggle(y,$)})):null==m||m.classList.toggle(y,$)},D=0,I=_;D<I.length;D++){var M=I[D];C(M)}},DOMClasslist.prototype.toSelector=function(m){return m.id?"#".concat(m.id):m.classList.length>0?m.classList.toString().split(" ").map((function(m){return".".concat(m.trim())})).join(""):m.tagName.toLowerCase()},DOMClasslist.prototype.animate=function(m){for(var y=[],b=1;b<arguments.length;b++)y[b-1]=arguments[b];var _=this._animate;"string"==typeof y[0]&&(_=this._animate.withDisplay(y[0])),y.forEach((function(y){y instanceof Element&&_[m].bind(_)(y)})),this._animate.withDisplay("block")},DOMClasslist.prototype.isVisible=function(m){return"none"!==window.getComputedStyle(m).display||m.classList.contains("js--fade-in")},classlist_decorate([Inject(),__metadata("design:type",U)],DOMClasslist.prototype,"_animate",void 0),DOMClasslist}(N),z=function(){var m=function extendStatics(y,b){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(m[b]=y[b])})(y,b)};return function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=y}m(y,b),y.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),dom_decorate=function(m,y,b,_){var $,C=arguments.length,I=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"===("undefined"==typeof Reflect?"undefined":D()(Reflect))&&"function"==typeof Reflect.decorate)I=Reflect.decorate(m,y,b,_);else for(var M=m.length-1;M>=0;M--)($=m[M])&&(I=(C<3?$(I):C>3?$(y,b,I):$(y,b))||I);return C>3&&I&&Object.defineProperty(y,b,I),I},q=function(m){function DOMUtils(){var y=null!==m&&m.apply(this,arguments)||this;return y.focusableElementSelector='button, a, input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])',y}return z(DOMUtils,m),DOMUtils.prototype.getFocusableElements=function(m){return this.getElements(this.focusableElementSelector,m)},DOMUtils.prototype.getFocusableElement=function(m){return this.getElement(this.focusableElementSelector,m)},DOMUtils.prototype.getElement=function(m,y){return void 0===y&&(y=document.body),null==y?void 0:y.querySelector(m)},DOMUtils.prototype.getElements=function(m,y){return void 0===y&&(y=document.body),this.convertToArray(null==y?void 0:y.querySelectorAll(m))},DOMUtils.prototype.getElementById=function(m){return document.getElementById(m)},DOMUtils.prototype.getElementsByClassName=function(m,y){return void 0===y&&(y=document.body),this.convertToArray(null==y?void 0:y.getElementsByClassName(m))},DOMUtils.prototype.getElementByClassName=function(m,y){return void 0===y&&(y=document.body),this.getElementsByClassName(m,y)[0]},DOMUtils.prototype.closest=function(m,y){return null==y?void 0:y.closest(m)},DOMUtils.prototype.convertToArray=function(m){return null==m?[]:Array.prototype.slice.call(m)},DOMUtils.prototype.htmlIterator=function(m,y,b){for(var _=[],$=m;$[y];)$=$[y],b?$.matches(b)&&_.push($):_.push($);return _},DOMUtils.prototype.nextAll=function(m,y){return this.htmlIterator(m,"nextElementSibling",y)},DOMUtils.prototype.prevAll=function(m,y){return void 0===y&&(y=null),this.htmlIterator(m,"previousElementSibling",y)},DOMUtils.prototype.parents=function(m,y){return this.htmlIterator(m,"parentElement",y)},DOMUtils.prototype.offsetTop=function(m){return(m instanceof HTMLElement?m.getBoundingClientRect():m).top+window.pageYOffset},DOMUtils=dom_decorate([Injectable()],DOMUtils)}(B),api_decorate=function(m,y,b,_){var $,C=arguments.length,I=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"===("undefined"==typeof Reflect?"undefined":D()(Reflect))&&"function"==typeof Reflect.decorate)I=Reflect.decorate(m,y,b,_);else for(var M=m.length-1;M>=0;M--)($=m[M])&&(I=(C<3?$(I):C>3?$(y,b,I):$(y,b))||I);return C>3&&I&&Object.defineProperty(y,b,I),I},api_metadata=function(m,y){if("object"===("undefined"==typeof Reflect?"undefined":D()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(m,y)},api_awaiter=function(m,y,b,_){return new(b||(b=Promise))((function($,C){function fulfilled(m){try{step(_.next(m))}catch(m){C(m)}}function rejected(m){try{step(_.throw(m))}catch(m){C(m)}}function step(m){m.done?$(m.value):function adopt(m){return m instanceof b?m:new b((function(y){y(m)}))}(m.value).then(fulfilled,rejected)}step((_=_.apply(m,y||[])).next())}))},api_generator=function(m,y){var b,_,$,C,D={label:0,sent:function sent(){if(1&$[0])throw $[1];return $[1]},trys:[],ops:[]};return C={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(C[Symbol.iterator]=function(){return this}),C;function verb(C){return function(I){return function step(C){if(b)throw new TypeError("Generator is already executing.");for(;D;)try{if(b=1,_&&($=2&C[0]?_.return:C[0]?_.throw||(($=_.return)&&$.call(_),0):_.next)&&!($=$.call(_,C[1])).done)return $;switch(_=0,$&&(C=[2&C[0],$.value]),C[0]){case 0:case 1:$=C;break;case 4:return D.label++,{value:C[1],done:!1};case 5:D.label++,_=C[1],C=[0];continue;case 7:C=D.ops.pop(),D.trys.pop();continue;default:if(!($=D.trys,($=$.length>0&&$[$.length-1])||6!==C[0]&&2!==C[0])){D=0;continue}if(3===C[0]&&(!$||C[1]>$[0]&&C[1]<$[3])){D.label=C[1];break}if(6===C[0]&&D.label<$[1]){D.label=$[1],$=C;break}if($&&D.label<$[2]){D.label=$[2],D.ops.push(C);break}$[2]&&D.ops.pop(),D.trys.pop();continue}C=y.call(m,D)}catch(m){C=[6,m],_=0}finally{b=$=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([C,I])}}},W=(function(){function Api(){}Object.defineProperty(Api.prototype,"pbContext",{get:function get(){var m;return null===(m=this.domUtils.getElement("[name=pbContext]",document.head))||void 0===m?void 0:m.getAttribute("content")},enumerable:!1,configurable:!0}),Api.prototype.widgetId=function(m){var y,b;return null!==(b=null!==(y=m.getAttribute("widget-id"))&&void 0!==y?y:m.dataset.widgetId)&&void 0!==b?b:m.id},Api.prototype.renderWidget=function(m,y,b,_,$){return void 0===b&&(b={}),void 0===_&&(_="GET"),void 0===$&&($="html"),api_awaiter(this,void 0,void 0,(function(){var C,D,I,M;return api_generator(this,(function(P){if(C=b,m){if(D=this.widgetId(m),I=this.pbContext,!(null==D?void 0:D.length))throw new Error("Widget ID not found");if(!(null==I?void 0:I.length))throw new Error("PB Context not found");C.pbContext=this.pbContext,C.widgetId=D}return(M=new URL(window.location.href).searchParams).has("showJson")&&(C.showJson=M.get("showJson")),[2,this.fetch("/pb/widgets/".concat(y),_,$,C)]}))}))},Api.prototype.dataToQueryString=function(m,y){var b,_=(y||"").indexOf("?")>-1,$=[];for(var C in m)$.push("".concat(C,"=").concat(encodeURIComponent("".concat(m[C]))));return b=$.join("&"),_?"&".concat(b):"?".concat(b)},Api.prototype.fetch=function(m,y,b,_){return void 0===y&&(y="GET"),void 0===b&&(b="html"),void 0===_&&(_={}),api_awaiter(this,void 0,void 0,(function(){var $,C;return api_generator(this,(function(D){switch(D.label){case 0:return($="POST"===y||"PUT"===y||"PATCH"===y)||(m+=this.dataToQueryString(_,m)),[4,fetch(m,{method:y,headers:this.getHeaderFromData(_),body:$?this.serialize(_):null})];case 1:if(404===(C=D.sent()).status)throw new Error("not found");if(500===C.status)throw new Error("internal server error");return[2,"json"==b||"jsonp"==b?C.json():C.text()]}}))}))},Api.prototype.serialize=function(m){var y="";if(m instanceof FormData){var b=[];m.forEach((function(m,y){b.push("".concat(y,"=").concat(encodeURIComponent("".concat(m))))})),y=b.join("&")}else y=JSON.stringify(m);return y},Api.prototype.getHeaderFromData=function(m){return m instanceof FormData?{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}:{"Content-Type":"application/json"}},Api.prototype.get=function(m,y,b){return void 0===y&&(y={}),void 0===b&&(b="json"),api_awaiter(this,void 0,void 0,(function(){return api_generator(this,(function(_){return[2,this.fetch(m,"GET",b,y)]}))}))},Api.prototype.post=function(m,y,b){return void 0===y&&(y={}),void 0===b&&(b="json"),api_awaiter(this,void 0,void 0,(function(){return api_generator(this,(function(_){return[2,this.fetch(m,"POST",b,y)]}))}))},api_decorate([Inject(),api_metadata("design:type",q)],Api.prototype,"domUtils",void 0),Api=api_decorate([Injectable()],Api)}(),function(m,y,b,_){var $,C=arguments.length,I=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"===("undefined"==typeof Reflect?"undefined":D()(Reflect))&&"function"==typeof Reflect.decorate)I=Reflect.decorate(m,y,b,_);else for(var M=m.length-1;M>=0;M--)($=m[M])&&(I=(C<3?$(I):C>3?$(y,b,I):$(y,b))||I);return C>3&&I&&Object.defineProperty(y,b,I),I}),X=function(){function Validator(){}return Validator.prototype.valueFrom=function(m){return m instanceof HTMLInputElement?null==m?void 0:m.value:null!=m?m:""},Validator.prototype.isEmail=function(m){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.valueFrom(m))},Validator.prototype.isNumber=function(m){var y=parseFloat(this.valueFrom(m));return!isNaN(y)&&isFinite(y)},Validator.prototype.isPhone=function(m){return/^\+\d{12}$/.test(this.valueFrom(m))},Validator.prototype.isEmpty=function(m){return!this.valueFrom(m).trim().length},Validator.prototype.isNotEmpty=function(m){return!!this.valueFrom(m).trim().length},Validator.prototype.isTooLong=function(m,y){return this.valueFrom(m).length>y},Validator.prototype.isTooShort=function(m,y){return this.valueFrom(m).length<y},Validator.prototype.matchLength=function(m,y){return this.valueFrom(m).length===y},Validator.prototype.hasSpecialCharacters=function(m){return/[!@#\$%\^\&*\)\(+=._-]/.test(this.valueFrom(m))},Validator.prototype.hasLowerCase=function(m){return/[a-z]/.test(this.valueFrom(m))},Validator.prototype.hasUpperCase=function(m){return/[A-Z]/.test(this.valueFrom(m))},Validator.prototype.hasNumber=function(m){return/[0-9]/.test(this.valueFrom(m))},Validator=W([Injectable()],Validator)}(),i18n_decorate=function(m,y,b,_){var $,C=arguments.length,I=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"===("undefined"==typeof Reflect?"undefined":D()(Reflect))&&"function"==typeof Reflect.decorate)I=Reflect.decorate(m,y,b,_);else for(var M=m.length-1;M>=0;M--)($=m[M])&&(I=(C<3?$(I):C>3?$(y,b,I):$(y,b))||I);return C>3&&I&&Object.defineProperty(y,b,I),I},i18n_awaiter=function(m,y,b,_){return new(b||(b=Promise))((function($,C){function fulfilled(m){try{step(_.next(m))}catch(m){C(m)}}function rejected(m){try{step(_.throw(m))}catch(m){C(m)}}function step(m){m.done?$(m.value):function adopt(m){return m instanceof b?m:new b((function(y){y(m)}))}(m.value).then(fulfilled,rejected)}step((_=_.apply(m,y||[])).next())}))},i18n_generator=function(m,y){var b,_,$,C,D={label:0,sent:function sent(){if(1&$[0])throw $[1];return $[1]},trys:[],ops:[]};return C={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(C[Symbol.iterator]=function(){return this}),C;function verb(C){return function(I){return function step(C){if(b)throw new TypeError("Generator is already executing.");for(;D;)try{if(b=1,_&&($=2&C[0]?_.return:C[0]?_.throw||(($=_.return)&&$.call(_),0):_.next)&&!($=$.call(_,C[1])).done)return $;switch(_=0,$&&(C=[2&C[0],$.value]),C[0]){case 0:case 1:$=C;break;case 4:return D.label++,{value:C[1],done:!1};case 5:D.label++,_=C[1],C=[0];continue;case 7:C=D.ops.pop(),D.trys.pop();continue;default:if(!($=D.trys,($=$.length>0&&$[$.length-1])||6!==C[0]&&2!==C[0])){D=0;continue}if(3===C[0]&&(!$||C[1]>$[0]&&C[1]<$[3])){D.label=C[1];break}if(6===C[0]&&D.label<$[1]){D.label=$[1],$=C;break}if($&&D.label<$[2]){D.label=$[2],D.ops.push(C);break}$[2]&&D.ops.pop(),D.trys.pop();continue}C=y.call(m,D)}catch(m){C=[6,m],_=0}finally{b=$=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([C,I])}}},V=(function(){function I18N(){}I18N.prototype.initialize=function(){return i18n_awaiter(this,void 0,void 0,(function(){return i18n_generator(this,(function(m){switch(m.label){case 0:return[4,this.load()];case 1:return m.sent(),[2]}}))}))},Object.defineProperty(I18N.prototype,"language",{get:function get(){return document.documentElement.lang||"en"},enumerable:!1,configurable:!0}),I18N.prototype.load=function(){return i18n_awaiter(this,void 0,void 0,(function(){var m=this;return i18n_generator(this,(function(y){return[2,new Promise((function(y){return i18n_awaiter(m,void 0,void 0,(function(){return i18n_generator(this,(function(m){switch(m.label){case 0:return this.data?(y(),[3,3]):[3,1];case 1:return[4,this.loadFromFile()];case 2:m.sent(),y(),m.label=3;case 3:return[2]}}))}))}))]}))}))},I18N.prototype.loadFromFile=function(){return i18n_awaiter(this,void 0,void 0,(function(){var m,y,b,_;return i18n_generator(this,(function($){switch($.label){case 0:return m=this.language,y="".concat(window.__webpack_public_path__,"/locales/").concat(m,".json"),[4,fetch(y)];case 1:return b=$.sent(),_=this,[4,b.json()];case 2:return _.data=$.sent(),[2]}}))}))},I18N.prototype.localized=function(m,y){return this.translate(this.localizedObject(m),y)},I18N.prototype.localizedObject=function(m){return m.includes(".")?this.correctedKey(m):this.data[m]},I18N.prototype.correctedKey=function(m){for(var y=m.split("."),b=this.data[y.shift()];y.length>0;)b=b[y.shift()];return b},I18N.prototype.translate=function(m,y){var b=m;return y?(Object.keys(y).forEach((function(m){var _=y[m],$=new RegExp("{{".concat(m,"}}"),"g");b=b.replace($,_)})),b):b},I18N=i18n_decorate([Injectable()],I18N)}(),function(){var m=function extendStatics(y,b){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(m[b]=y[b])})(y,b)};return function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=y}m(y,b),y.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}()),component_decorate=function(m,y,b,_){var $,C=arguments.length,I=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"===("undefined"==typeof Reflect?"undefined":D()(Reflect))&&"function"==typeof Reflect.decorate)I=Reflect.decorate(m,y,b,_);else for(var M=m.length-1;M>=0;M--)($=m[M])&&(I=(C<3?$(I):C>3?$(y,b,I):$(y,b))||I);return C>3&&I&&Object.defineProperty(y,b,I),I},component_metadata=function(m,y){if("object"===("undefined"==typeof Reflect?"undefined":D()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(m,y)},G=function G(m,y,b){void 0===y&&(y="wrapper"),void 0===b&&(b=!0),this.selector=m,this.parent=y,this.shouldInitiate=b},Y=function Y(){},K=function(){function ComponentObject(){}return Object.defineProperty(ComponentObject.prototype,"className",{get:function get(){return D()(this)},enumerable:!1,configurable:!0}),ComponentObject}(),Q=function(){function ComponentElements(m){this.selectors=m}return ComponentElements.prototype.initialize=function(m){void 0===m&&(m=null),this.wrapper=m,this.setElements()},ComponentElements.prototype.setElements=function(){var m=this,y=this.selectors;Object.keys(y).forEach((function(b){if("string"!=typeof y[b]){var _=y[b];if(_.shouldInitiate){var $,C=_.parent;$="document"==C?document.body:m[C],Array.isArray(m[b])?m[b]=m.domUtils.getElements(_.selector,$):m[b]=m.domUtils.getElement(_.selector,$)}}}))},component_decorate([Inject(),component_metadata("design:type",q)],ComponentElements.prototype,"domUtils",void 0),ComponentElements}(),J=function J(m,y,b){this.elements=m,this.classList=y,this.texts=b};function ComponentInjector(m,y,b,_){return function($){return function($){function class_1(){var C=null!==$&&$.apply(this,arguments)||this;return C.component=new J(new y(new m),new b,new _),C}return V(class_1,$),Object.defineProperty(class_1.prototype,"selectors",{get:function get(){return this.component.elements.selectors},enumerable:!1,configurable:!0}),Object.defineProperty(class_1.prototype,"classList",{get:function get(){return this.component.classList},enumerable:!1,configurable:!0}),Object.defineProperty(class_1.prototype,"elements",{get:function get(){return this.component.elements},enumerable:!1,configurable:!0}),Object.defineProperty(class_1.prototype,"texts",{get:function get(){return this.component.texts},enumerable:!1,configurable:!0}),Object.defineProperty(class_1.prototype,"domUtils",{get:function get(){return this.component.elements.domUtils},enumerable:!1,configurable:!0}),class_1}($)}}var form_decorate=function(m,y,b,_){var $,C=arguments.length,I=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"===("undefined"==typeof Reflect?"undefined":D()(Reflect))&&"function"==typeof Reflect.decorate)I=Reflect.decorate(m,y,b,_);else for(var M=m.length-1;M>=0;M--)($=m[M])&&(I=(C<3?$(I):C>3?$(y,b,I):$(y,b))||I);return C>3&&I&&Object.defineProperty(y,b,I),I},form_metadata=function(m,y){if("object"===("undefined"==typeof Reflect?"undefined":D()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(m,y)},Z=(function(){function Form(m){for(var y=[],b=1;b<arguments.length;b++)y[b-1]=arguments[b];this.submitButton=m,this._isValid=!0,this._builders=[],this.builders=y||[],this.addEventListeners()}Object.defineProperty(Form.prototype,"isValid",{get:function get(){return this._isValid},set:function set(m){this._isValid=m},enumerable:!1,configurable:!0}),Object.defineProperty(Form.prototype,"builders",{get:function get(){return this._builders},set:function set(m){this._builders=m},enumerable:!1,configurable:!0}),Object.defineProperty(Form.prototype,"onSubmission",{get:function get(){return this._onSubmission},set:function set(m){this._onSubmission=m},enumerable:!1,configurable:!0}),Form.prototype.addEventListeners=function(){var m,y=this;(null===(m=this.submitButton)||void 0===m?void 0:m.form)&&this.submitButton.form.addEventListener("submit",this.onSubmit.bind(this)),this.builders.forEach((function(m){y.domUtils.addEventListener(m.field,"keyup,input",y.validate.bind(y))}))},Form.prototype.onSubmit=function(m){this.validate(),this.isValid||m.preventDefault(),this.onSubmission&&this.onSubmission(m)},Form.prototype.validate=function(){return this.isValid=this.builders.every((function(m){return m.validate()})),this.isValid?this.submitButton.removeAttribute("disabled"):this.submitButton.setAttribute("disabled","disabled"),this},form_decorate([Inject(),form_metadata("design:type",q)],Form.prototype,"domUtils",void 0)}(),function(m,y,b,_){var $,C=arguments.length,I=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"===("undefined"==typeof Reflect?"undefined":D()(Reflect))&&"function"==typeof Reflect.decorate)I=Reflect.decorate(m,y,b,_);else for(var M=m.length-1;M>=0;M--)($=m[M])&&(I=(C<3?$(I):C>3?$(y,b,I):$(y,b))||I);return C>3&&I&&Object.defineProperty(y,b,I),I}),validator_builder_metadata=function(m,y){if("object"===("undefined"==typeof Reflect?"undefined":D()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(m,y)};!function(){function ValidatorBuilder(m){this._field=m,this.customValidators=[]}Object.defineProperty(ValidatorBuilder.prototype,"field",{get:function get(){return this._field},enumerable:!1,configurable:!0}),ValidatorBuilder.prototype.isRequired=function(){return this.required=this.validator.isNotEmpty.bind(this.validator,this.field),this},ValidatorBuilder.prototype.isTooLong=function(m){return this.tooLong=this.validator.isTooLong.bind(this.validator,this.field,m),this},ValidatorBuilder.prototype.isTooShort=function(m){return this.tooShort=this.validator.isTooShort.bind(this.validator,this.field,m),this},ValidatorBuilder.prototype.isEmail=function(){return this.email=this.validator.isEmail.bind(this.validator,this.field),this},ValidatorBuilder.prototype.isNumber=function(){return this.number=this.validator.isNumber.bind(this.validator,this.field),this},ValidatorBuilder.prototype.isPhone=function(){return this.phone=this.validator.isPhone.bind(this.validator,this.field),this},ValidatorBuilder.prototype.matches=function(m){return this.matchLength=this.validator.matchLength.bind(this.validator,this.field,m),this},ValidatorBuilder.prototype.custom=function(m){return this.customValidators.push(m.bind(this.validator,this.field)),this},ValidatorBuilder.prototype.validate=function(){var m=this;if(this.required&&!this.required(this.field))return!1;if(this.email&&!this.email(this.field))return!1;if(this.tooLong&&this.tooLong(this.field))return!1;if(this.tooShort&&this.tooShort(this.field))return!1;if(this.number&&!this.number(this.field))return!1;if(this.matchLength&&!this.matchLength(this.field))return!1;if(this.phone&&!this.phone(this.field))return!1;if(this.customValidators.length&&!this.customValidators.every((function(y){return y(m.field)})))return!1;return!0},Z([Inject(),validator_builder_metadata("design:type",X)],ValidatorBuilder.prototype,"validator",void 0)}();if(!Reflect||!Reflect.getMetadata)throw new Error("reflect-metadata should be installed otherwise please uninstall this package")},function(m,y){function _typeof(y){return m.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},m.exports.__esModule=!0,m.exports.default=m.exports,_typeof(y)}m.exports=_typeof,m.exports.__esModule=!0,m.exports.default=m.exports},function(m,y,b){(function(y){var check=function(m){return m&&m.Math==Math&&m};m.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof y&&y)||function(){return this}()||Function("return this")()}).call(this,b(26))},function(m,y){m.exports=function(m){return"function"==typeof m}},function(m,y){var b=Function.prototype,_=b.bind,$=b.call,C=_&&_.bind($);m.exports=_?function(m){return m&&C($,m)}:function(m){return m&&function(){return $.apply(m,arguments)}}},function(m,y,b){var _=b(3),$=b(65),C=b(8),D=b(67),I=b(68),M=b(70),P=$("wks"),R=_.Symbol,N=R&&R.for,U=M?R:R&&R.withoutSetter||D;m.exports=function(m){if(!C(P,m)||!I&&"string"!=typeof P[m]){var y="Symbol."+m;I&&C(R,m)?P[m]=R[m]:P[m]=M&&N?N(y):U(y)}return P[m]}},function(m,y){m.exports=function(m){try{return!!m()}catch(m){return!0}}},function(m,y,b){var _=b(5),$=b(66),C=_({}.hasOwnProperty);m.exports=Object.hasOwn||function hasOwn(m,y){return C($(m),y)}},function(m,y,b){var _=b(3),$=b(12),C=_.String,D=_.TypeError;m.exports=function(m){if($(m))return m;throw D(C(m)+" is not an object")}},function(m,y){var b=Function.prototype.call;m.exports=b.bind?b.bind(b):function(){return b.apply(b,arguments)}},function(m,y,b){var _=b(3),$=b(4),aFunction=function(m){return $(m)?m:void 0};m.exports=function(m,y){return arguments.length<2?aFunction(_[m]):_[m]&&_[m][y]}},function(m,y,b){var _=b(4);m.exports=function(m){return"object"==typeof m?null!==m:_(m)}},function(m,y,b){var _=b(7);m.exports=!_((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(m,y,b){var _=b(3),$=b(4),C=b(31),D=_.TypeError;m.exports=function(m){if($(m))return m;throw D(C(m)+" is not a function")}},function(m,y,b){var _=b(13),$=b(18),C=b(24);m.exports=_?function(m,y,b){return $.f(m,y,C(1,b))}:function(m,y,b){return m[y]=b,m}},function(m,y,b){var _=b(3),$=b(47).f,C=b(15),D=b(17),I=b(41),M=b(79),P=b(80);m.exports=function(m,y){var b,R,N,U,H,B=m.target,z=m.global,q=m.stat;if(b=z?_:q?_[B]||I(B,{}):(_[B]||{}).prototype)for(R in y){if(U=y[R],N=m.noTargetGet?(H=$(b,R))&&H.value:b[R],!P(z?R:B+(q?".":"#")+R,m.forced)&&void 0!==N){if(typeof U==typeof N)continue;M(U,N)}(m.sham||N&&N.sham)&&C(U,"sham",!0),D(b,R,U,m)}}},function(m,y,b){var _=b(3),$=b(4),C=b(8),D=b(15),I=b(41),M=b(33),P=b(32),R=b(78).CONFIGURABLE,N=P.get,U=P.enforce,H=String(String).split("String");(m.exports=function(m,y,b,M){var P,N=!!M&&!!M.unsafe,B=!!M&&!!M.enumerable,z=!!M&&!!M.noTargetGet,q=M&&void 0!==M.name?M.name:y;$(b)&&("Symbol("===String(q).slice(0,7)&&(q="["+String(q).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!C(b,"name")||R&&b.name!==q)&&D(b,"name",q),(P=U(b)).source||(P.source=H.join("string"==typeof q?q:""))),m!==_?(N?!z&&m[y]&&(B=!0):delete m[y],B?m[y]=b:D(m,y,b)):B?m[y]=b:I(y,b)})(Function.prototype,"toString",(function toString(){return $(this)&&N(this).source||M(this)}))},function(m,y,b){var _=b(3),$=b(13),C=b(71),D=b(9),I=b(72),M=_.TypeError,P=Object.defineProperty;y.f=$?P:function defineProperty(m,y,b){if(D(m),y=I(y),D(b),C)try{return P(m,y,b)}catch(m){}if("get"in b||"set"in b)throw M("Accessors not supported");return"value"in b&&(m[y]=b.value),m}},function(m,y){m.exports=function _classCallCheck(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")},m.exports.__esModule=!0,m.exports.default=m.exports},function(m,y,b){var _=b(62);function _defineProperties(m,y){for(var b=0;b<y.length;b++){var $=y[b];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(m,_($.key),$)}}m.exports=function _createClass(m,y,b){return y&&_defineProperties(m.prototype,y),b&&_defineProperties(m,b),Object.defineProperty(m,"prototype",{writable:!1}),m},m.exports.__esModule=!0,m.exports.default=m.exports},function(m,y,b){var _=b(223),$=b(39);m.exports=function(m){return _($(m))}},function(m,y){m.exports=!1},function(m,y){m.exports={}},function(m,y){m.exports=function(m,y){return{enumerable:!(1&m),configurable:!(2&m),writable:!(4&m),value:y}}},function(m,y,b){"use strict";var _=b(14),PromiseCapability=function(m){var y,b;this.promise=new m((function(m,_){if(void 0!==y||void 0!==b)throw TypeError("Bad Promise constructor");y=m,b=_})),this.resolve=_(y),this.reject=_(b)};m.exports.f=function(m){return new PromiseCapability(m)}},function(m,y,b){var _,$=b(96);_=function(){return this}();try{_=_||new Function("return this")()}catch(m){"object"===("undefined"==typeof window?"undefined":$(window))&&(_=window)}m.exports=_},function(m,y,b){var _=b(11);m.exports=_("navigator","userAgent")||""},function(m,y,b){var _,$=b(9),C=b(225),D=b(45),I=b(44),M=b(76),P=b(29),R=b(46),N=R("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(m){return"<script>"+m+"<\/script>"},NullProtoObjectViaActiveX=function(m){m.write(scriptTag("")),m.close();var y=m.parentWindow.Object;return m=null,y},NullProtoObject=function(){try{_=new ActiveXObject("htmlfile")}catch(m){}var m,y;NullProtoObject="undefined"!=typeof document?document.domain&&_?NullProtoObjectViaActiveX(_):((y=P("iframe")).style.display="none",M.appendChild(y),y.src=String("javascript:"),(m=y.contentWindow.document).open(),m.write(scriptTag("document.F=Object")),m.close(),m.F):NullProtoObjectViaActiveX(_);for(var b=D.length;b--;)delete NullProtoObject.prototype[D[b]];return NullProtoObject()};I[N]=!0,m.exports=Object.create||function create(m,y){var b;return null!==m?(EmptyConstructor.prototype=$(m),b=new EmptyConstructor,EmptyConstructor.prototype=null,b[N]=m):b=NullProtoObject(),void 0===y?b:C(b,y)}},function(m,y,b){var _=b(3),$=b(12),C=_.document,D=$(C)&&$(C.createElement);m.exports=function(m){return D?C.createElement(m):{}}},function(m,y,b){var _=b(5);m.exports=_({}.isPrototypeOf)},function(m,y,b){var _=b(3).String;m.exports=function(m){try{return _(m)}catch(m){return"Object"}}},function(m,y,b){var _,$,C,D=b(232),I=b(3),M=b(5),P=b(12),R=b(15),N=b(8),U=b(40),H=b(46),B=b(44),z=I.TypeError,q=I.WeakMap;if(D||U.state){var W=U.state||(U.state=new q),X=M(W.get),V=M(W.has),G=M(W.set);_=function(m,y){if(V(W,m))throw new z("Object already initialized");return y.facade=m,G(W,m,y),y},$=function(m){return X(W,m)||{}},C=function(m){return V(W,m)}}else{var Y=H("state");B[Y]=!0,_=function(m,y){if(N(m,Y))throw new z("Object already initialized");return y.facade=m,R(m,Y,y),y},$=function(m){return N(m,Y)?m[Y]:{}},C=function(m){return N(m,Y)}}m.exports={set:_,get:$,has:C,enforce:function(m){return C(m)?$(m):_(m,{})},getterFor:function(m){return function(y){var b;if(!P(y)||(b=$(y)).type!==m)throw z("Incompatible receiver, "+m+" required");return b}}}},function(m,y,b){var _=b(5),$=b(4),C=b(40),D=_(Function.toString);$(C.inspectSource)||(C.inspectSource=function(m){return D(m)}),m.exports=C.inspectSource},function(m,y,b){var _=b(3),$=b(51),C=b(4),D=b(38),I=b(6)("toStringTag"),M=_.Object,P="Arguments"==D(function(){return arguments}());m.exports=$?D:function(m){var y,b,_;return void 0===m?"Undefined":null===m?"Null":"string"==typeof(b=function(m,y){try{return m[y]}catch(m){}}(y=M(m),I))?b:P?D(y):"Object"==(_=D(y))&&C(y.callee)?"Arguments":_}},function(m,y,b){var _=b(3),$=b(52),C=b(10),D=b(9),I=b(31),M=b(246),P=b(75),R=b(30),N=b(247),U=b(83),H=b(248),B=_.TypeError,Result=function(m,y){this.stopped=m,this.result=y},z=Result.prototype;m.exports=function(m,y,b){var _,q,W,X,V,G,Y,K=b&&b.that,Q=!(!b||!b.AS_ENTRIES),J=!(!b||!b.IS_ITERATOR),Z=!(!b||!b.INTERRUPTED),ee=$(y,K),stop=function(m){return _&&H(_,"normal",m),new Result(!0,m)},callFn=function(m){return Q?(D(m),Z?ee(m[0],m[1],stop):ee(m[0],m[1])):Z?ee(m,stop):ee(m)};if(J)_=m;else{if(!(q=U(m)))throw B(I(m)+" is not iterable");if(M(q)){for(W=0,X=P(m);X>W;W++)if((V=callFn(m[W]))&&R(z,V))return V;return new Result(!1)}_=N(m,q)}for(G=_.next;!(Y=C(G,_)).done;){try{V=callFn(Y.value)}catch(m){H(_,"throw",m)}if("object"==typeof V&&V&&R(z,V))return V}return new Result(!1)}},function(m,y){m.exports=function(m){try{return{error:!1,value:m()}}catch(m){return{error:!0,value:m}}}},function(m,y,b){var _=b(2);function lazyLoadLogic(m,y){var b=function parseJson(m){var y;try{y=JSON.parse(m)}catch(b){y=JSON.parse('{"type":"image" , "src":"'+m+'"}')}return y}(m.dataset[y]);switch(b.type){case"image":b.src.length>0&&(m.src=b.src,m.removeAttribute("data-"+y));break;case"mathjax":var _=b.selector||".NLM_disp-formula",$=function closestElement(m,y){if(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(m){var y=this;do{if(y.matches(m))return y;y=y.parentElement||y.parentNode}while(null!==y&&1===y.nodeType);return null}),null!=m)return m.closest(y)}(m,_);if(""===$.id){var C=function guidGenerator(){var m=function S4(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return m()+m()+"-"+m()+"-"+m()+"-"+m()+"-"+m()+m()+m()}();$.setAttribute("id",C)}"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),m.remove(),MathJax.Hub.Queue(["Typeset",MathJax.Hub,$.id]),"function"==typeof callback&&callback.call(this);break;case"sketchfab":var D=m.dataset.url,I=m.querySelector("a.thumbnail"),M=new XMLHttpRequest;m.removeAttribute("data-url"),M.open("GET",D,!0),M.onload=function(){200===M.status&&(responseAsJson=JSON.parse(M.responseText),function replaceImageWith3DIframe(m,y,b){if(m){b.querySelector(".figureDownloadOptions").style.display="none",y.style.display="none",function insertAfterNode(m,y){0===y.parentNode.getElementsByClassName("sketchfab-embed-wrapper").length&&y.insertAdjacentHTML("afterend",m)}(m,b.querySelector(".figureInfo"));var _=b.querySelector("iframe"),$=_.offsetWidth;_.style.height=9*$/16}}(responseAsJson.html,I,m))},M.send();break;case"backgroundImage":D="url('"+b.src+"')",m.style.backgroundImage=D;break;case"addClass":m.classList.add(b.className)}}window.lazyLoad=function(m,y,b,$,C){var D,I;if(b=b||{root:null,rootMargin:"10%",threshold:0},$)D=$;else{var M=m.match(/data-(\w+[\-\w+]*)/g)[0];D=M.substring(M.indexOf("data-")+5).replace(/(-\S)*/g,(function(m){return m.toUpperCase()})).replace(/\-*/g,(function(m){return m.replace("-","")}))}I=y?"object"==_(y)?y:document.querySelector(y):document;var P=[].slice.call(I.querySelectorAll(m));if("IntersectionObserver"in window){var R=new IntersectionObserver((function(m,y){m.forEach((function(m){if(m.isIntersecting){var b=m.target;y.unobserve(b),lazyLoadLogic(b,D)}}))}),b);P.forEach((function(m){R.observe(m)}))}else{var N=!1,U=function lazyLoad(){!1===N&&(N=!0,setTimeout((function(){P.forEach((function(m){m.getBoundingClientRect().top<=window.innerHeight+window.innerHeight*parseInt(b.rootMargin)/100&&m.getBoundingClientRect().bottom>=0&&"none"!==getComputedStyle(m).display&&(lazyLoadLogic(m,D),0===(P=P.filter((function(y){return y!==m}))).length&&(document.removeEventListener("scroll",U),window.removeEventListener("resize",U),window.removeEventListener("orientationchange",U)))})),N=!1}),200))};document.addEventListener("scroll",U),window.addEventListener("resize",U),window.addEventListener("orientationchange",U)}}},function(m,y,b){var _=b(5),$=_({}.toString),C=_("".slice);m.exports=function(m){return C($(m),8,-1)}},function(m,y,b){var _=b(3).TypeError;m.exports=function(m){if(null==m)throw _("Can't call method on "+m);return m}},function(m,y,b){var _=b(3),$=b(41),C=_["__core-js_shared__"]||$("__core-js_shared__",{});m.exports=C},function(m,y,b){var _=b(3),$=Object.defineProperty;m.exports=function(m,y){try{$(_,m,{value:y,configurable:!0,writable:!0})}catch(b){_[m]=y}return y}},function(m,y,b){var _=b(14);m.exports=function(m,y){var b=m[y];return null==b?void 0:_(b)}},function(m,y){var b=Math.ceil,_=Math.floor;m.exports=function(m){var y=+m;return y!=y||0===y?0:(y>0?_:b)(y)}},function(m,y){m.exports={}},function(m,y){m.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(m,y,b){var _=b(65),$=b(67),C=_("keys");m.exports=function(m){return C[m]||(C[m]=$(m))}},function(m,y,b){var _=b(13),$=b(10),C=b(233),D=b(24),I=b(21),M=b(72),P=b(8),R=b(71),N=Object.getOwnPropertyDescriptor;y.f=_?N:function getOwnPropertyDescriptor(m,y){if(m=I(m),y=M(y),R)try{return N(m,y)}catch(m){}if(P(m,y))return D(!$(C.f,m,y),m[y])}},function(m,y,b){var _=b(3),$=b(8),C=b(4),D=b(66),I=b(46),M=b(238),P=I("IE_PROTO"),R=_.Object,N=R.prototype;m.exports=M?R.getPrototypeOf:function(m){var y=D(m);if($(y,P))return y[P];var b=y.constructor;return C(b)&&y instanceof b?b.prototype:y instanceof R?N:null}},function(m,y,b){var _=b(18).f,$=b(8),C=b(6)("toStringTag");m.exports=function(m,y,b){m&&!$(m=b?m:m.prototype,C)&&_(m,C,{configurable:!0,value:y})}},function(m,y,b){var _=b(5),$=b(9),C=b(239);m.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var m,y=!1,b={};try{(m=_(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(b,[]),y=b instanceof Array}catch(m){}return function setPrototypeOf(b,_){return $(b),C(_),y?m(b,_):b.__proto__=_,b}}():void 0)},function(m,y,b){var _={};_[b(6)("toStringTag")]="z",m.exports="[object z]"===String(_)},function(m,y,b){var _=b(5),$=b(14),C=_(_.bind);m.exports=function(m,y){return $(m),void 0===y?m:C?C(m,y):function(){return m.apply(y,arguments)}}},function(m,y,b){var _=b(38),$=b(3);m.exports="process"==_($.process)},function(m,y,b){var _=b(3),$=b(34),C=_.String;m.exports=function(m){if("Symbol"===$(m))throw TypeError("Cannot convert a Symbol value to a string");return C(m)}},function(m,y,b){var _=b(124),$=b(125),C=b(59),D=b(126);m.exports=function _slicedToArray(m,y){return _(m)||$(m,y)||C(m,y)||D()},m.exports.__esModule=!0,m.exports.default=m.exports},function(m,y,b){"use strict";var _,$=b(1),C=b(92),D=(_=function(m,y){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(m[b]=y[b])})(m,y)},function(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function __(){this.constructor=m}_(m,y),m.prototype=null===y?Object.create(y):(__.prototype=y.prototype,new __)}),I=function(m){function AutoCompleteTags(y,b){var _=m.call(this,y)||this;_.config=y,_.inputField=b,_.badgeCloseIcon='<i class="autoComplete__tag__icon"></i>';var C=$.g.get($.h),D="function"==typeof y.selector?y.selector():C.getElement(y.selector);return _.tagsPosition=y.tagsPosition||D,_.preselectedItems=y.preselectedItems||[],_.tagValues=[],"function"==typeof y.onTagRemoved&&(_.onTagRemoved=y.onTagRemoved),_.tagClasses=y.tagClasses||["autoComplete__tag"],_.checkSetPreselected(),_}return D(AutoCompleteTags,m),Object.defineProperty(AutoCompleteTags.prototype,"field",{get:function(){return this.inputField},enumerable:!1,configurable:!0}),Object.defineProperty(AutoCompleteTags.prototype,"values",{get:function(){return this.tagValues.map((function(m){return m[0].value}))},enumerable:!1,configurable:!0}),AutoCompleteTags.prototype.valueExists=function(m){return this.values.findIndex((function(y){return y===m}))>-1},AutoCompleteTags.prototype.checkSetPreselected=function(){var m=this;this.preselectedItems.map((function(y){var b=y.label,_=y.value;m.createTagValue(b,_)}))},AutoCompleteTags.prototype.buildInput=function(m,y){if(m){var b='<input type="hidden" name="'+m.name+'[]" value="'+y+'"/>',_=document.createElement("div");return _.innerHTML=b,_.firstChild}},AutoCompleteTags.prototype.getValues=function(){return this.tagValues},AutoCompleteTags.prototype.removeAllTags=function(){this.tagValues.forEach((function(m){var y=m[0],b=m[1];y.parentNode.removeChild(y),b.parentNode.removeChild(b)})),this.tagValues=[],this.onTagRemoved&&this.onTagRemoved()},AutoCompleteTags.prototype.createTagValue=function(m,y){var b;if(!this.valueExists(y)){var _=this.inputField,$=this.buildInput(_,y),C=this.buildTag(m,$);this.tagValues.push([$,C]),this.config.tagsPosition?this.tagsPosition.appendChild(C):this.tagsPosition.parentNode.insertBefore(C,this.tagsPosition),null===(b=_.parentElement)||void 0===b||b.insertBefore($,_)}},AutoCompleteTags.prototype.buildTag=function(m,y){var b,_=this,$=document.createElement("span");$.innerHTML="<span>"+m+"</span>";var C=document.createElement("a");return C.innerHTML=this.badgeCloseIcon,C.href="#",C.addEventListener("click",(function(m){m.preventDefault(),y.parentNode.removeChild(y),$.parentNode.removeChild($),_.tagValues=_.tagValues.filter((function(m){var b=m[0],_=m[1];return!(y===b&&$===_)})),_.onTagRemoved&&_.onTagRemoved()})),$.appendChild(C),(b=$.classList).add.apply(b,this.tagClasses),$},AutoCompleteTags}(b.n(C).a),M=function(){var extendStatics=function(m,y){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(m[b]=y[b])})(m,y)};return function(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function __(){this.constructor=m}extendStatics(m,y),m.prototype=null===y?Object.create(y):(__.prototype=y.prototype,new __)}}(),__decorate=function(m,y,b,_){var $,C=arguments.length,D=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(m,y,b,_);else for(var I=m.length-1;I>=0;I--)($=m[I])&&(D=(C<3?$(D):C>3?$(y,b,D):$(y,b))||D);return C>3&&D&&Object.defineProperty(y,b,D),D},__metadata=function(m,y){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(m,y)},__awaiter=function(m,y,b,_){return new(b||(b=Promise))((function($,C){function fulfilled(m){try{step(_.next(m))}catch(m){C(m)}}function rejected(m){try{step(_.throw(m))}catch(m){C(m)}}function step(m){m.done?$(m.value):function adopt(m){return m instanceof b?m:new b((function(y){y(m)}))}(m.value).then(fulfilled,rejected)}step((_=_.apply(m,y||[])).next())}))},__generator=function(m,y){var b,_,$,C,D={label:0,sent:function(){if(1&$[0])throw $[1];return $[1]},trys:[],ops:[]};return C={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(C[Symbol.iterator]=function(){return this}),C;function verb(C){return function(I){return function step(C){if(b)throw new TypeError("Generator is already executing.");for(;D;)try{if(b=1,_&&($=2&C[0]?_.return:C[0]?_.throw||(($=_.return)&&$.call(_),0):_.next)&&!($=$.call(_,C[1])).done)return $;switch(_=0,$&&(C=[2&C[0],$.value]),C[0]){case 0:case 1:$=C;break;case 4:return D.label++,{value:C[1],done:!1};case 5:D.label++,_=C[1],C=[0];continue;case 7:C=D.ops.pop(),D.trys.pop();continue;default:if(!($=D.trys,($=$.length>0&&$[$.length-1])||6!==C[0]&&2!==C[0])){D=0;continue}if(3===C[0]&&(!$||C[1]>$[0]&&C[1]<$[3])){D.label=C[1];break}if(6===C[0]&&D.label<$[1]){D.label=$[1],$=C;break}if($&&D.label<$[2]){D.label=$[2],D.ops.push(C);break}$[2]&&D.ops.pop(),D.trys.pop();continue}C=y.call(m,D)}catch(m){C=[6,m],_=0}finally{b=$=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([C,I])}}},P=function(m){function Texts(){return null!==m&&m.apply(this,arguments)||this}return M(Texts,m),Texts}($.d),R=function(m){function ClassList(){var y=null!==m&&m.apply(this,arguments)||this;return y.autocompleteList="autoComplete autoComplete--tags rlist",y.autocompleteItem="autoComplete__item my-2",y.hidden="hidden",y}return M(ClassList,m),ClassList}($.d),N=function(m){function Selectors(){var y=null!==m&&m.apply(this,arguments)||this;return y.autoComplete=".autoComplete",y.autoCompleteWrapper=".autoComplete_wrapper",y}return M(Selectors,m),Selectors}($.f),U=function(m){function Elements(){return null!==m&&m.apply(this,arguments)||this}return M(Elements,m),Elements}($.b),H=function(){function AdvancedSearchAutoComplete(m,y){this.filters=m,this.stateChanged=y,this.placeHolders=new Map,this.results=[],this.filters=m,this.stateChanged=y,this.autoCompletes=[],this._configs=this.configs}return Object.defineProperty(AdvancedSearchAutoComplete.prototype,"configs",{get:function(){return{maxWords:200,maxChars:222,url:"/action/doSuggest"}},enumerable:!1,configurable:!0}),Object.defineProperty(AdvancedSearchAutoComplete.prototype,"options",{get:function(){return{method:"GET",valueField:"value",autoSelect:!1,allowFreeEntries:!1,displayField:"label",cls:"pr-4"}},enumerable:!1,configurable:!0}),Object.defineProperty(AdvancedSearchAutoComplete.prototype,"localURL",{get:function(){return"/specs/libraries/ui-core/widgets/advanced-search/ajax/data.json"},enumerable:!1,configurable:!0}),AdvancedSearchAutoComplete.prototype.elementRenderer=function(m,y){var b=document.createElement("a");b.href=y.value.url,b.innerHTML="<span>"+y.value.highlight+"</span>",b.className="autoComplete__link",m.setAttribute("aria-label",b.innerText),m.innerHTML="",m.appendChild(b),b.addEventListener("click",(function(m){m.preventDefault()}))},AdvancedSearchAutoComplete.prototype.initialize=function(){this.addEventListeners()},AdvancedSearchAutoComplete.prototype.addEventListeners=function(){this.filters.forEach(this.initAutoComplete.bind(this))},AdvancedSearchAutoComplete.prototype.urlWithQuery=function(m){var y=m.value.trim().replace(/\s\s+/g," "),b=this.configs,_=b.maxWords,$=b.maxChars,C=b.url;if(y.split(" ").length>=_||y.length>=$)return"";var D=m.dataset,I=D.autoCompleteTarget,M=D.autoCompleteWithin,P="?target="+I+"&query="+encodeURIComponent(y);return M&&(P=P+"&within="+M),""+C+P},AdvancedSearchAutoComplete.prototype.buildConfigs=function(m,y){var b=this;return{data:{src:function(){return __awaiter(b,void 0,void 0,(function(){var y;return __generator(this,(function(b){switch(b.label){case 0:return y=this.urlWithQuery(m),[4,fetch(y)];case 1:return[4,b.sent().json()];case 2:return[2,b.sent()]}}))}))},cache:!1},selector:function(){return m},resultsList:{render:!0,idName:"autoComplete-"+y,class:this.classList.autocompleteList,maxResults:10},resultItem:{class:this.classList.autocompleteItem,element:this.elementRenderer.bind(this)},highlight:!1,sort:!1,threshold:2,preselectedItems:this.itemPreselectedValues(m),searchEngine:null,onTagRemoved:null}},AdvancedSearchAutoComplete.prototype.itemPreselectedValues=function(m){var y=m.dataset.values;return y?JSON.parse(y):[]},AdvancedSearchAutoComplete.prototype.createAutoCompleteInstance=function(m,y){return new I(m,y)},AdvancedSearchAutoComplete.prototype.initAutoComplete=function(m,y){var b,_=this,$=this.buildConfigs(m,y);$.searchEngine=function(m,y){return _.onSearchEngine(C,m,y)},$.onTagRemoved=function(){return _.onTagRemoved(C)};var C=this.createAutoCompleteInstance($,m);this.placeHolders.set(m,m.placeholder),this.autoCompletes.push(C),null===(b=this.domUtils.closest(this.selectors.autoCompleteWrapper,m))||void 0===b||b.addEventListener("click",this.onAutoCompleteFocus.bind(this,m)),this.onTagValuesChange(C),m.addEventListener("blur",this.onBlur.bind(this,C,m)),m.addEventListener("selection",this.onSelection.bind(this,C,m)),m.addEventListener("results",this.onResults.bind(this))},AdvancedSearchAutoComplete.prototype.onSearchEngine=function(m,y,b){return m.tagValues.find((function(m){var y=m[0];return b.value==y.value}))?null:b.highlight||b.label},AdvancedSearchAutoComplete.prototype.onTagRemoved=function(m){this.onTagValuesChange(m),this.stateChanged()},AdvancedSearchAutoComplete.prototype.onAutoCompleteFocus=function(m){m.focus(),m.parentElement.scrollTop=m.parentElement.scrollHeight},AdvancedSearchAutoComplete.prototype.onTagValuesChange=function(m){var y=m.field;m.tagValues.length?(y.removeAttribute("placeholder"),y.style.width="auto"):(y.setAttribute("placeholder",this.placeHolders.get(y)),y.style.width="100%")},AdvancedSearchAutoComplete.prototype.onBlur=function(m,y,b){if(b.relatedTarget&&b.relatedTarget.closest(this.selectors.autoComplete))return y.value=null,void(this.results=[]);if(this.results.length&&1===this.results.length){var _=this.results.pop().value,$=_.label,C=_.value;m.createTagValue($,C)}y.value="",this.results=[]},AdvancedSearchAutoComplete.prototype.onSelection=function(m,y,b){var _=b.detail.selection.value,$=_.label,C=_.value;m.createTagValue($,C),y.value="",this.domUtils.toggleClasses(m.tagsPosition,this.classList.hidden,!m.tagValues.length),this.onTagValuesChange(m),this.stateChanged()},AdvancedSearchAutoComplete.prototype.onResults=function(m){var y=m.detail;this.results=y.results},AdvancedSearchAutoComplete=__decorate([Object($.c)(N,U,R,P),__metadata("design:paramtypes",[Array,Function])],AdvancedSearchAutoComplete)}(),B=function(){var extendStatics=function(m,y){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(m[b]=y[b])})(m,y)};return function(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function __(){this.constructor=m}extendStatics(m,y),m.prototype=null===y?Object.create(y):(__.prototype=y.prototype,new __)}}(),__assign=function(){return(__assign=Object.assign||function(m){for(var y,b=1,_=arguments.length;b<_;b++)for(var $ in y=arguments[b])Object.prototype.hasOwnProperty.call(y,$)&&(m[$]=y[$]);return m}).apply(this,arguments)},_autocomplete_decorate=function(m,y,b,_){var $,C=arguments.length,D=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(m,y,b,_);else for(var I=m.length-1;I>=0;I--)($=m[I])&&(D=(C<3?$(D):C>3?$(y,b,D):$(y,b))||D);return C>3&&D&&Object.defineProperty(y,b,D),D},_autocomplete_awaiter=function(m,y,b,_){return new(b||(b=Promise))((function($,C){function fulfilled(m){try{step(_.next(m))}catch(m){C(m)}}function rejected(m){try{step(_.throw(m))}catch(m){C(m)}}function step(m){m.done?$(m.value):function adopt(m){return m instanceof b?m:new b((function(y){y(m)}))}(m.value).then(fulfilled,rejected)}step((_=_.apply(m,y||[])).next())}))},_autocomplete_generator=function(m,y){var b,_,$,C,D={label:0,sent:function(){if(1&$[0])throw $[1];return $[1]},trys:[],ops:[]};return C={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(C[Symbol.iterator]=function(){return this}),C;function verb(C){return function(I){return function step(C){if(b)throw new TypeError("Generator is already executing.");for(;D;)try{if(b=1,_&&($=2&C[0]?_.return:C[0]?_.throw||(($=_.return)&&$.call(_),0):_.next)&&!($=$.call(_,C[1])).done)return $;switch(_=0,$&&(C=[2&C[0],$.value]),C[0]){case 0:case 1:$=C;break;case 4:return D.label++,{value:C[1],done:!1};case 5:D.label++,_=C[1],C=[0];continue;case 7:C=D.ops.pop(),D.trys.pop();continue;default:if(!($=D.trys,($=$.length>0&&$[$.length-1])||6!==C[0]&&2!==C[0])){D=0;continue}if(3===C[0]&&(!$||C[1]>$[0]&&C[1]<$[3])){D.label=C[1];break}if(6===C[0]&&D.label<$[1]){D.label=$[1],$=C;break}if($&&D.label<$[2]){D.label=$[2],D.ops.push(C);break}$[2]&&D.ops.pop(),D.trys.pop();continue}C=y.call(m,D)}catch(m){C=[6,m],_=0}finally{b=$=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([C,I])}}},z=function(m){function Texts(){var y=null!==m&&m.apply(this,arguments)||this;return y.maxResults=10,y.noResults="No suggestions",y.maxResultsMessage="You cannot choose more than "+y.maxResults+" items",y}return B(Texts,m),Texts}(P),q=function(m){function ClassList(){var y=null!==m&&m.apply(this,arguments)||this;return y.autocompleteItem="autoComplete__item",y.autoCompleteWrapper=".autoComplete_wrapper",y.autoCompleteTag=".autoComplete__tag",y.msHelperClass="ms-helper",y.msHelperClassApeend="ms-helper_append",y}return B(ClassList,m),ClassList}(R),W=function(m){function Selectors(){var y=null!==m&&m.apply(this,arguments)||this;return y.autoComplereWrapperParent=".advanced-search__autocomplete__wrapper",y.msHelperClass=".ms-helper",y}return B(Selectors,m),Selectors}(N),X=function(m){function Elements(){return null!==m&&m.apply(this,arguments)||this}return B(Elements,m),Elements}(U),V=function(m){function AdvancedSearchAutoComplete(){var y=null!==m&&m.apply(this,arguments)||this;return y.currentController=null,y.callbackMap=new Map,y}return B(AdvancedSearchAutoComplete,m),AdvancedSearchAutoComplete.prototype.buildConfigs=function(y,b){var _=this;return __assign(__assign({},m.prototype.buildConfigs.call(this,y,b)),{resultsList:{render:!0,idName:"autoComplete-"+b,class:this.classList.autocompleteList,maxResults:this.texts.maxResults},data:{src:function(){return _autocomplete_awaiter(_,void 0,void 0,(function(){var m;return _autocomplete_generator(this,(function(b){switch(b.label){case 0:return this.currentController&&(this.currentController.abort(),this.currentController=new AbortController),this.currentController=new AbortController,m=this.urlWithQuery(y),[4,fetch(m,{signal:this.currentController.signal})];case 1:return[4,b.sent().json()];case 2:return[2,b.sent()]}}))}))},cache:!1},threshold:0})},AdvancedSearchAutoComplete.prototype.onTagValuesChange=function(m){var y=m.field,b=m.tagValues.length,_=this.domUtils.closest(this.classList.autoCompleteWrapper,y),$=this.domUtils.closest(this.selectors.autoComplereWrapperParent,y);b?(y.removeAttribute("placeholder"),y.style.width="auto"):(y.setAttribute("placeholder",this.placeHolders.get(y)),y.style.width="100%"),this.areTagsFull(b)&&(this.disAllowInputTyping(y,"add"),this.renderMsHelper(this.texts.maxResultsMessage,$)),_.nextElementSibling&&!this.areTagsFull(b)&&(this.disAllowInputTyping(y,"remove"),this.removeMsHelper($))},AdvancedSearchAutoComplete.prototype.disAllowInputTyping=function(m,y){var callback=function(m){"Backspace"!==m.code&&m.preventDefault()};if("add"===y)this.domUtils.addEventListener(m,"keydown",callback),this.callbackMap.set(m,callback);else{var b=this.callbackMap.get(m);b&&(this.domUtils.removeEventListener(m,"keydown",b),this.callbackMap.delete(m))}},AdvancedSearchAutoComplete.prototype.onResults=function(y){var b;m.prototype.onResults.call(this,y);var _=y.target,$=this.domUtils.closest(this.selectors.autoComplereWrapperParent,_),C=this.domUtils.getElements(this.classList.autoCompleteTag,$).length;y.detail.results.length||""===(null===(b=_.value)||void 0===b?void 0:b.trim())?this.areTagsFull(C)||this.removeMsHelper($):this.renderMsHelper(this.texts.noResults,$)},AdvancedSearchAutoComplete.prototype.renderMsHelper=function(m,y){if(!this.domUtils.getElement(this.selectors.msHelperClass,y)){var b=document.createElement("span");this.domUtils.addClasses(b,this.classList.msHelperClass,this.classList.msHelperClassApeend),b.textContent=m,y.appendChild(b)}},AdvancedSearchAutoComplete.prototype.removeMsHelper=function(m){var y=this.domUtils.getElement(this.selectors.msHelperClass,m);null==y||y.remove()},AdvancedSearchAutoComplete.prototype.onSelection=function(m,y,b){if(!this.areTagsFull(m.tagValues.length)){var _=b.detail.selection.value,$=_.label,C=_.value;m.createTagValue($,C),this.domUtils.toggleClasses(m.tagsPosition,this.classList.hidden,!m.tagValues.length),this.onTagValuesChange(m),this.stateChanged(),"publication"!==y.id&&(y.value=""),"publication"===y.id&&(this.setObserver(m,b),this.setArrowNavigationEvent(m,y))}},AdvancedSearchAutoComplete.prototype.onSearchEngine=function(m,y,b){if(!this.areTagsFull(m.tagValues.length)){var _,$;return!m.tagValues.find((function(m){var y=m[0];return b.value==y.value}))&&y.trim()&&($=(b.highlight||b.label).split(" ").join(""),null===(_=null==$?void 0:$.toLowerCase())||void 0===_?void 0:_.includes(null==y?void 0:y.split(" ").join("").toLowerCase()))?b.highlight||b.labe:null}},AdvancedSearchAutoComplete.prototype.setObserver=function(m,y){var b=m.list,_=new MutationObserver((function(){m.open(),m.list.childNodes[y.detail.selection.index].style.display="none",_.disconnect()}));_.observe(b,{attributes:!0})},AdvancedSearchAutoComplete.prototype.setArrowNavigationEvent=function(m,y){y.addEventListener("keydown",(function(b){if("ArrowUp"===b.key||"ArrowDown"===b.key){var _=y.getAttribute("aria-activedescendant"),$=m.list.querySelector("#"+_);if("none"!==(null==$?void 0:$.style.display))return;"ArrowDown"===b.key&&m.next(),"ArrowUp"===b.key&&m.previous()}}))},AdvancedSearchAutoComplete.prototype.onBlur=function(m,y,b){if(b.relatedTarget&&b.relatedTarget.closest(this.selectors.autoComplete))return y.value=null,void(this.results=[]);y.value="",this.results=[]},AdvancedSearchAutoComplete.prototype.areTagsFull=function(m){return m===this.texts.maxResults},AdvancedSearchAutoComplete=_autocomplete_decorate([Object($.c)(W,X,q,z)],AdvancedSearchAutoComplete)}(H),G=function(){var extendStatics=function(m,y){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(m[b]=y[b])})(m,y)};return function(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function __(){this.constructor=m}extendStatics(m,y),m.prototype=null===y?Object.create(y):(__.prototype=y.prototype,new __)}}(),tabular_decorate=function(m,y,b,_){var $,C=arguments.length,D=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(m,y,b,_);else for(var I=m.length-1;I>=0;I--)($=m[I])&&(D=(C<3?$(D):C>3?$(y,b,D):$(y,b))||D);return C>3&&D&&Object.defineProperty(y,b,D),D},tabular_metadata=function(m,y){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(m,y)},Y=function(m){function Texts(){return null!==m&&m.apply(this,arguments)||this}return G(Texts,m),Texts}($.d),K=function(m){function ClassList(){var y=null!==m&&m.apply(this,arguments)||this;return y.keywordField="text",y.typeField="searchArea",y.hide="hidden",y}return G(ClassList,m),ClassList}($.d),Q=function(m){function Selectors(){var y=null!==m&&m.apply(this,arguments)||this;return y.searchInFields=".advanced-search__search-in",y.add=".advanced-search__search-in__add",y.remove=".advanced-search__search-in__remove",y.keywordField="input",y.typeField="select",y.searchInFieldWrapper=new $.e(".advanced-search__search-in__term"),y}return G(Selectors,m),Selectors}($.f),J=function(m){function Elements(){var y=null!==m&&m.apply(this,arguments)||this;return y.searchInFieldWrapper=[],y}return G(Elements,m),Object.defineProperty(Elements.prototype,"searchInField",{get:function(){return this._searchInField},set:function(m){this._searchInField=m,this.currentAddButton=this.getAddButton(m),this.currentRemoveButton=this.getRemoveButton(m)},enumerable:!1,configurable:!0}),Elements.prototype.getAddButton=function(m){return this.domUtils.getElement(this.selectors.add,m)},Elements.prototype.getRemoveButton=function(m){return this.domUtils.getElement(this.selectors.remove,m)},Object.defineProperty(Elements.prototype,"searchInFields",{get:function(){return this.domUtils.getElements(this.selectors.searchInFieldWrapper.selector,this.wrapper)},enumerable:!1,configurable:!0}),Elements}($.b),Z=function(){function AdvancedSearchTabular(m,y){this.wrapper=m,this.onChanged=y,this.searchTermsAligner=function(m){m.forEach((function(m,y){var b,_,$,C=null===(b=null==m?void 0:m.querySelector(".advanced-search__select"))||void 0===b?void 0:b.previousElementSibling,D=(null==m?void 0:m.querySelector(".advanced-search__search-term"))?null===(_=null==m?void 0:m.querySelector(".advanced-search__search-term"))||void 0===_?void 0:_.previousElementSibling:null===($=null==m?void 0:m.querySelector(".advanced-search__input"))||void 0===$?void 0:$.previousElementSibling,I=null==m?void 0:m.querySelector(".advanced-search__search-in__remove");C&&(C.innerHTML="Context for search term "+(y+1)),D&&(D.innerHTML="Search term "+(y+1)),null==I||I.setAttribute("aria-label","Remove search field "+(y+1))}))}}return Object.defineProperty(AdvancedSearchTabular.prototype,"fieldNames",{get:function(){return{input:"text",dropdown:"field"}},enumerable:!1,configurable:!0}),AdvancedSearchTabular.prototype.initialize=function(){this.elements.initialize(this.wrapper),this.addEventListeners(),this.toggleButtons()},AdvancedSearchTabular.prototype.addEventListeners=function(){var m=this;this.elements.searchInField?this.setSearchInFieldsEvents(this.elements.searchInField):this.elements.searchInFieldWrapper.forEach((function(y){m.elements.currentAddButton=m.elements.getAddButton(y),m.elements.currentRemoveButton=m.elements.getRemoveButton(y),m.setSearchInFieldsEvents(y)}))},AdvancedSearchTabular.prototype.setSearchInFieldsEvents=function(m){this.domUtils.addEventListener(m,"input",this.onChanged.bind(this)),this.domUtils.addEventListener(this.elements.currentAddButton,"click",this.clone.bind(this)),this.domUtils.addEventListener(this.elements.currentRemoveButton,"click",this.remove.bind(this)),this.domUtils.addEventListener(this.elements.currentAddButton,"keydown",this.onKeyDownAdd.bind(this)),this.domUtils.addEventListener(this.elements.currentRemoveButton,"keydown",this.onKeyDownRemove.bind(this))},AdvancedSearchTabular.prototype.onKeyDownAdd=function(m){13===m.keyCode&&this.clone(m)},AdvancedSearchTabular.prototype.onKeyDownRemove=function(m){13===m.keyCode&&this.remove(m)},AdvancedSearchTabular.prototype.clone=function(m){var y;m.stopPropagation(),m.preventDefault();var b=document.createElement("div");b.innerHTML=null===(y=this.elements.searchInFieldWrapper[0])||void 0===y?void 0:y.outerHTML;var _=this.domUtils.getElement(this.selectors.searchInFieldWrapper.selector,b);_.querySelector("input").removeAttribute("value"),this.wrapper.insertAdjacentElement("beforeend",_),this.elements.searchInField=_,this.addEventListeners(),this.toggleButtons();var $=this.elements.searchInField,C=null==$?void 0:$.querySelector('select[id^="searchArea"]');null==C||C.focus()},AdvancedSearchTabular.prototype.remove=function(m){var y;m.stopPropagation(),m.preventDefault();var b,_,$=m.currentTarget.closest(this.selectors.searchInFieldWrapper.selector),C=this.elements.wrapper.querySelectorAll(this.selectors.searchInFieldWrapper.selector),D=null===(y=Array.from(C))||void 0===y?void 0:y.filter((function(m){return m!==$}));null==C||C.forEach((function(m,y){if(m===$){var D=0===y?C[y+1]:C[y-1];null==(_=(null==(b=D)?void 0:b.querySelector("a.advanced-search__search-in__remove:not(.hidden)"))?null==b?void 0:b.querySelector("a.advanced-search__search-in__remove:not(.hidden)"):null==b?void 0:b.querySelector("a.advanced-search__search-in__add:not(.hidden)"))||_.setAttribute("tabindex","0")}else null==m||m.removeAttribute("tabindex")})),null==_||_.focus(),null==$||$.remove(),this.searchTermsAligner(D),this.toggleButtons()},AdvancedSearchTabular.prototype.toggleButtons=function(){var m=this,y=this.elements.searchInFields;y.forEach((function(b,_){var $,C,D;m.changeFieldAttributes(b,_);var I=m.elements.getAddButton(b),M=m.elements.getRemoveButton(b),P=null===($=null==b?void 0:b.querySelector(".advanced-search__select"))||void 0===$?void 0:$.previousElementSibling,R=(null==b?void 0:b.querySelector(".advanced-search__search-term"))?null===(C=null==b?void 0:b.querySelector(".advanced-search__search-term"))||void 0===C?void 0:C.previousElementSibling:null===(D=null==b?void 0:b.querySelector(".advanced-search__input"))||void 0===D?void 0:D.previousElementSibling;_===y.length-1?(null==M||M.classList.add(m.classList.hide),null==I||I.classList.remove(m.classList.hide),P&&(P.innerHTML="Context for search term "+(_+1)),R&&(R.innerHTML="Search term "+(_+1)),null==M||M.setAttribute("aria-label","Remove search field "+(_+1)),null==I||I.setAttribute("aria-label","Add new row")):(null==I||I.classList.add(m.classList.hide),null==M||M.classList.remove(m.classList.hide))}))},AdvancedSearchTabular.prototype.changeFieldAttributes=function(m,y){var b=this.domUtils.getElement(this.selectors.typeField,m),_=this.domUtils.getElement(this.selectors.keywordField,m),$=this.domUtils.getElements("label",m),C=y+1;_.name=this.fieldNames.input+C,b.name=this.fieldNames.dropdown+C,_.id=this.classList.keywordField+C,b.id=this.classList.typeField+C,$.forEach((function(m){m.getAttribute("for").includes("text")?m.setAttribute("for","text"+C):m.setAttribute("for","searchArea"+C)}))},AdvancedSearchTabular=tabular_decorate([Object($.c)(Q,J,K,Y),tabular_metadata("design:paramtypes",[HTMLElement,Function])],AdvancedSearchTabular)}(),ee=function(){var extendStatics=function(m,y){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(m[b]=y[b])})(m,y)};return function(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function __(){this.constructor=m}extendStatics(m,y),m.prototype=null===y?Object.create(y):(__.prototype=y.prototype,new __)}}(),js_tabular_decorate=function(m,y,b,_){var $,C=arguments.length,D=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(m,y,b,_);else for(var I=m.length-1;I>=0;I--)($=m[I])&&(D=(C<3?$(D):C>3?$(y,b,D):$(y,b))||D);return C>3&&D&&Object.defineProperty(y,b,D),D},te=function(m){function Texts(){return null!==m&&m.apply(this,arguments)||this}return ee(Texts,m),Texts}(Y),ie=function(m){function ClassList(){return null!==m&&m.apply(this,arguments)||this}return ee(ClassList,m),ClassList}(K),oe=function(m){function Selectors(){var y=null!==m&&m.apply(this,arguments)||this;return y.searchInTargetParent=".advanced-search__search-in__term",y}return ee(Selectors,m),Selectors}(Q),re=function(m){function Elements(){return null!==m&&m.apply(this,arguments)||this}return ee(Elements,m),Elements}(J),ae=function(m){function AdvancedSearchTabular(){return null!==m&&m.apply(this,arguments)||this}return ee(AdvancedSearchTabular,m),AdvancedSearchTabular.prototype.initialize=function(){m.prototype.initialize.call(this)},AdvancedSearchTabular.prototype.revertButton=function(m,y){var b=this.elements.getAddButton(m),_=this.elements.getRemoveButton(m);null==_||_.classList.remove(this.classList.hide),null==b||b.classList.add(this.classList.hide),"add"===y&&(null==_||_.classList.add(this.classList.hide),null==b||b.classList.remove(this.classList.hide))},AdvancedSearchTabular.prototype.clone=function(m){var y,b=this;if(m.stopPropagation(),m.preventDefault(),this.wrapper.childNodes.length<7){var _=m.target,$=this.domUtils.closest(this.selectors.searchInTargetParent,_),C=document.createElement("div");C.innerHTML=null===(y=this.elements.searchInFieldWrapper[0])||void 0===y?void 0:y.outerHTML;var D=this.domUtils.getElement(this.selectors.searchInFieldWrapper.selector,C);D.querySelector("input").removeAttribute("value"),this.wrapper.insertAdjacentElement("beforeend",D),this.elements.searchInField=D,this.addEventListeners(),7===this.elements.searchInFields.length?this.revertButton(this.elements.searchInField):this.revertButton(this.elements.searchInField,"add"),this.revertButton($),this.elements.searchInFields.forEach((function(m,y){b.changeFieldAttributes(m,y)}))}},AdvancedSearchTabular.prototype.remove=function(m){var y,b=this;if(m.stopPropagation(),m.preventDefault(),null===(y=m.currentTarget.closest(this.selectors.searchInFieldWrapper.selector))||void 0===y||y.remove(),6===this.wrapper.childNodes.length){var _=this.wrapper.childNodes[5];this.revertButton(_,"add")}this.elements.searchInFields.forEach((function(m,y){b.changeFieldAttributes(m,y)}))},AdvancedSearchTabular.prototype.toggleButtons=function(){var m=this,y=this.elements.searchInFields;y.forEach((function(b,_){m.changeFieldAttributes(b,_);var $=m.elements.getAddButton(b),C=m.elements.getRemoveButton(b);y.length<=2&&(null==C||C.classList.add(m.classList.hide),null==$||$.classList.remove(m.classList.hide)),(y.length>2&&0===_||_===y.length-1)&&(null==C||C.classList.add(m.classList.hide),null==$||$.classList.remove(m.classList.hide))}))},AdvancedSearchTabular=js_tabular_decorate([Object($.c)(oe,re,ie,te)],AdvancedSearchTabular)}(Z),le=function(){var extendStatics=function(m,y){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(m[b]=y[b])})(m,y)};return function(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function __(){this.constructor=m}extendStatics(m,y),m.prototype=null===y?Object.create(y):(__.prototype=y.prototype,new __)}}(),range_fields_decorate=function(m,y,b,_){var $,C=arguments.length,D=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(m,y,b,_);else for(var I=m.length-1;I>=0;I--)($=m[I])&&(D=(C<3?$(D):C>3?$(y,b,D):$(y,b))||D);return C>3&&D&&Object.defineProperty(y,b,D),D},range_fields_metadata=function(m,y){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(m,y)},ce=function(m){function Texts(){return null!==m&&m.apply(this,arguments)||this}return le(Texts,m),Texts}($.d),de=function(m){function ClassList(){return null!==m&&m.apply(this,arguments)||this}return le(ClassList,m),ClassList}($.d),ue=function(m){function Selectors(){var y=null!==m&&m.apply(this,arguments)||this;return y.rangeField=new $.e(".timeframe__static-range"),y.customRange=new $.e(".timeframe__custom-range-filter"),y.customRangeRadio=new $.e("#customRange"),y.radios=new $.e(".radio--primary input"),y.selects=new $.e("select"),y}return le(Selectors,m),Selectors}($.f),he=function(m){function Elements(){var y=null!==m&&m.apply(this,arguments)||this;return y.radios=[],y.selects=[],y}return le(Elements,m),Object.defineProperty(Elements.prototype,"oldRadio",{get:function(){return this._oldRadio},set:function(m){this._oldRadio=m,this.disabledAllFields();var y=m.closest(this.selectors.rangeField.selector+", "+this.selectors.customRange.selector);this.enableSiblingFields(y)},enumerable:!1,configurable:!0}),Elements.prototype.disabledAllFields=function(){this.selects.forEach((function(m){m.setAttribute("disabled","true")}))},Elements.prototype.enableSiblingFields=function(m){m&&this.domUtils.getElements(this.selectors.selects.selector,m).forEach((function(m){m.removeAttribute("disabled")}))},Elements}($.b),pe=function(){function AdvancedSearchRangeFields(m,y){this.wrapper=m,this.onChanged=y}return AdvancedSearchRangeFields.prototype.initialize=function(){this.wrapper&&(this.elements.initialize(this.wrapper),this.addEventListeners())},AdvancedSearchRangeFields.prototype.addEventListeners=function(){var m=this;this.elements.radios.forEach((function(y){m.domUtils.addEventListener(y,"click",m.onChange.bind(m,y))})),this.elements.selects.forEach((function(y){m.domUtils.addEventListener(y,"change",m.onChanged)}))},AdvancedSearchRangeFields.prototype.onChange=function(m,y){m!==this.elements.oldRadio&&(this.elements.oldRadio=m,this.onChanged(y))},AdvancedSearchRangeFields.prototype.shouldDisable=function(){var m,y,b={fromYear:0,fromMonth:0,toYear:0,toMonth:0};this.elements.selects.forEach((function(m){b.hasOwnProperty(m.id)&&(b[m.id]=parseInt(m.value))}));var _=b.fromYear,$=b.fromMonth,C=b.toYear,D=b.toMonth,I=null!==(y=null===(m=this.elements.customRangeRadio)||void 0===m?void 0:m.checked)&&void 0!==y&&y,M=Object.values(b).some((function(m){return isNaN(m)}));return I&&(M||(C<_||C===_&&D<$))},AdvancedSearchRangeFields=range_fields_decorate([Object($.c)(ue,he,de,ce),range_fields_metadata("design:paramtypes",[HTMLElement,Function])],AdvancedSearchRangeFields)}(),fe=function(){var extendStatics=function(m,y){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(m[b]=y[b])})(m,y)};return function(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function __(){this.constructor=m}extendStatics(m,y),m.prototype=null===y?Object.create(y):(__.prototype=y.prototype,new __)}}(),advanced_search_decorate=function(m,y,b,_){var $,C=arguments.length,D=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(m,y,b,_);else for(var I=m.length-1;I>=0;I--)($=m[I])&&(D=(C<3?$(D):C>3?$(y,b,D):$(y,b))||D);return C>3&&D&&Object.defineProperty(y,b,D),D},advanced_search_metadata=function(m,y){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(m,y)},ge=function(m){function Texts(){return null!==m&&m.apply(this,arguments)||this}return fe(Texts,m),Texts}($.d),me=function(m){function ClassList(){return null!==m&&m.apply(this,arguments)||this}return fe(ClassList,m),ClassList}($.d),ve=function(m){function Selectors(){var y=null!==m&&m.apply(this,arguments)||this;return y.searchInFields=new $.e(".advanced-search__search-in"),y.searchInInputs=".advanced-search__input",y.rangeField=new $.e(".advanced-search__timeframe"),y.submitButton=new $.e("#advanced-search-btn","document"),y.autoCompleteFields=new $.e(".advanced-search__autocomplete"),y.advancedFiltersRadioInputs='.advanced-search__advanced-filters .radio--primary input[type="radio"]',y}return fe(Selectors,m),Selectors}($.f),ye=function(m){function Elements(){var y=null!==m&&m.apply(this,arguments)||this;return y.autoCompleteFields=[],y}return fe(Elements,m),Elements}($.b),be=function(){function AdvancedSearch(m){this.wrapper=m}return AdvancedSearch.prototype.initialize=function(){this.elements.initialize(this.wrapper),this.addEventListeners()},AdvancedSearch.prototype.addEventListeners=function(){this.initTabular(),this.initRange(),this.initAutoComplete(),this.setSubmitButtonState(),this.setResetButtonListener(),this.selectAdvancedFiltersRadioInput()},AdvancedSearch.prototype.initTabular=function(){this.tabularListener=new Z(this.elements.searchInFields,this.setSubmitButtonState.bind(this)),this.tabularListener.initialize()},AdvancedSearch.prototype.initRange=function(){this.rangeFieldListener=new pe(this.elements.rangeField,this.setSubmitButtonState.bind(this)),this.rangeFieldListener.initialize()},AdvancedSearch.prototype.initAutoComplete=function(){this.browserUtils.isIE||(this.autoCompleteListener=new H(this.elements.autoCompleteFields,this.setSubmitButtonState.bind(this)),this.autoCompleteListener.initialize())},AdvancedSearch.prototype.setSubmitButtonState=function(m){var y=this.hasEmptyFields()&&this.hasEmptySuggestions()||this.rangeFieldListener.shouldDisable();y?this.elements.submitButton.setAttribute("disabled",""+y):this.elements.submitButton.removeAttribute("disabled")},AdvancedSearch.prototype.selectAdvancedFiltersRadioInput=function(m){var y=this.domUtils.getElements(this.selectors.advancedFiltersRadioInputs);y.forEach((function(m){m.addEventListener("change",(function(m){y.forEach((function(m){m.checked=!1})),m.target.checked=!0}))}))},AdvancedSearch.prototype.hasEmptyFields=function(){var m=this.domUtils.getElements(this.selectors.searchInInputs,this.elements.searchInFields);return m.filter((function(m){return!m.value})).length===m.length},AdvancedSearch.prototype.hasEmptySuggestions=function(){if(!this.autoCompleteListener)return!0;var m=this.autoCompleteListener.autoCompletes;return!m.length||0===m.filter((function(m){return m.getValues().length>0})).length},AdvancedSearch.prototype.setResetButtonListener=function(){var m=this;this.wrapper.addEventListener("reset",(function(y){var b;y.preventDefault(),m.tabularListener.elements.searchInFields.forEach((function(y,b){0===b?(m.domUtils.getElement("input",y).value="",m.domUtils.getElement("select",y).selectedIndex=0):y.remove()})),m.tabularListener.toggleButtons(),null===(b=m.rangeFieldListener.elements.radios[0])||void 0===b||b.click(),m.autoCompleteListener.autoCompletes.forEach((function(m){m.removeAllTags()}))}))},advanced_search_decorate([Object($.i)(),advanced_search_metadata("design:type",$.a)],AdvancedSearch.prototype,"browserUtils",void 0),AdvancedSearch=advanced_search_decorate([Object($.c)(ve,ye,me,ge),advanced_search_metadata("design:paramtypes",[HTMLElement])],AdvancedSearch)}(),_e=function(){var extendStatics=function(m,y){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(m[b]=y[b])})(m,y)};return function(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function __(){this.constructor=m}extendStatics(m,y),m.prototype=null===y?Object.create(y):(__.prototype=y.prototype,new __)}}(),js_advanced_search_decorate=function(m,y,b,_){var $,C=arguments.length,D=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(m,y,b,_);else for(var I=m.length-1;I>=0;I--)($=m[I])&&(D=(C<3?$(D):C>3?$(y,b,D):$(y,b))||D);return C>3&&D&&Object.defineProperty(y,b,D),D},we=function(m){function Texts(){return null!==m&&m.apply(this,arguments)||this}return _e(Texts,m),Texts}(ge),$e=function(m){function ClassList(){return null!==m&&m.apply(this,arguments)||this}return _e(ClassList,m),ClassList}(me),Ce=function(m){function Selectors(){var y=null!==m&&m.apply(this,arguments)||this;return y.openAccessRadioBtn=new $.e("#openAccess"),y.openAccessHiddenInput=new $.e("input.open-access_hidden-input"),y.excludedAuthorChoiceHidInput=new $.e("input.excluded-author-choice_hid-input"),y.excludedEditorChoiceHidInput=new $.e("input.excluded-editor-choice_hid-input"),y.authorChoiceCheckbox=new $.e("input.author-choice"),y.editorChoiceCheckbox=new $.e("input.editor-choice"),y.accessTypeAdvancedSearchInput=new $.e('input[name="accessType"]'),y.searchTerms=new $.e(".advanced-search__filters .advanced-search__autocomplete"),y.includeTocsCheckbox=new $.e("#includeTocs"),y.includeAdsCheckbox=new $.e("#includeAds"),y.includeContentTypeA=new $.e("#cg-type-option-a"),y.includeContentTypeJ=new $.e("#cg-type-option-j"),y.slideContent=new $.e(".w-slide__content"),y.selectDrop=new $.e(".jcf-select-drop.jcf-select-jcf"),y.advanceSearchBtn=new $.e("#advanced-search-btn"),y.closeDropBlock=new $.e(".close-dropBlock"),y.dropBlockHolder=new $.e(".dropBlock__holder"),y.learnMore=new $.e(".learn-more a"),y.firstInput="#text1",y.refineAdvancedSearch=".search-result__meta .advancedSearch__tabs",y.refineSearchTrigger=".search-result__meta__top .advanced-search__ctrl",y.advancedSearchFrm=".advanced-search",y.sendSlideWrapper=".w-slide__content",y}return _e(Selectors,m),Selectors}(ve),ke=function(m){function Elements(){var y=null!==m&&m.apply(this,arguments)||this;return y.openAccessHiddenInput=[],y.excludedAuthorChoiceHidInput=[],y.excludedEditorChoiceHidInput=[],y.authorChoiceCheckbox=[],y.editorChoiceCheckbox=[],y.accessTypeAdvancedSearchInput=[],y.searchTerms=[],y}return _e(Elements,m),Elements}(ye),xe=function(m){function AdvancedSearch(){var y=null!==m&&m.apply(this,arguments)||this;return y.getUrlParameter=function getUrlParameter(m){var y,b,_=window.location.search.substring(1).split("&"),$="";for(b=0;b<_.length;b++)(y=_[b].split("="))[0]===m&&(""!==$?$+=void 0===y[1]||decodeURIComponent(y[1]):$=void 0===y[1]||decodeURIComponent(y[1]));return $},y}return _e(AdvancedSearch,m),AdvancedSearch.prototype.initialize=function(){m.prototype.initialize.call(this),this.setTheInputValAfterSearch()},AdvancedSearch.prototype.initTabular=function(){this.tabularListener=new ae(this.elements.searchInFields,this.setSubmitButtonState.bind(this)),this.tabularListener.initialize()},AdvancedSearch.prototype.initAutoComplete=function(){this.browserUtils.isIE||(this.autoCompleteListener=new V(this.elements.autoCompleteFields,this.setSubmitButtonState.bind(this)),this.autoCompleteListener.initialize(),this.allowEnddateBeforeStartDate())},AdvancedSearch.prototype.addEventListeners=function(){var y=this;m.prototype.addEventListeners.call(this),this.browserUtils.isIOS&&this.domUtils.addEventListener(this.elements.slideContent,"scroll",(function(){y.elements.selectDrop.remove()}));var b=this.domUtils.getElement(this.selectors.refineSearchTrigger);this.domUtils.addEventListener(b,"click",this.handleRefineSearchCollapse.bind(this)),this.domUtils.addEventListener(this.elements.closeDropBlock,"click",this.closeDropBlock.bind(this)),this.domUtils.addEventListener(this.elements.advanceSearchBtn,"click",this.handleSearchClick.bind(this)),this.domUtils.addEventListener(this.elements.accessTypeAdvancedSearchInput,"change",this.accessInputChangeHandler.bind(this)),this.elements.searchTerms.forEach((function(m){y.domUtils.addEventListener(m,"keydown",y.removeLastSuggest.bind(y))}))},AdvancedSearch.prototype.setTheInputValAfterSearch=function(){var m=this.getUrlParameter("accessType"),y=this.getUrlParameter("excludedCollection"),b=this.getUrlParameter("includeTocs"),_=this.getUrlParameter("includeAds"),$=this.getUrlParameter("ContentGroupType"),C=this.elements.editorChoiceCheckbox,D=this.elements.authorChoiceCheckbox;if(null!==m&&"openAccess"===m){var I=this.elements.openAccessRadioBtn;if(I&&(I.checked=!0),null!==y)switch(this.elements.openAccessHiddenInput.forEach((function(m){return m.removeAttribute("disabled")})),y){case"authorChoice":var M=this.elements.excludedAuthorChoiceHidInput;null==M||M.forEach((function(m){return m.removeAttribute("disabled")})),C.length&&C[0].checked;break;case"editorChoice":var P=this.elements.excludedEditorChoiceHidInput;null==P||P.forEach((function(m){return m.removeAttribute("disabled")})),D.length&&D[0].checked;default:null==M||M.forEach((function(m){return m.removeAttribute("disabled")})),null==P||P.forEach((function(m){return m.removeAttribute("disabled")})),C.length&&C[0].checked,D.length&&D[0].checked}}if("yes"===b&&this.elements.includeTocsCheckbox.setAttribute("checked","true"),"yes"===_&&this.elements.includeAdsCheckbox.setAttribute("checked","true"),$)switch($){case"a":this.elements.includeContentTypeA.setAttribute("checked","true");break;case"j":this.elements.includeContentTypeJ.setAttribute("checked","true");break;default:this.elements.includeContentTypeA.setAttribute("checked","true"),this.elements.includeContentTypeJ.setAttribute("checked","true")}},AdvancedSearch.prototype.handleSearchClick=function(){var m=this.domUtils.getElement(this.selectors.advancedSearchFrm),y=this.domUtils.getElements('input[type=hidden][name="publication[]"]',m),b=this.domUtils.getElements('input[type=hidden][name="SeriesKey"]',m);b.length&&(0===y.length?b.forEach((function(m){return m.remove()})):y.forEach((function(m){b.forEach((function(y){m.value===y.value&&y.remove()}))})))},AdvancedSearch.prototype.accessInputChangeHandler=function(m){var y=m.target,b=this.elements.openAccessHiddenInput;"allContent"===y.value?(b.forEach((function(m){return m.setAttribute("disabled","true")})),this.elements.excludedEditorChoiceHidInput.forEach((function(m){return m.setAttribute("disabled","true")})),this.elements.excludedAuthorChoiceHidInput.forEach((function(m){return m.setAttribute("disabled","true")}))):"openAccess"===y.value&&b.forEach((function(m){return m.removeAttribute("disabled")}))},AdvancedSearch.prototype.removeLastSuggest=function(m){var y=m.target;if("Backspace"===m.code&&""===y.value){var b=this.domUtils.getElements(".autoComplete__tag",y.parentElement);!b.length||b.length<1||this.domUtils.getElement("a",b[b.length-1]).click()}},AdvancedSearch.prototype.handleRefineSearchCollapse=function(m){m.preventDefault();var y=this.domUtils.getElement(this.selectors.refineSearchTrigger),b=this.domUtils.getElement(this.selectors.refineAdvancedSearch),_=window.matchMedia("(max-width: "+UX.grid.screenSm+"px)").matches;_||(this.domUtils.toggleClasses(y,"js--open"),this.domUtils.toggleClasses(b,"advancedSearch__tabs--hidden")),this.focusFirstInput(_)},AdvancedSearch.prototype.focusFirstInput=function(m){var y=this.domUtils.getElement(this.selectors.firstInput);if(m){var b=this.domUtils.getElement(this.selectors.sendSlideWrapper),_=new MutationObserver((function(){y.focus(),_.disconnect()}));_.observe(b,{childList:!0})}else y.focus()},AdvancedSearch.prototype.closeDropBlock=function(){this.domUtils.removeClasses(this.elements.dropBlockHolder,"js--open"),this.domUtils.removeClasses(this.elements.learnMore,"js--open")},AdvancedSearch.prototype.allowEnddateBeforeStartDate=function(){this.rangeFieldListener.shouldDisable=function(){var m,y,b={fromYear:0,fromMonth:0,toYear:0,toMonth:0};this.elements.selects.forEach((function(m){b.hasOwnProperty(m.id)&&(b[m.id]=parseInt(m.value))}));var _=null!==(y=null===(m=this.elements.customRangeRadio)||void 0===m?void 0:m.checked)&&void 0!==y&&y,$=Object.values(b).some((function(m){return isNaN(m)}));return _&&$}},AdvancedSearch=js_advanced_search_decorate([Object($.c)(Ce,ke,$e,we)],AdvancedSearch)}(be);y.a=xe},function(m,y,b){m.exports={screenXs:"532px",screenSm:"768px",screenMd:"992px",screenLg:"1200px",screenXlg:"1920px",containerMobile:"500px",containerXs:"500px",containerTablet:"736px",containerSm:"736px",containerDesktop:"960px",containerMd:"960px",containerLargeDesktop:"1080px",containerLg:"1080px",articleLg:"1320px"}},function(m,y){m.exports=function _arrayLikeToArray(m,y){(null==y||y>m.length)&&(y=m.length);for(var b=0,_=Array(y);b<y;b++)_[b]=m[b];return _},m.exports.__esModule=!0,m.exports.default=m.exports},function(m,y,b){var _=b(58);m.exports=function _unsupportedIterableToArray(m,y){if(m){if("string"==typeof m)return _(m,y);var b={}.toString.call(m).slice(8,-1);return"Object"===b&&m.constructor&&(b=m.constructor.name),"Map"===b||"Set"===b?Array.from(m):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?_(m,y):void 0}},m.exports.__esModule=!0,m.exports.default=m.exports},function(m,y){window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach)},function(m,y){"undefined"!=typeof Element&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(m){var y=this;do{if(y.matches(m))return y;y=y.parentElement||y.parentNode}while(null!==y&&1===y.nodeType);return null}))},function(m,y,b){var _=b(2).default,$=b(127);m.exports=function toPropertyKey(m){var y=$(m,"string");return"symbol"==_(y)?y:y+""},m.exports.__esModule=!0,m.exports.default=m.exports},function(m,y){self.fetch||(self.fetch=function(m,y){return y=y||{},new Promise((function(b,_){var $=new XMLHttpRequest,C=[],D=[],I={},M=function a(){return{ok:2==($.status/100|0),statusText:$.statusText,status:$.status,url:$.responseURL,text:function text(){return Promise.resolve($.responseText)},json:function json(){return Promise.resolve($.responseText).then(JSON.parse)},blob:function blob(){return Promise.resolve(new Blob([$.response]))},clone:M,headers:{keys:function keys(){return C},entries:function entries(){return D},get:function get(m){return I[m.toLowerCase()]},has:function has(m){return m.toLowerCase()in I}}}};for(var P in $.open(y.method||"get",m,!0),$.onload=function(){$.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(m,y,b){C.push(y=y.toLowerCase()),D.push([y,b]),I[y]=I[y]?I[y]+","+b:b})),b(M())},$.onerror=_,$.withCredentials="include"==y.credentials,y.headers)$.setRequestHeader(P,y.headers[P]);$.send(y.body||null)}))})},function(m,y,b){"use strict";var _=b(21),$=b(224),C=b(23),D=b(32),I=b(77),M=D.set,P=D.getterFor("Array Iterator");m.exports=I(Array,"Array",(function(m,y){M(this,{type:"Array Iterator",target:_(m),index:0,kind:y})}),(function(){var m=P(this),y=m.target,b=m.kind,_=m.index++;return!y||_>=y.length?(m.target=void 0,{value:void 0,done:!0}):"keys"==b?{value:_,done:!1}:"values"==b?{value:y[_],done:!1}:{value:[_,y[_]],done:!1}}),"values"),C.Arguments=C.Array,$("keys"),$("values"),$("entries")},function(m,y,b){var _=b(22),$=b(40);(m.exports=function(m,y){return $[m]||($[m]=void 0!==y?y:{})})("versions",[]).push({version:"3.19.0",mode:_?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},function(m,y,b){var _=b(3),$=b(39),C=_.Object;m.exports=function(m){return C($(m))}},function(m,y,b){var _=b(5),$=0,C=Math.random(),D=_(1..toString);m.exports=function(m){return"Symbol("+(void 0===m?"":m)+")_"+D(++$+C,36)}},function(m,y,b){var _=b(69),$=b(7);m.exports=!!Object.getOwnPropertySymbols&&!$((function(){var m=Symbol();return!String(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&_&&_<41}))},function(m,y,b){var _,$,C=b(3),D=b(27),I=C.process,M=C.Deno,P=I&&I.versions||M&&M.version,R=P&&P.v8;R&&($=(_=R.split("."))[0]>0&&_[0]<4?1:+(_[0]+_[1])),!$&&D&&(!(_=D.match(/Edge\/(\d+)/))||_[1]>=74)&&(_=D.match(/Chrome\/(\d+)/))&&($=+_[1]),m.exports=$},function(m,y,b){var _=b(68);m.exports=_&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(m,y,b){var _=b(13),$=b(7),C=b(29);m.exports=!_&&!$((function(){return 7!=Object.defineProperty(C("div"),"a",{get:function(){return 7}}).a}))},function(m,y,b){var _=b(226),$=b(73);m.exports=function(m){var y=_(m,"string");return $(y)?y:y+""}},function(m,y,b){var _=b(3),$=b(11),C=b(4),D=b(30),I=b(70),M=_.Object;m.exports=I?function(m){return"symbol"==typeof m}:function(m){var y=$("Symbol");return C(y)&&D(y.prototype,M(m))}},function(m,y,b){var _=b(5),$=b(8),C=b(21),D=b(229).indexOf,I=b(44),M=_([].push);m.exports=function(m,y){var b,_=C(m),P=0,R=[];for(b in _)!$(I,b)&&$(_,b)&&M(R,b);for(;y.length>P;)$(_,b=y[P++])&&(~D(R,b)||M(R,b));return R}},function(m,y,b){var _=b(231);m.exports=function(m){return _(m.length)}},function(m,y,b){var _=b(11);m.exports=_("document","documentElement")},function(m,y,b){"use strict";var _=b(16),$=b(10),C=b(22),D=b(78),I=b(4),M=b(237),P=b(48),R=b(50),N=b(49),U=b(15),H=b(17),B=b(6),z=b(23),q=b(81),W=D.PROPER,X=D.CONFIGURABLE,V=q.IteratorPrototype,G=q.BUGGY_SAFARI_ITERATORS,Y=B("iterator"),returnThis=function(){return this};m.exports=function(m,y,b,D,B,q,K){M(b,y,D);var Q,J,Z,getIterationMethod=function(m){if(m===B&&re)return re;if(!G&&m in ie)return ie[m];switch(m){case"keys":return function keys(){return new b(this,m)};case"values":return function values(){return new b(this,m)};case"entries":return function entries(){return new b(this,m)}}return function(){return new b(this)}},ee=y+" Iterator",te=!1,ie=m.prototype,oe=ie[Y]||ie["@@iterator"]||B&&ie[B],re=!G&&oe||getIterationMethod(B),ae="Array"==y&&ie.entries||oe;if(ae&&(Q=P(ae.call(new m)))!==Object.prototype&&Q.next&&(C||P(Q)===V||(R?R(Q,V):I(Q[Y])||H(Q,Y,returnThis)),N(Q,ee,!0,!0),C&&(z[ee]=returnThis)),W&&"values"==B&&oe&&"values"!==oe.name&&(!C&&X?U(ie,"name","values"):(te=!0,re=function values(){return $(oe,this)})),B)if(J={values:getIterationMethod("values"),keys:q?re:getIterationMethod("keys"),entries:getIterationMethod("entries")},K)for(Z in J)(G||te||!(Z in ie))&&H(ie,Z,J[Z]);else _({target:y,proto:!0,forced:G||te},J);return C&&!K||ie[Y]===re||H(ie,Y,re,{name:B}),z[y]=re,J}},function(m,y,b){var _=b(13),$=b(8),C=Function.prototype,D=_&&Object.getOwnPropertyDescriptor,I=$(C,"name"),M=I&&"something"===function something(){}.name,P=I&&(!_||_&&D(C,"name").configurable);m.exports={EXISTS:I,PROPER:M,CONFIGURABLE:P}},function(m,y,b){var _=b(8),$=b(234),C=b(47),D=b(18);m.exports=function(m,y){for(var b=$(y),I=D.f,M=C.f,P=0;P<b.length;P++){var R=b[P];_(m,R)||I(m,R,M(y,R))}}},function(m,y,b){var _=b(7),$=b(4),C=/#|\.prototype\./,isForced=function(m,y){var b=I[D(m)];return b==P||b!=M&&($(y)?_(y):!!y)},D=isForced.normalize=function(m){return String(m).replace(C,".").toLowerCase()},I=isForced.data={},M=isForced.NATIVE="N",P=isForced.POLYFILL="P";m.exports=isForced},function(m,y,b){"use strict";var _,$,C,D=b(7),I=b(4),M=b(28),P=b(48),R=b(17),N=b(6),U=b(22),H=N("iterator"),B=!1;[].keys&&("next"in(C=[].keys())?($=P(P(C)))!==Object.prototype&&(_=$):B=!0),null==_||D((function(){var m={};return _[H].call(m)!==m}))?_={}:U&&(_=M(_)),I(_[H])||R(_,H,(function(){return this})),m.exports={IteratorPrototype:_,BUGGY_SAFARI_ITERATORS:B}},function(m,y,b){var _=b(3);m.exports=_.Promise},function(m,y,b){var _=b(34),$=b(42),C=b(23),D=b(6)("iterator");m.exports=function(m){if(null!=m)return $(m,D)||$(m,"@@iterator")||C[_(m)]}},function(m,y,b){var _=b(9),$=b(250),C=b(6)("species");m.exports=function(m,y){var b,D=_(m).constructor;return void 0===D||null==(b=_(D)[C])?y:$(b)}},function(m,y,b){var _,$,C,D,I=b(3),M=b(252),P=b(52),R=b(4),N=b(8),U=b(7),H=b(76),B=b(86),z=b(29),q=b(87),W=b(53),X=I.setImmediate,V=I.clearImmediate,G=I.process,Y=I.Dispatch,K=I.Function,Q=I.MessageChannel,J=I.String,Z=0,ee={};try{_=I.location}catch(m){}var run=function(m){if(N(ee,m)){var y=ee[m];delete ee[m],y()}},runner=function(m){return function(){run(m)}},listener=function(m){run(m.data)},post=function(m){I.postMessage(J(m),_.protocol+"//"+_.host)};X&&V||(X=function setImmediate(m){var y=B(arguments,1);return ee[++Z]=function(){M(R(m)?m:K(m),void 0,y)},$(Z),Z},V=function clearImmediate(m){delete ee[m]},W?$=function(m){G.nextTick(runner(m))}:Y&&Y.now?$=function(m){Y.now(runner(m))}:Q&&!q?(D=(C=new Q).port2,C.port1.onmessage=listener,$=P(D.postMessage,D)):I.addEventListener&&R(I.postMessage)&&!I.importScripts&&_&&"file:"!==_.protocol&&!U(post)?($=post,I.addEventListener("message",listener,!1)):$="onreadystatechange"in z("script")?function(m){H.appendChild(z("script")).onreadystatechange=function(){H.removeChild(this),run(m)}}:function(m){setTimeout(runner(m),0)}),m.exports={set:X,clear:V}},function(m,y,b){var _=b(5);m.exports=_([].slice)},function(m,y,b){var _=b(27);m.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(_)},function(m,y,b){var _=b(9),$=b(12),C=b(25);m.exports=function(m,y){if(_(m),$(y)&&y.constructor===m)return y;var b=C.f(m);return(0,b.resolve)(y),b.promise}},function(m,y,b){"use strict";b.d(y,"e",(function(){return q})),b.d(y,"b",(function(){return P})),b.d(y,"c",(function(){return M})),b.d(y,"a",(function(){return I})),b.d(y,"d",(function(){return D}));var _,$=b(1),C=(_=function(m,y){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(m[b]=y[b])})(m,y)},function(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function __(){this.constructor=m}_(m,y),m.prototype=null===y?Object.create(y):(__.prototype=y.prototype,new __)}),__decorate=function(m,y,b,_){var $,C=arguments.length,D=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(m,y,b,_);else for(var I=m.length-1;I>=0;I--)($=m[I])&&(D=(C<3?$(D):C>3?$(y,b,D):$(y,b))||D);return C>3&&D&&Object.defineProperty(y,b,D),D},D=function(m){function Texts(){var y=null!==m&&m.apply(this,arguments)||this;return y.doi="",y.apiUrl="",y.isCrossrefEnabled="",y.getFTRContent="",y.getFTRButton="",y.getFTRLink="",y.prevItemDoi="",y.requestSource="",y}return C(Texts,m),Texts}($.d),I=function(m){function ClassList(){var y=null!==m&&m.apply(this,arguments)||this;return y.getFTRPlaceholder="getFTR__placeholder",y}return C(ClassList,m),ClassList}($.d),M=function(m){function Selectors(){var y=null!==m&&m.apply(this,arguments)||this;return y.article="article",y.articleReferences="article .article__references",y.articleCitedBy="article .citedBySection",y.tabContent=".tab--slide .tab__content",y.tabReferences="#pane-pcw-references",y.tabRelated="#pane-pcw-related",y.getFTRPlaceholder=".getFTR__placeholder",y.wrapperItem="",y}return C(Selectors,m),Selectors}($.f),P=function(m){function Elements(){return null!==m&&m.apply(this,arguments)||this}return C(Elements,m),Elements}($.b),R=function(){function GetFTR(){var m=this;this.isButtonVisible=!1,this.isSafeToFetch=!0,this.handleWindowScroll=function(){var y;if(m.elements.articleReferences||m.elements.articleCitedBy){var b=window.scrollY,_=b>=(null===(y=m.elements.articleCitedBy)||void 0===y?void 0:y.offsetTop)?m.elements.articleCitedBy:m.elements.articleReferences,$=null==_?void 0:_.querySelector(m.selectors.getFTRPlaceholder),C=null==$?void 0:$.offsetTop;$&&m.isSafeToFetch&&C-500<b&&(_===m.elements.articleReferences?m.articleReferences():m.articleCitedBy())}},this.isEntitlement=function(y){y.entitlement?(m.isButtonVisible=!0,m.getFTRButton(y.entitlement)):!m.texts.isCrossrefEnabled&&y.doi&&y.fallback?(m.isButtonVisible=!0,m.getFTRButton(y.fallback.url)):m.texts.isCrossrefEnabled&&y.fallback&&m.getFTRLink(y.fallback)},this.getFTRButton=function(y){var b,_,$=!1,C="",D="object"==typeof y,I=D?y.label:"View",M=D?y.url:y,P=!(!D||!y.tooltip)&&y.tooltip;D&&("yes"===y.entitled||"maybe"===y.entitled&&"vor"===y.type)?($=!0,C="icon-getFTR-na"):D&&"no"===y.entitled&&"av"===y.type&&($=!0,C="icon-getFTR-av"),_=$?'<i aria-hidden="true" class="'+C+'"></i>':"",m.texts.getFTRButton='<a href="'+M+'"  aria-label="'+(P||I)+'" target="_blank" data-tooltip="'+P+'" class="getFTR__btn '+(P?"getFTR__tooltip":"")+'"  tabindex="0">\n               '+_+"\n               "+I+"\n            </a>",null===(b=m.elements.getFTRPlaceholder)||void 0===b||b.insertAdjacentHTML("afterbegin",m.texts.getFTRButton)},this.getFTRLink=function(y){var b;m.texts.getFTRLink='<a href="'+y.url+'"  target="_blank" class="getFTR__link">\n               '+y.label+"\n            </a>",null===(b=m.elements.getFTRPlaceholder)||void 0===b||b.insertAdjacentHTML("afterbegin",m.texts.getFTRLink)}}return GetFTR.prototype.initialize=function(){this.setElements(),this.addEventListeners(),this.getGetFTRConfig()},GetFTR.prototype.setElements=function(){this.elements.articleReferences=this.domUtils.getElement(this.selectors.articleReferences),this.elements.articleCitedBy=this.domUtils.getElement(this.selectors.articleCitedBy),this.elements.tabContent=this.domUtils.getElement(this.selectors.tabContent)},GetFTR.prototype.addEventListeners=function(){window.addEventListener("scroll",this.handleWindowScroll)},GetFTR.prototype.getGetFTRConfig=function(){this.elements.article=this.domUtils.getElement(this.selectors.article),this.texts.isCrossrefEnabled=this.elements.article.getAttribute("data-crossref-enabled"),this.texts.requestSource=this.elements.article.getAttribute("data-getFTR-request-source"),this.texts.doi=this.elements.article.getAttribute("data-getFTR-doi"),this.linksCount=parseInt(this.elements.article.getAttribute("data-getFTR-links-count"))},GetFTR.prototype.getGetFTRElements=function(){var m,y,b=this,_=this.domUtils.getElements(this.selectors.getFTRPlaceholder,this.elements.source).slice(0,this.linksCount),$=_&&_[0],C=null===(m=null==$?void 0:$.closest("[data-doi]"))||void 0===m?void 0:m.getAttribute("data-doi"),D=null==_?void 0:_.map((function(m){var y;return null===(y=m.closest(b.selectors.wrapperItem))||void 0===y?void 0:y.getAttribute("data-doi")})).filter(Boolean);(null==D?void 0:D.length)>0&&this.numberOfPlaceholders&&C!==this.texts.prevItemDoi&&(this.texts.prevItemDoi=C,this.fetchData(D),null===(y=this.elements.tabContent)||void 0===y||y.addEventListener("scroll",(function(){b.handleTabScroll(b.elements.source)})))},GetFTR.prototype.setGetFTRSource=function(m,y,b){var _;this.initialize(),this.elements.source=m,this.selectors.wrapperItem=y,this.numberOfPlaceholders=null===(_=this.elements.source)||void 0===_?void 0:_.querySelectorAll(this.selectors.getFTRPlaceholder).length,this.texts.apiUrl=this.elements.article.getAttribute(b),this.getGetFTRElements()},GetFTR.prototype.referencesTab=function(){this.elements.tabReferences=this.domUtils.getElement(this.selectors.tabReferences),this.setGetFTRSource(this.elements.tabReferences,".references__item","data-getFTR-reference-url")},GetFTR.prototype.relatedTab=function(){this.elements.tabRelated=this.domUtils.getElement(this.selectors.tabRelated),this.setGetFTRSource(this.elements.tabRelated,".citedByEntry","data-getFTR-citedby-url")},GetFTR.prototype.articleReferences=function(){this.setGetFTRSource(this.elements.articleReferences,".references__item","data-getFTR-reference-url")},GetFTR.prototype.articleCitedBy=function(){this.setGetFTRSource(this.elements.articleCitedBy,".citedByEntry","data-getFTR-citedBy-url")},GetFTR.prototype.handleTabScroll=function(m){var y,b=null==m?void 0:m.querySelector(this.selectors.getFTRPlaceholder),_=null==b?void 0:b.offsetTop,$=null===(y=this.elements.tabContent)||void 0===y?void 0:y.scrollTop;b&&_-500<$&&this.isSafeToFetch&&this.getGetFTRElements()},GetFTR.prototype.fetchData=function(m){var y=this,b={pubDoi:this.texts.doi,associatedCitations:m,requestSource:this.texts.requestSource};this.isSafeToFetch=!1,fetch(this.texts.apiUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}).then((function(m){return m.json()})).then((function(m){m.forEach((function(m){var b,_;y.elements.getFTRWrapper=null===(b=y.elements.source)||void 0===b?void 0:b.querySelector('[data-doi="'+m.doi+'"]'),y.elements.getFTRPlaceholder=null===(_=y.elements.getFTRWrapper)||void 0===_?void 0:_.querySelector(y.selectors.getFTRPlaceholder),y.isEntitlement(m),y.getFTRContentEmpty(),y.removePlaceholder()}))})).catch((function(m){console.error("Error:",m)})).finally((function(){y.isSafeToFetch=!0}))},GetFTR.prototype.getFTRContentEmpty=function(){this.texts.getFTRButton="",this.texts.getFTRLink="",this.isButtonVisible=!1},GetFTR.prototype.removePlaceholder=function(){var m;null===(m=this.elements.getFTRPlaceholder)||void 0===m||m.classList.remove("getFTR__placeholder")},GetFTR=__decorate([Object($.c)(M,P,I,D)],GetFTR)}(),N=function(){var extendStatics=function(m,y){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(m[b]=y[b])})(m,y)};return function(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function __(){this.constructor=m}extendStatics(m,y),m.prototype=null===y?Object.create(y):(__.prototype=y.prototype,new __)}}(),ts_decorate=function(m,y,b,_){var $,C=arguments.length,D=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(m,y,b,_);else for(var I=m.length-1;I>=0;I--)($=m[I])&&(D=(C<3?$(D):C>3?$(y,b,D):$(y,b))||D);return C>3&&D&&Object.defineProperty(y,b,D),D},U=function(m){function Texts(){return null!==m&&m.apply(this,arguments)||this}return N(Texts,m),Texts}(D),H=function(m){function ClassList(){return null!==m&&m.apply(this,arguments)||this}return N(ClassList,m),ClassList}(I),B=function(m){function Selectors(){return null!==m&&m.apply(this,arguments)||this}return N(Selectors,m),Selectors}(M),z=function(m){function Elements(){return null!==m&&m.apply(this,arguments)||this}return N(Elements,m),Elements}(P),q=function(m){function AxelPublicationContent(){return null!==m&&m.apply(this,arguments)||this}return N(AxelPublicationContent,m),AxelPublicationContent=ts_decorate([Object($.c)(B,z,H,U)],AxelPublicationContent)}(R)},function(m,y,b){var _=b(105),$=b(106),C=b(59),D=b(107);m.exports=function _toConsumableArray(m){return _(m)||$(m)||C(m)||D()},m.exports.__esModule=!0,m.exports.default=m.exports},function(m,y,b){var _=b(62);m.exports=function _defineProperty(m,y,b){return(y=_(y))in m?Object.defineProperty(m,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[y]=b,m},m.exports.__esModule=!0,m.exports.default=m.exports},function(m,y,b){var _,$,C,D=b(2);C=function t(){"use strict";function e(m,y){var b=Object.keys(m);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(m);y&&(_=_.filter((function(y){return Object.getOwnPropertyDescriptor(m,y).enumerable}))),b.push.apply(b,_)}return b}function t(m){for(var y=1;y<arguments.length;y++){var b=null!=arguments[y]?arguments[y]:{};y%2?e(Object(b),!0).forEach((function(y){r(m,y,b[y])})):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(b)):e(Object(b)).forEach((function(y){Object.defineProperty(m,y,Object.getOwnPropertyDescriptor(b,y))}))}return m}function n(m){return(n="function"==typeof Symbol&&"symbol"==D(Symbol.iterator)?function(m){return D(m)}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":D(m)})(m)}function r(m,y,b){return y in m?Object.defineProperty(m,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[y]=b,m}function i(m){return function(m){if(Array.isArray(m))return s(m)}(m)||function(m){if("undefined"!=typeof Symbol&&null!=m[Symbol.iterator]||null!=m["@@iterator"])return Array.from(m)}(m)||o(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(m,y){if(m){if("string"==typeof m)return s(m,y);var b=Object.prototype.toString.call(m).slice(8,-1);return"Object"===b&&m.constructor&&(b=m.constructor.name),"Map"===b||"Set"===b?Array.from(m):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?s(m,y):void 0}}function s(m,y){(null==y||y>m.length)&&(y=m.length);for(var b=0,_=new Array(y);b<y;b++)_[b]=m[b];return _}var m=function u(m){return"string"==typeof m?document.querySelector(m):m()},y=function a(y,b){var _="string"==typeof y?document.createElement(y):y;for(var $ in b){var C=b[$];if("inside"===$)C.append(_);else if("dest"===$)m(C[0]).insertAdjacentElement(C[1],_);else if("around"===$){var D=C;D.parentNode.insertBefore(_,D),_.append(D),null!=D.getAttribute("autofocus")&&D.focus()}else $ in _?_[$]=C:_.setAttribute($,C)}return _},b=function c(m,y){return m=String(m).toLowerCase(),y?m.normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC"):m},_=function l(m,b){return y("mark",t({innerHTML:m},"string"==typeof b&&{class:b})).outerHTML},$=function f(m,y){y.input.dispatchEvent(new CustomEvent(m,{bubbles:!0,detail:y.feedback,cancelable:!0}))},C=function p(m,y,$){var C=$||{},D=C.mode,I=C.diacritics,M=C.highlight,P=b(y,I);if(y=String(y),m=b(m,I),"loose"===D){var R=(m=m.replace(/ /g,"")).length,N=0,p=Array.from(y).map((function(y,b){return N<R&&P[b]===m[N]&&(y=M?_(y,M):y,N++),y})).join("");if(N===R)return p}else{var U=P.indexOf(m);if(~U)return m=y.substring(U,U+m.length),M?y.replace(m,_(m,M)):y}},I=function d(m,y){return new Promise((function(b,_){var C;return(C=m.data).cache&&C.store?b():new Promise((function(m,b){return"function"==typeof C.src?C.src(y).then(m,b):m(C.src)})).then((function(y){try{return m.feedback=C.store=y,$("response",m),b()}catch(m){return _(m)}}),_)}))},M=function h(m,y){var b=y.data,_=y.searchEngine,D=[];b.store.forEach((function($,I){var M=function a(b){var I=b?$[b]:$,M="function"==typeof _?_(m,I):C(m,I,{mode:_,diacritics:y.diacritics,highlight:y.resultItem.highlight});if(M){var a={match:M,value:$};b&&(a.key=b),D.push(a)}};if(b.keys){var P,R=function(m,y){var b="undefined"!=typeof Symbol&&m[Symbol.iterator]||m["@@iterator"];if(!b){if(Array.isArray(m)||(b=o(m))){b&&(m=b);var _=0,$=function i(){};return{s:$,n:function n(){return _>=m.length?{done:!0}:{done:!1,value:m[_++]}},e:function e(m){throw m},f:$}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var C,D=!0,I=!1;return{s:function s(){b=b.call(m)},n:function n(){var m=b.next();return D=m.done,m},e:function e(m){I=!0,C=m},f:function f(){try{D||null==b.return||b.return()}finally{if(I)throw C}}}}(b.keys);try{for(R.s();!(P=R.n()).done;)M(P.value)}catch(m){R.e(m)}finally{R.f()}}else M()})),b.filter&&(D=b.filter(D));var I=D.slice(0,y.resultsList.maxResults);y.feedback={query:m,matches:D,results:I},$("results",y)},P="aria-expanded",R="aria-activedescendant",N="aria-selected",U=function v(m,y){m.feedback.selection=t({index:y},m.feedback.results[y])},H=function g(m){m.isOpen||((m.wrapper||m.input).setAttribute(P,!0),m.list.removeAttribute("hidden"),m.isOpen=!0,$("open",m))},B=function w(m){m.isOpen&&((m.wrapper||m.input).setAttribute(P,!1),m.input.setAttribute(R,""),m.list.setAttribute("hidden",""),m.isOpen=!1,$("close",m))},z=function O(m,y){var b=y.resultItem,_=y.list.getElementsByTagName(b.tag),C=!!b.selected&&b.selected.split(" ");if(y.isOpen&&_.length){var D,I,M=y.cursor;m>=_.length&&(m=0),m<0&&(m=_.length-1),y.cursor=m,M>-1&&(_[M].removeAttribute(N),C&&(I=_[M].classList).remove.apply(I,i(C))),_[m].setAttribute(N,!0),C&&(D=_[m].classList).add.apply(D,i(C)),y.input.setAttribute(R,_[y.cursor].id),y.list.scrollTop=_[m].offsetTop-y.list.clientHeight+_[m].clientHeight+5,y.feedback.cursor=y.cursor,U(y,m),$("navigate",y)}},q=function A(m){z(m.cursor+1,m)},W=function k(m){z(m.cursor-1,m)},X=function L(m,y,b){(b=b>=0?b:m.cursor)<0||(m.feedback.event=y,U(m,b),$("selection",m),B(m))};function j(m,b){var _=this;return new Promise((function($,C){var D,P;return D=b||((P=m.input)instanceof HTMLInputElement||P instanceof HTMLTextAreaElement?P.value:P.innerHTML),function(m,y,b){return y?y(m):m.length>=b}(D=m.query?m.query(D):D,m.trigger,m.threshold)?I(m,D).then((function(b){try{return m.feedback instanceof Error?$():(M(D,m),m.resultsList&&function(m){var b=m.resultsList,_=m.list,$=m.resultItem,C=m.feedback,D=C.matches,I=C.results;if(m.cursor=-1,_.innerHTML="",D.length||b.noResults){var M=new DocumentFragment;I.forEach((function(m,b){var _=y($.tag,t({id:"".concat($.id,"_").concat(b),role:"option",innerHTML:m.match,inside:M},$.class&&{class:$.class}));$.element&&$.element(_,m)})),_.append(M),b.element&&b.element(_,C),H(m)}else B(m)}(m),c.call(_))}catch(m){return C(m)}}),C):(B(m),c.call(_));function c(){return $()}}))}var V=function S(m,y){for(var b in m)for(var _ in m[b])y(b,_)};function E(m){var b=this;return new Promise((function(_,C){var D,M,P;if(D=m.placeHolder,P={role:"combobox","aria-owns":(M=m.resultsList).id,"aria-haspopup":!0,"aria-expanded":!1},y(m.input,t(t({"aria-controls":M.id,"aria-autocomplete":"both"},D&&{placeholder:D}),!m.wrapper&&t({},P))),m.wrapper&&(m.wrapper=y("div",t({around:m.input,class:m.name+"_wrapper"},P))),M&&(m.list=y(M.tag,t({dest:[M.destination,M.position],id:M.id,role:"listbox",hidden:"hidden"},M.class&&{class:M.class}))),function T(m){var y,b,_,$=m.events,C=(y=function n(){return j(m)},b=m.debounce,function(){clearTimeout(_),_=setTimeout((function(){return y()}),b)}),D=m.events=t({input:t({},$&&$.input)},m.resultsList&&{list:$?t({},$.list):{}}),I={input:{input:function input(){C()},keydown:function keydown(y){!function(m,y){switch(m.keyCode){case 40:case 38:m.preventDefault(),40===m.keyCode?q(y):W(y);break;case 13:y.submit||m.preventDefault(),y.cursor>=0&&X(y,m);break;case 9:y.resultsList.tabSelect&&y.cursor>=0&&X(y,m);break;case 27:y.input.value="",B(y)}}(y,m)},blur:function blur(){B(m)}},list:{mousedown:function mousedown(m){m.preventDefault()},click:function click(y){!function(m,y){var b=y.resultItem.tag.toUpperCase(),_=Array.from(y.list.querySelectorAll(b)),$=m.target.closest(b);$&&$.nodeName===b&&X(y,m,_.indexOf($))}(y,m)}}};V(I,(function(y,b){(m.resultsList||"input"===b)&&(D[y][b]||(D[y][b]=I[y][b]))})),V(D,(function(y,b){m[y].addEventListener(b,D[y][b])}))}(m),m.data.cache)return I(m).then((function(m){try{return c.call(b)}catch(m){return C(m)}}),C);function c(){return $("init",m),_()}return c.call(b)}))}function x(m){var y=m.prototype;y.init=function(){E(this)},y.start=function(m){j(this,m)},y.unInit=function(){if(this.wrapper){var m=this.wrapper.parentNode;m.insertBefore(this.input,this.wrapper),m.removeChild(this.wrapper)}var y;V((y=this).events,(function(m,b){y[m].removeEventListener(b,y.events[m][b])}))},y.open=function(){H(this)},y.close=function(){B(this)},y.goTo=function(m){z(m,this)},y.next=function(){q(this)},y.previous=function(){W(this)},y.select=function(m){X(this,null,m)},y.search=function(m,y,b){return C(m,y,b)}}return function e(y){this.options=y,this.id=e.instances=(e.instances||0)+1,this.name="autoComplete",this.wrapper=1,this.threshold=1,this.debounce=0,this.resultsList={position:"afterend",tag:"ul",maxResults:5},this.resultItem={tag:"li"},function(y){var b=y.name,_=y.options,$=y.resultsList,C=y.resultItem;for(var D in _)if("object"===n(_[D]))for(var I in y[D]||(y[D]={}),_[D])y[D][I]=_[D][I];else y[D]=_[D];y.selector=y.selector||"#"+b,$.destination=$.destination||y.selector,$.id=$.id||b+"_list_"+y.id,C.id=C.id||b+"_result",y.input=m(y.selector)}(this),x.call(this,e),E(this)}},"object"==D(y)&&void 0!==m?m.exports=C():void 0===($="function"==typeof(_=C)?_.call(y,b,y,m):_)||(m.exports=$)},function(m,y,b){b(279),m.exports=b(280)},function(m,y,b){(function(m,y){var _,$=b(2);
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */!function(b){!function(_){var C="object"===(void 0===y?"undefined":$(y))?y:"object"===("undefined"==typeof self?"undefined":$(self))?self:"object"===$(this)?this:Function("return this;")(),D=makeExporter(b);function makeExporter(m,y){return function(b,_){"function"!=typeof m[b]&&Object.defineProperty(m,b,{configurable:!0,writable:!0,value:_}),y&&y(b,_)}}void 0===C.Reflect?C.Reflect=b:D=makeExporter(C.Reflect,D),function(y){var b=Object.prototype.hasOwnProperty,_="function"==typeof Symbol,C=_&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",D=_&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",I="function"==typeof Object.create,M={__proto__:[]}instanceof Array,P=!I&&!M,R={create:I?function(){return MakeDictionary(Object.create(null))}:M?function(){return MakeDictionary({__proto__:null})}:function(){return MakeDictionary({})},has:P?function(m,y){return b.call(m,y)}:function(m,y){return y in m},get:P?function(m,y){return b.call(m,y)?m[y]:void 0}:function(m,y){return m[y]}},N=Object.getPrototypeOf(Function),U="object"===(void 0===m?"undefined":$(m))&&m.env&&"true"===m.env.REFLECT_METADATA_USE_MAP_POLYFILL,H=U||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function CreateMapPolyfill(){var m={},y=[],b=function(){function MapIterator(m,y,b){this._index=0,this._keys=m,this._values=y,this._selector=b}return MapIterator.prototype["@@iterator"]=function(){return this},MapIterator.prototype[D]=function(){return this},MapIterator.prototype.next=function(){var m=this._index;if(m>=0&&m<this._keys.length){var b=this._selector(this._keys[m],this._values[m]);return m+1>=this._keys.length?(this._index=-1,this._keys=y,this._values=y):this._index++,{value:b,done:!1}}return{value:void 0,done:!0}},MapIterator.prototype.throw=function(m){throw this._index>=0&&(this._index=-1,this._keys=y,this._values=y),m},MapIterator.prototype.return=function(m){return this._index>=0&&(this._index=-1,this._keys=y,this._values=y),{value:m,done:!0}},MapIterator}();return function(){function Map(){this._keys=[],this._values=[],this._cacheKey=m,this._cacheIndex=-2}return Object.defineProperty(Map.prototype,"size",{get:function get(){return this._keys.length},enumerable:!0,configurable:!0}),Map.prototype.has=function(m){return this._find(m,!1)>=0},Map.prototype.get=function(m){var y=this._find(m,!1);return y>=0?this._values[y]:void 0},Map.prototype.set=function(m,y){var b=this._find(m,!0);return this._values[b]=y,this},Map.prototype.delete=function(y){var b=this._find(y,!1);if(b>=0){for(var _=this._keys.length,$=b+1;$<_;$++)this._keys[$-1]=this._keys[$],this._values[$-1]=this._values[$];return this._keys.length--,this._values.length--,y===this._cacheKey&&(this._cacheKey=m,this._cacheIndex=-2),!0}return!1},Map.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=m,this._cacheIndex=-2},Map.prototype.keys=function(){return new b(this._keys,this._values,getKey)},Map.prototype.values=function(){return new b(this._keys,this._values,getValue)},Map.prototype.entries=function(){return new b(this._keys,this._values,getEntry)},Map.prototype["@@iterator"]=function(){return this.entries()},Map.prototype[D]=function(){return this.entries()},Map.prototype._find=function(m,y){return this._cacheKey!==m&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=m)),this._cacheIndex<0&&y&&(this._cacheIndex=this._keys.length,this._keys.push(m),this._values.push(void 0)),this._cacheIndex},Map}();function getKey(m,y){return m}function getValue(m,y){return y}function getEntry(m,y){return[m,y]}}():Map,B=U||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function CreateSetPolyfill(){return function(){function Set(){this._map=new H}return Object.defineProperty(Set.prototype,"size",{get:function get(){return this._map.size},enumerable:!0,configurable:!0}),Set.prototype.has=function(m){return this._map.has(m)},Set.prototype.add=function(m){return this._map.set(m,m),this},Set.prototype.delete=function(m){return this._map.delete(m)},Set.prototype.clear=function(){this._map.clear()},Set.prototype.keys=function(){return this._map.keys()},Set.prototype.values=function(){return this._map.values()},Set.prototype.entries=function(){return this._map.entries()},Set.prototype["@@iterator"]=function(){return this.keys()},Set.prototype[D]=function(){return this.keys()},Set}()}():Set,z=new(U||"function"!=typeof WeakMap?function CreateWeakMapPolyfill(){var m=R.create(),y=CreateUniqueKey();return function(){function WeakMap(){this._key=CreateUniqueKey()}return WeakMap.prototype.has=function(m){var y=GetOrCreateWeakMapTable(m,!1);return void 0!==y&&R.has(y,this._key)},WeakMap.prototype.get=function(m){var y=GetOrCreateWeakMapTable(m,!1);return void 0!==y?R.get(y,this._key):void 0},WeakMap.prototype.set=function(m,y){return GetOrCreateWeakMapTable(m,!0)[this._key]=y,this},WeakMap.prototype.delete=function(m){var y=GetOrCreateWeakMapTable(m,!1);return void 0!==y&&delete y[this._key]},WeakMap.prototype.clear=function(){this._key=CreateUniqueKey()},WeakMap}();function CreateUniqueKey(){var y;do{y="@@WeakMap@@"+CreateUUID()}while(R.has(m,y));return m[y]=!0,y}function GetOrCreateWeakMapTable(m,_){if(!b.call(m,y)){if(!_)return;Object.defineProperty(m,y,{value:R.create()})}return m[y]}function FillRandomBytes(m,y){for(var b=0;b<y;++b)m[b]=255*Math.random()|0;return m}function CreateUUID(){var m=function GenRandomBytes(m){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(m)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(m)):FillRandomBytes(new Uint8Array(m),m):FillRandomBytes(new Array(m),m)}(16);m[6]=79&m[6]|64,m[8]=191&m[8]|128;for(var y="",b=0;b<16;++b){var _=m[b];4!==b&&6!==b&&8!==b||(y+="-"),_<16&&(y+="0"),y+=_.toString(16).toLowerCase()}return y}}():WeakMap);function GetOrCreateMetadataMap(m,y,b){var _=z.get(m);if(IsUndefined(_)){if(!b)return;_=new H,z.set(m,_)}var $=_.get(y);if(IsUndefined($)){if(!b)return;$=new H,_.set(y,$)}return $}function OrdinaryHasOwnMetadata(m,y,b){var _=GetOrCreateMetadataMap(y,b,!1);return!IsUndefined(_)&&function ToBoolean(m){return!!m}(_.has(m))}function OrdinaryGetOwnMetadata(m,y,b){var _=GetOrCreateMetadataMap(y,b,!1);if(!IsUndefined(_))return _.get(m)}function OrdinaryDefineOwnMetadata(m,y,b,_){GetOrCreateMetadataMap(b,_,!0).set(m,y)}function OrdinaryOwnMetadataKeys(m,y){var b=[],_=GetOrCreateMetadataMap(m,y,!1);if(IsUndefined(_))return b;for(var $=function GetIterator(m){var y=GetMethod(m,D);if(!IsCallable(y))throw new TypeError;var b=y.call(m);if(!IsObject(b))throw new TypeError;return b}(_.keys()),C=0;;){var I=IteratorStep($);if(!I)return b.length=C,b;var M=I.value;try{b[C]=M}catch(m){try{IteratorClose($)}finally{throw m}}C++}}function Type(m){if(null===m)return 1;switch($(m)){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===m?1:6;default:return 6}}function IsUndefined(m){return void 0===m}function IsNull(m){return null===m}function IsObject(m){return"object"===$(m)?null!==m:"function"==typeof m}function ToPrimitive(m,y){switch(Type(m)){case 0:case 1:case 2:case 3:case 4:case 5:return m}var b=3===y?"string":5===y?"number":"default",_=GetMethod(m,C);if(void 0!==_){var $=_.call(m,b);if(IsObject($))throw new TypeError;return $}return function OrdinaryToPrimitive(m,y){if("string"===y){var b=m.toString;if(IsCallable(b))if(!IsObject($=b.call(m)))return $;if(IsCallable(_=m.valueOf))if(!IsObject($=_.call(m)))return $}else{var _;if(IsCallable(_=m.valueOf))if(!IsObject($=_.call(m)))return $;var $,C=m.toString;if(IsCallable(C))if(!IsObject($=C.call(m)))return $}throw new TypeError}(m,"default"===b?"number":b)}function ToPropertyKey(m){var y=ToPrimitive(m,3);return function IsSymbol(m){return"symbol"===$(m)}(y)?y:function ToString(m){return""+m}(y)}function IsArray(m){return Array.isArray?Array.isArray(m):m instanceof Object?m instanceof Array:"[object Array]"===Object.prototype.toString.call(m)}function IsCallable(m){return"function"==typeof m}function IsConstructor(m){return"function"==typeof m}function GetMethod(m,y){var b=m[y];if(null!=b){if(!IsCallable(b))throw new TypeError;return b}}function IteratorStep(m){var y=m.next();return!y.done&&y}function IteratorClose(m){var y=m.return;y&&y.call(m)}function OrdinaryGetPrototypeOf(m){var y=Object.getPrototypeOf(m);if("function"!=typeof m||m===N)return y;if(y!==N)return y;var b=m.prototype,_=b&&Object.getPrototypeOf(b);if(null==_||_===Object.prototype)return y;var $=_.constructor;return"function"!=typeof $||$===m?y:$}function MakeDictionary(m){return m.__=void 0,delete m.__,m}y("decorate",(function decorate(m,y,b,_){if(IsUndefined(b)){if(!IsArray(m))throw new TypeError;if(!IsConstructor(y))throw new TypeError;return function DecorateConstructor(m,y){for(var b=m.length-1;b>=0;--b){var _=(0,m[b])(y);if(!IsUndefined(_)&&!IsNull(_)){if(!IsConstructor(_))throw new TypeError;y=_}}return y}(m,y)}if(!IsArray(m))throw new TypeError;if(!IsObject(y))throw new TypeError;if(!IsObject(_)&&!IsUndefined(_)&&!IsNull(_))throw new TypeError;return IsNull(_)&&(_=void 0),function DecorateProperty(m,y,b,_){for(var $=m.length-1;$>=0;--$){var C=(0,m[$])(y,b,_);if(!IsUndefined(C)&&!IsNull(C)){if(!IsObject(C))throw new TypeError;_=C}}return _}(m,y,b=ToPropertyKey(b),_)})),y("metadata",(function metadata(m,y){return function decorator(b,_){if(!IsObject(b))throw new TypeError;if(!IsUndefined(_)&&!function IsPropertyKey(m){switch(Type(m)){case 3:case 4:return!0;default:return!1}}(_))throw new TypeError;OrdinaryDefineOwnMetadata(m,y,b,_)}})),y("defineMetadata",(function defineMetadata(m,y,b,_){if(!IsObject(b))throw new TypeError;return IsUndefined(_)||(_=ToPropertyKey(_)),OrdinaryDefineOwnMetadata(m,y,b,_)})),y("hasMetadata",(function hasMetadata(m,y,b){if(!IsObject(y))throw new TypeError;return IsUndefined(b)||(b=ToPropertyKey(b)),function OrdinaryHasMetadata(m,y,b){if(OrdinaryHasOwnMetadata(m,y,b))return!0;var _=OrdinaryGetPrototypeOf(y);return!IsNull(_)&&OrdinaryHasMetadata(m,_,b)}(m,y,b)})),y("hasOwnMetadata",(function hasOwnMetadata(m,y,b){if(!IsObject(y))throw new TypeError;return IsUndefined(b)||(b=ToPropertyKey(b)),OrdinaryHasOwnMetadata(m,y,b)})),y("getMetadata",(function getMetadata(m,y,b){if(!IsObject(y))throw new TypeError;return IsUndefined(b)||(b=ToPropertyKey(b)),function OrdinaryGetMetadata(m,y,b){if(OrdinaryHasOwnMetadata(m,y,b))return OrdinaryGetOwnMetadata(m,y,b);var _=OrdinaryGetPrototypeOf(y);return IsNull(_)?void 0:OrdinaryGetMetadata(m,_,b)}(m,y,b)})),y("getOwnMetadata",(function getOwnMetadata(m,y,b){if(!IsObject(y))throw new TypeError;return IsUndefined(b)||(b=ToPropertyKey(b)),OrdinaryGetOwnMetadata(m,y,b)})),y("getMetadataKeys",(function getMetadataKeys(m,y){if(!IsObject(m))throw new TypeError;return IsUndefined(y)||(y=ToPropertyKey(y)),function OrdinaryMetadataKeys(m,y){var b=OrdinaryOwnMetadataKeys(m,y),_=OrdinaryGetPrototypeOf(m);if(null===_)return b;var $=OrdinaryMetadataKeys(_,y);if($.length<=0)return b;if(b.length<=0)return $;for(var C=new B,D=[],I=0,M=b;I<M.length;I++){var P=M[I];C.has(P)||(C.add(P),D.push(P))}for(var R=0,N=$;R<N.length;R++){P=N[R];C.has(P)||(C.add(P),D.push(P))}return D}(m,y)})),y("getOwnMetadataKeys",(function getOwnMetadataKeys(m,y){if(!IsObject(m))throw new TypeError;return IsUndefined(y)||(y=ToPropertyKey(y)),OrdinaryOwnMetadataKeys(m,y)})),y("deleteMetadata",(function deleteMetadata(m,y,b){if(!IsObject(y))throw new TypeError;IsUndefined(b)||(b=ToPropertyKey(b));var _=GetOrCreateMetadataMap(y,b,!1);if(IsUndefined(_))return!1;if(!_.delete(m))return!1;if(_.size>0)return!0;var $=z.get(y);return $.delete(b),$.size>0||z.delete(y),!0}))}(D)}()}(_||(_={}))}).call(this,b(95),b(26))},function(m,y){var b,_,$=m.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(m){if(b===setTimeout)return setTimeout(m,0);if((b===defaultSetTimout||!b)&&setTimeout)return b=setTimeout,setTimeout(m,0);try{return b(m,0)}catch(y){try{return b.call(null,m,0)}catch(y){return b.call(this,m,0)}}}!function(){try{b="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(m){b=defaultSetTimout}try{_="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(m){_=defaultClearTimeout}}();var C,D=[],I=!1,M=-1;function cleanUpNextTick(){I&&C&&(I=!1,C.length?D=C.concat(D):M=-1,D.length&&drainQueue())}function drainQueue(){if(!I){var m=runTimeout(cleanUpNextTick);I=!0;for(var y=D.length;y;){for(C=D,D=[];++M<y;)C&&C[M].run();M=-1,y=D.length}C=null,I=!1,function runClearTimeout(m){if(_===clearTimeout)return clearTimeout(m);if((_===defaultClearTimeout||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(m);try{return _(m)}catch(y){try{return _.call(null,m)}catch(y){return _.call(this,m)}}}(m)}}function Item(m,y){this.fun=m,this.array=y}function noop(){}$.nextTick=function(m){var y=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)y[b-1]=arguments[b];D.push(new Item(m,y)),1!==D.length||I||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},$.title="browser",$.browser=!0,$.env={},$.argv=[],$.version="",$.versions={},$.on=noop,$.addListener=noop,$.once=noop,$.off=noop,$.removeListener=noop,$.removeAllListeners=noop,$.emit=noop,$.prependListener=noop,$.prependOnceListener=noop,$.listeners=function(m){return[]},$.binding=function(m){throw new Error("process.binding is not supported")},$.cwd=function(){return"/"},$.chdir=function(m){throw new Error("process.chdir is not supported")},$.umask=function(){return 0}},function(m,y){function _typeof(y){return m.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},m.exports.__esModule=!0,m.exports.default=m.exports,_typeof(y)}m.exports=_typeof,m.exports.__esModule=!0,m.exports.default=m.exports},function(m,y,b){(function(y){m.exports=y.jQuery=b(98)}).call(this,b(26))},function(m,y,b){(function(m){var _,$=b(2);
/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */
!function(y,b){"use strict";"object"===$(m)&&"object"===$(m.exports)?m.exports=y.document?b(y,!0):function(m){if(!m.document)throw new Error("jQuery requires a window with a document");return b(m)}:b(y)}("undefined"!=typeof window?window:this,(function(b,C){"use strict";var D=[],I=Object.getPrototypeOf,M=D.slice,P=D.flat?function(m){return D.flat.call(m)}:function(m){return D.concat.apply([],m)},R=D.push,N=D.indexOf,U={},H=U.toString,B=U.hasOwnProperty,z=B.toString,q=z.call(Object),W={},X=function isFunction(m){return"function"==typeof m&&"number"!=typeof m.nodeType},V=function isWindow(m){return null!=m&&m===m.window},G=b.document,Y={type:!0,src:!0,nonce:!0,noModule:!0};function DOMEval(m,y,b){var _,$,C=(b=b||G).createElement("script");if(C.text=m,y)for(_ in Y)($=y[_]||y.getAttribute&&y.getAttribute(_))&&C.setAttribute(_,$);b.head.appendChild(C).parentNode.removeChild(C)}function toType(m){return null==m?m+"":"object"===$(m)||"function"==typeof m?U[H.call(m)]||"object":$(m)}var K=function jQuery(m,y){return new K.fn.init(m,y)};function isArrayLike(m){var y=!!m&&"length"in m&&m.length,b=toType(m);return!X(m)&&!V(m)&&("array"===b||0===y||"number"==typeof y&&y>0&&y-1 in m)}K.fn=K.prototype={jquery:"3.5.1",constructor:K,length:0,toArray:function toArray(){return M.call(this)},get:function get(m){return null==m?M.call(this):m<0?this[m+this.length]:this[m]},pushStack:function pushStack(m){var y=K.merge(this.constructor(),m);return y.prevObject=this,y},each:function each(m){return K.each(this,m)},map:function map(m){return this.pushStack(K.map(this,(function(y,b){return m.call(y,b,y)})))},slice:function slice(){return this.pushStack(M.apply(this,arguments))},first:function first(){return this.eq(0)},last:function last(){return this.eq(-1)},even:function even(){return this.pushStack(K.grep(this,(function(m,y){return(y+1)%2})))},odd:function odd(){return this.pushStack(K.grep(this,(function(m,y){return y%2})))},eq:function eq(m){var y=this.length,b=+m+(m<0?y:0);return this.pushStack(b>=0&&b<y?[this[b]]:[])},end:function end(){return this.prevObject||this.constructor()},push:R,sort:D.sort,splice:D.splice},K.extend=K.fn.extend=function(){var m,y,b,_,C,D,I=arguments[0]||{},M=1,P=arguments.length,R=!1;for("boolean"==typeof I&&(R=I,I=arguments[M]||{},M++),"object"===$(I)||X(I)||(I={}),M===P&&(I=this,M--);M<P;M++)if(null!=(m=arguments[M]))for(y in m)_=m[y],"__proto__"!==y&&I!==_&&(R&&_&&(K.isPlainObject(_)||(C=Array.isArray(_)))?(b=I[y],D=C&&!Array.isArray(b)?[]:C||K.isPlainObject(b)?b:{},C=!1,I[y]=K.extend(R,D,_)):void 0!==_&&(I[y]=_));return I},K.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function error(m){throw new Error(m)},noop:function noop(){},isPlainObject:function isPlainObject(m){var y,b;return!(!m||"[object Object]"!==H.call(m))&&(!(y=I(m))||"function"==typeof(b=B.call(y,"constructor")&&y.constructor)&&z.call(b)===q)},isEmptyObject:function isEmptyObject(m){var y;for(y in m)return!1;return!0},globalEval:function globalEval(m,y,b){DOMEval(m,{nonce:y&&y.nonce},b)},each:function each(m,y){var b,_=0;if(isArrayLike(m))for(b=m.length;_<b&&!1!==y.call(m[_],_,m[_]);_++);else for(_ in m)if(!1===y.call(m[_],_,m[_]))break;return m},makeArray:function makeArray(m,y){var b=y||[];return null!=m&&(isArrayLike(Object(m))?K.merge(b,"string"==typeof m?[m]:m):R.call(b,m)),b},inArray:function inArray(m,y,b){return null==y?-1:N.call(y,m,b)},merge:function merge(m,y){for(var b=+y.length,_=0,$=m.length;_<b;_++)m[$++]=y[_];return m.length=$,m},grep:function grep(m,y,b){for(var _=[],$=0,C=m.length,D=!b;$<C;$++)!y(m[$],$)!==D&&_.push(m[$]);return _},map:function map(m,y,b){var _,$,C=0,D=[];if(isArrayLike(m))for(_=m.length;C<_;C++)null!=($=y(m[C],C,b))&&D.push($);else for(C in m)null!=($=y(m[C],C,b))&&D.push($);return P(D)},guid:1,support:W}),"function"==typeof Symbol&&(K.fn[Symbol.iterator]=D[Symbol.iterator]),K.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(m,y){U["[object "+y+"]"]=y.toLowerCase()}));var Q=
/*!
   * Sizzle CSS Selector Engine v2.3.5
   * https://sizzlejs.com/
   *
   * Copyright JS Foundation and other contributors
   * Released under the MIT license
   * https://js.foundation/
   *
   * Date: 2020-03-14
   */
function(m){var y,b,_,$,C,D,I,M,P,R,N,U,H,B,z,q,W,X,V,G="sizzle"+1*new Date,Y=m.document,K=0,Q=0,J=createCache(),Z=createCache(),ee=createCache(),te=createCache(),ie=function sortOrder(m,y){return m===y&&(N=!0),0},oe={}.hasOwnProperty,re=[],ae=re.pop,le=re.push,ce=re.push,de=re.slice,ue=function indexOf(m,y){for(var b=0,_=m.length;b<_;b++)if(m[b]===y)return b;return-1},he="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",pe="[\\x20\\t\\r\\n\\f]",fe="(?:\\\\[\\da-fA-F]{1,6}"+pe+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ge="\\["+pe+"*("+fe+")(?:"+pe+"*([*^$|!~]?=)"+pe+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+fe+"))|)"+pe+"*\\]",me=":("+fe+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ge+")*)|.*)\\)|)",ve=new RegExp(pe+"+","g"),ye=new RegExp("^"+pe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+pe+"+$","g"),be=new RegExp("^"+pe+"*,"+pe+"*"),_e=new RegExp("^"+pe+"*([>+~]|"+pe+")"+pe+"*"),we=new RegExp(pe+"|>"),$e=new RegExp(me),Ce=new RegExp("^"+fe+"$"),ke={ID:new RegExp("^#("+fe+")"),CLASS:new RegExp("^\\.("+fe+")"),TAG:new RegExp("^("+fe+"|[*])"),ATTR:new RegExp("^"+ge),PSEUDO:new RegExp("^"+me),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+pe+"*(even|odd|(([+-]|)(\\d*)n|)"+pe+"*(?:([+-]|)"+pe+"*(\\d+)|))"+pe+"*\\)|)","i"),bool:new RegExp("^(?:"+he+")$","i"),needsContext:new RegExp("^"+pe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+pe+"*((?:-\\d)?\\d*)"+pe+"*\\)|)(?=[^-]|$)","i")},xe=/HTML$/i,Se=/^(?:input|select|textarea|button)$/i,Te=/^h\d$/i,Ee=/^[^{]+\{\s*\[native \w/,Ae=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,De=/[+~]/,Ie=new RegExp("\\\\[\\da-fA-F]{1,6}"+pe+"?|\\\\([^\\r\\n\\f])","g"),Me=function funescape(m,y){var b="0x"+m.slice(1)-65536;return y||(b<0?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,1023&b|56320))},Pe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Le=function fcssescape(m,y){return y?"\0"===m?"":m.slice(0,-1)+"\\"+m.charCodeAt(m.length-1).toString(16)+" ":"\\"+m},Oe=function unloadHandler(){U()},je=addCombinator((function(m){return!0===m.disabled&&"fieldset"===m.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{ce.apply(re=de.call(Y.childNodes),Y.childNodes),re[Y.childNodes.length].nodeType}catch(m){ce={apply:re.length?function(m,y){le.apply(m,de.call(y))}:function(m,y){for(var b=m.length,_=0;m[b++]=y[_++];);m.length=b-1}}}function Sizzle(m,y,_,$){var C,I,P,R,N,B,W,X=y&&y.ownerDocument,Y=y?y.nodeType:9;if(_=_||[],"string"!=typeof m||!m||1!==Y&&9!==Y&&11!==Y)return _;if(!$&&(U(y),y=y||H,z)){if(11!==Y&&(N=Ae.exec(m)))if(C=N[1]){if(9===Y){if(!(P=y.getElementById(C)))return _;if(P.id===C)return _.push(P),_}else if(X&&(P=X.getElementById(C))&&V(y,P)&&P.id===C)return _.push(P),_}else{if(N[2])return ce.apply(_,y.getElementsByTagName(m)),_;if((C=N[3])&&b.getElementsByClassName&&y.getElementsByClassName)return ce.apply(_,y.getElementsByClassName(C)),_}if(b.qsa&&!te[m+" "]&&(!q||!q.test(m))&&(1!==Y||"object"!==y.nodeName.toLowerCase())){if(W=m,X=y,1===Y&&(we.test(m)||_e.test(m))){for((X=De.test(m)&&testContext(y.parentNode)||y)===y&&b.scope||((R=y.getAttribute("id"))?R=R.replace(Pe,Le):y.setAttribute("id",R=G)),I=(B=D(m)).length;I--;)B[I]=(R?"#"+R:":scope")+" "+toSelector(B[I]);W=B.join(",")}try{return ce.apply(_,X.querySelectorAll(W)),_}catch(y){te(m,!0)}finally{R===G&&y.removeAttribute("id")}}}return M(m.replace(ye,"$1"),y,_,$)}function createCache(){var m=[];return function cache(y,b){return m.push(y+" ")>_.cacheLength&&delete cache[m.shift()],cache[y+" "]=b}}function markFunction(m){return m[G]=!0,m}function assert(m){var y=H.createElement("fieldset");try{return!!m(y)}catch(m){return!1}finally{y.parentNode&&y.parentNode.removeChild(y),y=null}}function addHandle(m,y){for(var b=m.split("|"),$=b.length;$--;)_.attrHandle[b[$]]=y}function siblingCheck(m,y){var b=y&&m,_=b&&1===m.nodeType&&1===y.nodeType&&m.sourceIndex-y.sourceIndex;if(_)return _;if(b)for(;b=b.nextSibling;)if(b===y)return-1;return m?1:-1}function createInputPseudo(m){return function(y){return"input"===y.nodeName.toLowerCase()&&y.type===m}}function createButtonPseudo(m){return function(y){var b=y.nodeName.toLowerCase();return("input"===b||"button"===b)&&y.type===m}}function createDisabledPseudo(m){return function(y){return"form"in y?y.parentNode&&!1===y.disabled?"label"in y?"label"in y.parentNode?y.parentNode.disabled===m:y.disabled===m:y.isDisabled===m||y.isDisabled!==!m&&je(y)===m:y.disabled===m:"label"in y&&y.disabled===m}}function createPositionalPseudo(m){return markFunction((function(y){return y=+y,markFunction((function(b,_){for(var $,C=m([],b.length,y),D=C.length;D--;)b[$=C[D]]&&(b[$]=!(_[$]=b[$]))}))}))}function testContext(m){return m&&void 0!==m.getElementsByTagName&&m}for(y in b=Sizzle.support={},C=Sizzle.isXML=function(m){var y=m.namespaceURI,b=(m.ownerDocument||m).documentElement;return!xe.test(y||b&&b.nodeName||"HTML")},U=Sizzle.setDocument=function(m){var y,$,D=m?m.ownerDocument||m:Y;return D!=H&&9===D.nodeType&&D.documentElement?(B=(H=D).documentElement,z=!C(H),Y!=H&&($=H.defaultView)&&$.top!==$&&($.addEventListener?$.addEventListener("unload",Oe,!1):$.attachEvent&&$.attachEvent("onunload",Oe)),b.scope=assert((function(m){return B.appendChild(m).appendChild(H.createElement("div")),void 0!==m.querySelectorAll&&!m.querySelectorAll(":scope fieldset div").length})),b.attributes=assert((function(m){return m.className="i",!m.getAttribute("className")})),b.getElementsByTagName=assert((function(m){return m.appendChild(H.createComment("")),!m.getElementsByTagName("*").length})),b.getElementsByClassName=Ee.test(H.getElementsByClassName),b.getById=assert((function(m){return B.appendChild(m).id=G,!H.getElementsByName||!H.getElementsByName(G).length})),b.getById?(_.filter.ID=function(m){var y=m.replace(Ie,Me);return function(m){return m.getAttribute("id")===y}},_.find.ID=function(m,y){if(void 0!==y.getElementById&&z){var b=y.getElementById(m);return b?[b]:[]}}):(_.filter.ID=function(m){var y=m.replace(Ie,Me);return function(m){var b=void 0!==m.getAttributeNode&&m.getAttributeNode("id");return b&&b.value===y}},_.find.ID=function(m,y){if(void 0!==y.getElementById&&z){var b,_,$,C=y.getElementById(m);if(C){if((b=C.getAttributeNode("id"))&&b.value===m)return[C];for($=y.getElementsByName(m),_=0;C=$[_++];)if((b=C.getAttributeNode("id"))&&b.value===m)return[C]}return[]}}),_.find.TAG=b.getElementsByTagName?function(m,y){return void 0!==y.getElementsByTagName?y.getElementsByTagName(m):b.qsa?y.querySelectorAll(m):void 0}:function(m,y){var b,_=[],$=0,C=y.getElementsByTagName(m);if("*"===m){for(;b=C[$++];)1===b.nodeType&&_.push(b);return _}return C},_.find.CLASS=b.getElementsByClassName&&function(m,y){if(void 0!==y.getElementsByClassName&&z)return y.getElementsByClassName(m)},W=[],q=[],(b.qsa=Ee.test(H.querySelectorAll))&&(assert((function(m){var y;B.appendChild(m).innerHTML="<a id='"+G+"'></a><select id='"+G+"-\r\\' msallowcapture=''><option selected=''></option></select>",m.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+pe+"*(?:''|\"\")"),m.querySelectorAll("[selected]").length||q.push("\\["+pe+"*(?:value|"+he+")"),m.querySelectorAll("[id~="+G+"-]").length||q.push("~="),(y=H.createElement("input")).setAttribute("name",""),m.appendChild(y),m.querySelectorAll("[name='']").length||q.push("\\["+pe+"*name"+pe+"*="+pe+"*(?:''|\"\")"),m.querySelectorAll(":checked").length||q.push(":checked"),m.querySelectorAll("a#"+G+"+*").length||q.push(".#.+[+~]"),m.querySelectorAll("\\\f"),q.push("[\\r\\n\\f]")})),assert((function(m){m.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var y=H.createElement("input");y.setAttribute("type","hidden"),m.appendChild(y).setAttribute("name","D"),m.querySelectorAll("[name=d]").length&&q.push("name"+pe+"*[*^$|!~]?="),2!==m.querySelectorAll(":enabled").length&&q.push(":enabled",":disabled"),B.appendChild(m).disabled=!0,2!==m.querySelectorAll(":disabled").length&&q.push(":enabled",":disabled"),m.querySelectorAll("*,:x"),q.push(",.*:")}))),(b.matchesSelector=Ee.test(X=B.matches||B.webkitMatchesSelector||B.mozMatchesSelector||B.oMatchesSelector||B.msMatchesSelector))&&assert((function(m){b.disconnectedMatch=X.call(m,"*"),X.call(m,"[s!='']:x"),W.push("!=",me)})),q=q.length&&new RegExp(q.join("|")),W=W.length&&new RegExp(W.join("|")),y=Ee.test(B.compareDocumentPosition),V=y||Ee.test(B.contains)?function(m,y){var b=9===m.nodeType?m.documentElement:m,_=y&&y.parentNode;return m===_||!(!_||1!==_.nodeType||!(b.contains?b.contains(_):m.compareDocumentPosition&&16&m.compareDocumentPosition(_)))}:function(m,y){if(y)for(;y=y.parentNode;)if(y===m)return!0;return!1},ie=y?function(m,y){if(m===y)return N=!0,0;var _=!m.compareDocumentPosition-!y.compareDocumentPosition;return _||(1&(_=(m.ownerDocument||m)==(y.ownerDocument||y)?m.compareDocumentPosition(y):1)||!b.sortDetached&&y.compareDocumentPosition(m)===_?m==H||m.ownerDocument==Y&&V(Y,m)?-1:y==H||y.ownerDocument==Y&&V(Y,y)?1:R?ue(R,m)-ue(R,y):0:4&_?-1:1)}:function(m,y){if(m===y)return N=!0,0;var b,_=0,$=m.parentNode,C=y.parentNode,D=[m],I=[y];if(!$||!C)return m==H?-1:y==H?1:$?-1:C?1:R?ue(R,m)-ue(R,y):0;if($===C)return siblingCheck(m,y);for(b=m;b=b.parentNode;)D.unshift(b);for(b=y;b=b.parentNode;)I.unshift(b);for(;D[_]===I[_];)_++;return _?siblingCheck(D[_],I[_]):D[_]==Y?-1:I[_]==Y?1:0},H):H},Sizzle.matches=function(m,y){return Sizzle(m,null,null,y)},Sizzle.matchesSelector=function(m,y){if(U(m),b.matchesSelector&&z&&!te[y+" "]&&(!W||!W.test(y))&&(!q||!q.test(y)))try{var _=X.call(m,y);if(_||b.disconnectedMatch||m.document&&11!==m.document.nodeType)return _}catch(m){te(y,!0)}return Sizzle(y,H,null,[m]).length>0},Sizzle.contains=function(m,y){return(m.ownerDocument||m)!=H&&U(m),V(m,y)},Sizzle.attr=function(m,y){(m.ownerDocument||m)!=H&&U(m);var $=_.attrHandle[y.toLowerCase()],C=$&&oe.call(_.attrHandle,y.toLowerCase())?$(m,y,!z):void 0;return void 0!==C?C:b.attributes||!z?m.getAttribute(y):(C=m.getAttributeNode(y))&&C.specified?C.value:null},Sizzle.escape=function(m){return(m+"").replace(Pe,Le)},Sizzle.error=function(m){throw new Error("Syntax error, unrecognized expression: "+m)},Sizzle.uniqueSort=function(m){var y,_=[],$=0,C=0;if(N=!b.detectDuplicates,R=!b.sortStable&&m.slice(0),m.sort(ie),N){for(;y=m[C++];)y===m[C]&&($=_.push(C));for(;$--;)m.splice(_[$],1)}return R=null,m},$=Sizzle.getText=function(m){var y,b="",_=0,C=m.nodeType;if(C){if(1===C||9===C||11===C){if("string"==typeof m.textContent)return m.textContent;for(m=m.firstChild;m;m=m.nextSibling)b+=$(m)}else if(3===C||4===C)return m.nodeValue}else for(;y=m[_++];)b+=$(y);return b},(_=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:ke,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function ATTR(m){return m[1]=m[1].replace(Ie,Me),m[3]=(m[3]||m[4]||m[5]||"").replace(Ie,Me),"~="===m[2]&&(m[3]=" "+m[3]+" "),m.slice(0,4)},CHILD:function CHILD(m){return m[1]=m[1].toLowerCase(),"nth"===m[1].slice(0,3)?(m[3]||Sizzle.error(m[0]),m[4]=+(m[4]?m[5]+(m[6]||1):2*("even"===m[3]||"odd"===m[3])),m[5]=+(m[7]+m[8]||"odd"===m[3])):m[3]&&Sizzle.error(m[0]),m},PSEUDO:function PSEUDO(m){var y,b=!m[6]&&m[2];return ke.CHILD.test(m[0])?null:(m[3]?m[2]=m[4]||m[5]||"":b&&$e.test(b)&&(y=D(b,!0))&&(y=b.indexOf(")",b.length-y)-b.length)&&(m[0]=m[0].slice(0,y),m[2]=b.slice(0,y)),m.slice(0,3))}},filter:{TAG:function TAG(m){var y=m.replace(Ie,Me).toLowerCase();return"*"===m?function(){return!0}:function(m){return m.nodeName&&m.nodeName.toLowerCase()===y}},CLASS:function CLASS(m){var y=J[m+" "];return y||(y=new RegExp("(^|"+pe+")"+m+"("+pe+"|$)"))&&J(m,(function(m){return y.test("string"==typeof m.className&&m.className||void 0!==m.getAttribute&&m.getAttribute("class")||"")}))},ATTR:function ATTR(m,y,b){return function(_){var $=Sizzle.attr(_,m);return null==$?"!="===y:!y||($+="","="===y?$===b:"!="===y?$!==b:"^="===y?b&&0===$.indexOf(b):"*="===y?b&&$.indexOf(b)>-1:"$="===y?b&&$.slice(-b.length)===b:"~="===y?(" "+$.replace(ve," ")+" ").indexOf(b)>-1:"|="===y&&($===b||$.slice(0,b.length+1)===b+"-"))}},CHILD:function CHILD(m,y,b,_,$){var C="nth"!==m.slice(0,3),D="last"!==m.slice(-4),I="of-type"===y;return 1===_&&0===$?function(m){return!!m.parentNode}:function(y,b,M){var P,R,N,U,H,B,z=C!==D?"nextSibling":"previousSibling",q=y.parentNode,W=I&&y.nodeName.toLowerCase(),X=!M&&!I,V=!1;if(q){if(C){for(;z;){for(U=y;U=U[z];)if(I?U.nodeName.toLowerCase()===W:1===U.nodeType)return!1;B=z="only"===m&&!B&&"nextSibling"}return!0}if(B=[D?q.firstChild:q.lastChild],D&&X){for(V=(H=(P=(R=(N=(U=q)[G]||(U[G]={}))[U.uniqueID]||(N[U.uniqueID]={}))[m]||[])[0]===K&&P[1])&&P[2],U=H&&q.childNodes[H];U=++H&&U&&U[z]||(V=H=0)||B.pop();)if(1===U.nodeType&&++V&&U===y){R[m]=[K,H,V];break}}else if(X&&(V=H=(P=(R=(N=(U=y)[G]||(U[G]={}))[U.uniqueID]||(N[U.uniqueID]={}))[m]||[])[0]===K&&P[1]),!1===V)for(;(U=++H&&U&&U[z]||(V=H=0)||B.pop())&&((I?U.nodeName.toLowerCase()!==W:1!==U.nodeType)||!++V||(X&&((R=(N=U[G]||(U[G]={}))[U.uniqueID]||(N[U.uniqueID]={}))[m]=[K,V]),U!==y)););return(V-=$)===_||V%_==0&&V/_>=0}}},PSEUDO:function PSEUDO(m,y){var b,$=_.pseudos[m]||_.setFilters[m.toLowerCase()]||Sizzle.error("unsupported pseudo: "+m);return $[G]?$(y):$.length>1?(b=[m,m,"",y],_.setFilters.hasOwnProperty(m.toLowerCase())?markFunction((function(m,b){for(var _,C=$(m,y),D=C.length;D--;)m[_=ue(m,C[D])]=!(b[_]=C[D])})):function(m){return $(m,0,b)}):$}},pseudos:{not:markFunction((function(m){var y=[],b=[],_=I(m.replace(ye,"$1"));return _[G]?markFunction((function(m,y,b,$){for(var C,D=_(m,null,$,[]),I=m.length;I--;)(C=D[I])&&(m[I]=!(y[I]=C))})):function(m,$,C){return y[0]=m,_(y,null,C,b),y[0]=null,!b.pop()}})),has:markFunction((function(m){return function(y){return Sizzle(m,y).length>0}})),contains:markFunction((function(m){return m=m.replace(Ie,Me),function(y){return(y.textContent||$(y)).indexOf(m)>-1}})),lang:markFunction((function(m){return Ce.test(m||"")||Sizzle.error("unsupported lang: "+m),m=m.replace(Ie,Me).toLowerCase(),function(y){var b;do{if(b=z?y.lang:y.getAttribute("xml:lang")||y.getAttribute("lang"))return(b=b.toLowerCase())===m||0===b.indexOf(m+"-")}while((y=y.parentNode)&&1===y.nodeType);return!1}})),target:function target(y){var b=m.location&&m.location.hash;return b&&b.slice(1)===y.id},root:function root(m){return m===B},focus:function focus(m){return m===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(m.type||m.href||~m.tabIndex)},enabled:createDisabledPseudo(!1),disabled:createDisabledPseudo(!0),checked:function checked(m){var y=m.nodeName.toLowerCase();return"input"===y&&!!m.checked||"option"===y&&!!m.selected},selected:function selected(m){return m.parentNode&&m.parentNode.selectedIndex,!0===m.selected},empty:function empty(m){for(m=m.firstChild;m;m=m.nextSibling)if(m.nodeType<6)return!1;return!0},parent:function parent(m){return!_.pseudos.empty(m)},header:function header(m){return Te.test(m.nodeName)},input:function input(m){return Se.test(m.nodeName)},button:function button(m){var y=m.nodeName.toLowerCase();return"input"===y&&"button"===m.type||"button"===y},text:function text(m){var y;return"input"===m.nodeName.toLowerCase()&&"text"===m.type&&(null==(y=m.getAttribute("type"))||"text"===y.toLowerCase())},first:createPositionalPseudo((function(){return[0]})),last:createPositionalPseudo((function(m,y){return[y-1]})),eq:createPositionalPseudo((function(m,y,b){return[b<0?b+y:b]})),even:createPositionalPseudo((function(m,y){for(var b=0;b<y;b+=2)m.push(b);return m})),odd:createPositionalPseudo((function(m,y){for(var b=1;b<y;b+=2)m.push(b);return m})),lt:createPositionalPseudo((function(m,y,b){for(var _=b<0?b+y:b>y?y:b;--_>=0;)m.push(_);return m})),gt:createPositionalPseudo((function(m,y,b){for(var _=b<0?b+y:b;++_<y;)m.push(_);return m}))}}).pseudos.nth=_.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[y]=createInputPseudo(y);for(y in{submit:!0,reset:!0})_.pseudos[y]=createButtonPseudo(y);function setFilters(){}function toSelector(m){for(var y=0,b=m.length,_="";y<b;y++)_+=m[y].value;return _}function addCombinator(m,y,b){var _=y.dir,$=y.next,C=$||_,D=b&&"parentNode"===C,I=Q++;return y.first?function(y,b,$){for(;y=y[_];)if(1===y.nodeType||D)return m(y,b,$);return!1}:function(y,b,M){var P,R,N,U=[K,I];if(M){for(;y=y[_];)if((1===y.nodeType||D)&&m(y,b,M))return!0}else for(;y=y[_];)if(1===y.nodeType||D)if(R=(N=y[G]||(y[G]={}))[y.uniqueID]||(N[y.uniqueID]={}),$&&$===y.nodeName.toLowerCase())y=y[_]||y;else{if((P=R[C])&&P[0]===K&&P[1]===I)return U[2]=P[2];if(R[C]=U,U[2]=m(y,b,M))return!0}return!1}}function elementMatcher(m){return m.length>1?function(y,b,_){for(var $=m.length;$--;)if(!m[$](y,b,_))return!1;return!0}:m[0]}function condense(m,y,b,_,$){for(var C,D=[],I=0,M=m.length,P=null!=y;I<M;I++)(C=m[I])&&(b&&!b(C,_,$)||(D.push(C),P&&y.push(I)));return D}function setMatcher(m,y,b,_,$,C){return _&&!_[G]&&(_=setMatcher(_)),$&&!$[G]&&($=setMatcher($,C)),markFunction((function(C,D,I,M){var P,R,N,U=[],H=[],B=D.length,z=C||function multipleContexts(m,y,b){for(var _=0,$=y.length;_<$;_++)Sizzle(m,y[_],b);return b}(y||"*",I.nodeType?[I]:I,[]),q=!m||!C&&y?z:condense(z,U,m,I,M),W=b?$||(C?m:B||_)?[]:D:q;if(b&&b(q,W,I,M),_)for(P=condense(W,H),_(P,[],I,M),R=P.length;R--;)(N=P[R])&&(W[H[R]]=!(q[H[R]]=N));if(C){if($||m){if($){for(P=[],R=W.length;R--;)(N=W[R])&&P.push(q[R]=N);$(null,W=[],P,M)}for(R=W.length;R--;)(N=W[R])&&(P=$?ue(C,N):U[R])>-1&&(C[P]=!(D[P]=N))}}else W=condense(W===D?W.splice(B,W.length):W),$?$(null,D,W,M):ce.apply(D,W)}))}function matcherFromTokens(m){for(var y,b,$,C=m.length,D=_.relative[m[0].type],I=D||_.relative[" "],M=D?1:0,R=addCombinator((function(m){return m===y}),I,!0),N=addCombinator((function(m){return ue(y,m)>-1}),I,!0),U=[function(m,b,_){var $=!D&&(_||b!==P)||((y=b).nodeType?R(m,b,_):N(m,b,_));return y=null,$}];M<C;M++)if(b=_.relative[m[M].type])U=[addCombinator(elementMatcher(U),b)];else{if((b=_.filter[m[M].type].apply(null,m[M].matches))[G]){for($=++M;$<C&&!_.relative[m[$].type];$++);return setMatcher(M>1&&elementMatcher(U),M>1&&toSelector(m.slice(0,M-1).concat({value:" "===m[M-2].type?"*":""})).replace(ye,"$1"),b,M<$&&matcherFromTokens(m.slice(M,$)),$<C&&matcherFromTokens(m=m.slice($)),$<C&&toSelector(m))}U.push(b)}return elementMatcher(U)}return setFilters.prototype=_.filters=_.pseudos,_.setFilters=new setFilters,D=Sizzle.tokenize=function(m,y){var b,$,C,D,I,M,P,R=Z[m+" "];if(R)return y?0:R.slice(0);for(I=m,M=[],P=_.preFilter;I;){for(D in b&&!($=be.exec(I))||($&&(I=I.slice($[0].length)||I),M.push(C=[])),b=!1,($=_e.exec(I))&&(b=$.shift(),C.push({value:b,type:$[0].replace(ye," ")}),I=I.slice(b.length)),_.filter)!($=ke[D].exec(I))||P[D]&&!($=P[D]($))||(b=$.shift(),C.push({value:b,type:D,matches:$}),I=I.slice(b.length));if(!b)break}return y?I.length:I?Sizzle.error(m):Z(m,M).slice(0)},I=Sizzle.compile=function(m,y){var b,$=[],C=[],I=ee[m+" "];if(!I){for(y||(y=D(m)),b=y.length;b--;)(I=matcherFromTokens(y[b]))[G]?$.push(I):C.push(I);(I=ee(m,function matcherFromGroupMatchers(m,y){var b=y.length>0,$=m.length>0,C=function superMatcher(C,D,I,M,R){var N,B,q,W=0,X="0",V=C&&[],G=[],Y=P,Q=C||$&&_.find.TAG("*",R),J=K+=null==Y?1:Math.random()||.1,Z=Q.length;for(R&&(P=D==H||D||R);X!==Z&&null!=(N=Q[X]);X++){if($&&N){for(B=0,D||N.ownerDocument==H||(U(N),I=!z);q=m[B++];)if(q(N,D||H,I)){M.push(N);break}R&&(K=J)}b&&((N=!q&&N)&&W--,C&&V.push(N))}if(W+=X,b&&X!==W){for(B=0;q=y[B++];)q(V,G,D,I);if(C){if(W>0)for(;X--;)V[X]||G[X]||(G[X]=ae.call(M));G=condense(G)}ce.apply(M,G),R&&!C&&G.length>0&&W+y.length>1&&Sizzle.uniqueSort(M)}return R&&(K=J,P=Y),V};return b?markFunction(C):C}(C,$))).selector=m}return I},M=Sizzle.select=function(m,y,b,$){var C,M,P,R,N,U="function"==typeof m&&m,H=!$&&D(m=U.selector||m);if(b=b||[],1===H.length){if((M=H[0]=H[0].slice(0)).length>2&&"ID"===(P=M[0]).type&&9===y.nodeType&&z&&_.relative[M[1].type]){if(!(y=(_.find.ID(P.matches[0].replace(Ie,Me),y)||[])[0]))return b;U&&(y=y.parentNode),m=m.slice(M.shift().value.length)}for(C=ke.needsContext.test(m)?0:M.length;C--&&(P=M[C],!_.relative[R=P.type]);)if((N=_.find[R])&&($=N(P.matches[0].replace(Ie,Me),De.test(M[0].type)&&testContext(y.parentNode)||y))){if(M.splice(C,1),!(m=$.length&&toSelector(M)))return ce.apply(b,$),b;break}}return(U||I(m,H))($,y,!z,b,!y||De.test(m)&&testContext(y.parentNode)||y),b},b.sortStable=G.split("").sort(ie).join("")===G,b.detectDuplicates=!!N,U(),b.sortDetached=assert((function(m){return 1&m.compareDocumentPosition(H.createElement("fieldset"))})),assert((function(m){return m.innerHTML="<a href='#'></a>","#"===m.firstChild.getAttribute("href")}))||addHandle("type|href|height|width",(function(m,y,b){if(!b)return m.getAttribute(y,"type"===y.toLowerCase()?1:2)})),b.attributes&&assert((function(m){return m.innerHTML="<input/>",m.firstChild.setAttribute("value",""),""===m.firstChild.getAttribute("value")}))||addHandle("value",(function(m,y,b){if(!b&&"input"===m.nodeName.toLowerCase())return m.defaultValue})),assert((function(m){return null==m.getAttribute("disabled")}))||addHandle(he,(function(m,y,b){var _;if(!b)return!0===m[y]?y.toLowerCase():(_=m.getAttributeNode(y))&&_.specified?_.value:null})),Sizzle}(b);K.find=Q,K.expr=Q.selectors,K.expr[":"]=K.expr.pseudos,K.uniqueSort=K.unique=Q.uniqueSort,K.text=Q.getText,K.isXMLDoc=Q.isXML,K.contains=Q.contains,K.escapeSelector=Q.escape;var J=function dir(m,y,b){for(var _=[],$=void 0!==b;(m=m[y])&&9!==m.nodeType;)if(1===m.nodeType){if($&&K(m).is(b))break;_.push(m)}return _},Z=function siblings(m,y){for(var b=[];m;m=m.nextSibling)1===m.nodeType&&m!==y&&b.push(m);return b},ee=K.expr.match.needsContext;function nodeName(m,y){return m.nodeName&&m.nodeName.toLowerCase()===y.toLowerCase()}var te=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function winnow(m,y,b){return X(y)?K.grep(m,(function(m,_){return!!y.call(m,_,m)!==b})):y.nodeType?K.grep(m,(function(m){return m===y!==b})):"string"!=typeof y?K.grep(m,(function(m){return N.call(y,m)>-1!==b})):K.filter(y,m,b)}K.filter=function(m,y,b){var _=y[0];return b&&(m=":not("+m+")"),1===y.length&&1===_.nodeType?K.find.matchesSelector(_,m)?[_]:[]:K.find.matches(m,K.grep(y,(function(m){return 1===m.nodeType})))},K.fn.extend({find:function find(m){var y,b,_=this.length,$=this;if("string"!=typeof m)return this.pushStack(K(m).filter((function(){for(y=0;y<_;y++)if(K.contains($[y],this))return!0})));for(b=this.pushStack([]),y=0;y<_;y++)K.find(m,$[y],b);return _>1?K.uniqueSort(b):b},filter:function filter(m){return this.pushStack(winnow(this,m||[],!1))},not:function not(m){return this.pushStack(winnow(this,m||[],!0))},is:function is(m){return!!winnow(this,"string"==typeof m&&ee.test(m)?K(m):m||[],!1).length}});var ie,oe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(K.fn.init=function(m,y,b){var _,$;if(!m)return this;if(b=b||ie,"string"==typeof m){if(!(_="<"===m[0]&&">"===m[m.length-1]&&m.length>=3?[null,m,null]:oe.exec(m))||!_[1]&&y)return!y||y.jquery?(y||b).find(m):this.constructor(y).find(m);if(_[1]){if(y=y instanceof K?y[0]:y,K.merge(this,K.parseHTML(_[1],y&&y.nodeType?y.ownerDocument||y:G,!0)),te.test(_[1])&&K.isPlainObject(y))for(_ in y)X(this[_])?this[_](y[_]):this.attr(_,y[_]);return this}return($=G.getElementById(_[2]))&&(this[0]=$,this.length=1),this}return m.nodeType?(this[0]=m,this.length=1,this):X(m)?void 0!==b.ready?b.ready(m):m(K):K.makeArray(m,this)}).prototype=K.fn,ie=K(G);var re=/^(?:parents|prev(?:Until|All))/,ae={children:!0,contents:!0,next:!0,prev:!0};function sibling(m,y){for(;(m=m[y])&&1!==m.nodeType;);return m}K.fn.extend({has:function has(m){var y=K(m,this),b=y.length;return this.filter((function(){for(var m=0;m<b;m++)if(K.contains(this,y[m]))return!0}))},closest:function closest(m,y){var b,_=0,$=this.length,C=[],D="string"!=typeof m&&K(m);if(!ee.test(m))for(;_<$;_++)for(b=this[_];b&&b!==y;b=b.parentNode)if(b.nodeType<11&&(D?D.index(b)>-1:1===b.nodeType&&K.find.matchesSelector(b,m))){C.push(b);break}return this.pushStack(C.length>1?K.uniqueSort(C):C)},index:function index(m){return m?"string"==typeof m?N.call(K(m),this[0]):N.call(this,m.jquery?m[0]:m):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function add(m,y){return this.pushStack(K.uniqueSort(K.merge(this.get(),K(m,y))))},addBack:function addBack(m){return this.add(null==m?this.prevObject:this.prevObject.filter(m))}}),K.each({parent:function parent(m){var parent=m.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function parents(m){return J(m,"parentNode")},parentsUntil:function parentsUntil(m,y,b){return J(m,"parentNode",b)},next:function next(m){return sibling(m,"nextSibling")},prev:function prev(m){return sibling(m,"previousSibling")},nextAll:function nextAll(m){return J(m,"nextSibling")},prevAll:function prevAll(m){return J(m,"previousSibling")},nextUntil:function nextUntil(m,y,b){return J(m,"nextSibling",b)},prevUntil:function prevUntil(m,y,b){return J(m,"previousSibling",b)},siblings:function siblings(m){return Z((m.parentNode||{}).firstChild,m)},children:function children(m){return Z(m.firstChild)},contents:function contents(m){return null!=m.contentDocument&&I(m.contentDocument)?m.contentDocument:(nodeName(m,"template")&&(m=m.content||m),K.merge([],m.childNodes))}},(function(m,y){K.fn[m]=function(b,_){var $=K.map(this,y,b);return"Until"!==m.slice(-5)&&(_=b),_&&"string"==typeof _&&($=K.filter(_,$)),this.length>1&&(ae[m]||K.uniqueSort($),re.test(m)&&$.reverse()),this.pushStack($)}}));var le=/[^\x20\t\r\n\f]+/g;function Identity(m){return m}function Thrower(m){throw m}function adoptValue(m,y,b,_){var $;try{m&&X($=m.promise)?$.call(m).done(y).fail(b):m&&X($=m.then)?$.call(m,y,b):y.apply(void 0,[m].slice(_))}catch(m){b.apply(void 0,[m])}}K.Callbacks=function(m){m="string"==typeof m?function createOptions(m){var y={};return K.each(m.match(le)||[],(function(m,b){y[b]=!0})),y}(m):K.extend({},m);var y,b,_,$,C=[],D=[],I=-1,M=function fire(){for($=$||m.once,_=y=!0;D.length;I=-1)for(b=D.shift();++I<C.length;)!1===C[I].apply(b[0],b[1])&&m.stopOnFalse&&(I=C.length,b=!1);m.memory||(b=!1),y=!1,$&&(C=b?[]:"")},P={add:function add(){return C&&(b&&!y&&(I=C.length-1,D.push(b)),function add(y){K.each(y,(function(y,b){X(b)?m.unique&&P.has(b)||C.push(b):b&&b.length&&"string"!==toType(b)&&add(b)}))}(arguments),b&&!y&&M()),this},remove:function remove(){return K.each(arguments,(function(m,y){for(var b;(b=K.inArray(y,C,b))>-1;)C.splice(b,1),b<=I&&I--})),this},has:function has(m){return m?K.inArray(m,C)>-1:C.length>0},empty:function empty(){return C&&(C=[]),this},disable:function disable(){return $=D=[],C=b="",this},disabled:function disabled(){return!C},lock:function lock(){return $=D=[],b||y||(C=b=""),this},locked:function locked(){return!!$},fireWith:function fireWith(m,b){return $||(b=[m,(b=b||[]).slice?b.slice():b],D.push(b),y||M()),this},fire:function fire(){return P.fireWith(this,arguments),this},fired:function fired(){return!!_}};return P},K.extend({Deferred:function Deferred(m){var y=[["notify","progress",K.Callbacks("memory"),K.Callbacks("memory"),2],["resolve","done",K.Callbacks("once memory"),K.Callbacks("once memory"),0,"resolved"],["reject","fail",K.Callbacks("once memory"),K.Callbacks("once memory"),1,"rejected"]],_="pending",C={state:function state(){return _},always:function always(){return D.done(arguments).fail(arguments),this},catch:function _catch(m){return C.then(null,m)},pipe:function pipe(){var m=arguments;return K.Deferred((function(b){K.each(y,(function(y,_){var $=X(m[_[4]])&&m[_[4]];D[_[1]]((function(){var m=$&&$.apply(this,arguments);m&&X(m.promise)?m.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[_[0]+"With"](this,$?[m]:arguments)}))})),m=null})).promise()},then:function then(m,_,C){var D=0;function resolve(m,y,_,C){return function(){var I=this,M=arguments,P=function mightThrow(){var b,P;if(!(m<D)){if((b=_.apply(I,M))===y.promise())throw new TypeError("Thenable self-resolution");P=b&&("object"===$(b)||"function"==typeof b)&&b.then,X(P)?C?P.call(b,resolve(D,y,Identity,C),resolve(D,y,Thrower,C)):(D++,P.call(b,resolve(D,y,Identity,C),resolve(D,y,Thrower,C),resolve(D,y,Identity,y.notifyWith))):(_!==Identity&&(I=void 0,M=[b]),(C||y.resolveWith)(I,M))}},R=C?P:function(){try{P()}catch(b){K.Deferred.exceptionHook&&K.Deferred.exceptionHook(b,R.stackTrace),m+1>=D&&(_!==Thrower&&(I=void 0,M=[b]),y.rejectWith(I,M))}};m?R():(K.Deferred.getStackHook&&(R.stackTrace=K.Deferred.getStackHook()),b.setTimeout(R))}}return K.Deferred((function(b){y[0][3].add(resolve(0,b,X(C)?C:Identity,b.notifyWith)),y[1][3].add(resolve(0,b,X(m)?m:Identity)),y[2][3].add(resolve(0,b,X(_)?_:Thrower))})).promise()},promise:function promise(m){return null!=m?K.extend(m,C):C}},D={};return K.each(y,(function(m,b){var $=b[2],I=b[5];C[b[1]]=$.add,I&&$.add((function(){_=I}),y[3-m][2].disable,y[3-m][3].disable,y[0][2].lock,y[0][3].lock),$.add(b[3].fire),D[b[0]]=function(){return D[b[0]+"With"](this===D?void 0:this,arguments),this},D[b[0]+"With"]=$.fireWith})),C.promise(D),m&&m.call(D,D),D},when:function when(m){var y=arguments.length,b=y,_=Array(b),$=M.call(arguments),C=K.Deferred(),D=function updateFunc(m){return function(b){_[m]=this,$[m]=arguments.length>1?M.call(arguments):b,--y||C.resolveWith(_,$)}};if(y<=1&&(adoptValue(m,C.done(D(b)).resolve,C.reject,!y),"pending"===C.state()||X($[b]&&$[b].then)))return C.then();for(;b--;)adoptValue($[b],D(b),C.reject);return C.promise()}});var ce=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;K.Deferred.exceptionHook=function(m,y){b.console&&b.console.warn&&m&&ce.test(m.name)&&b.console.warn("jQuery.Deferred exception: "+m.message,m.stack,y)},K.readyException=function(m){b.setTimeout((function(){throw m}))};var de=K.Deferred();function completed(){G.removeEventListener("DOMContentLoaded",completed),b.removeEventListener("load",completed),K.ready()}K.fn.ready=function(m){return de.then(m).catch((function(m){K.readyException(m)})),this},K.extend({isReady:!1,readyWait:1,ready:function ready(m){(!0===m?--K.readyWait:K.isReady)||(K.isReady=!0,!0!==m&&--K.readyWait>0||de.resolveWith(G,[K]))}}),K.ready.then=de.then,"complete"===G.readyState||"loading"!==G.readyState&&!G.documentElement.doScroll?b.setTimeout(K.ready):(G.addEventListener("DOMContentLoaded",completed),b.addEventListener("load",completed));var ue=function access(m,y,b,_,$,C,D){var I=0,M=m.length,P=null==b;if("object"===toType(b))for(I in $=!0,b)ue(m,y,I,b[I],!0,C,D);else if(void 0!==_&&($=!0,X(_)||(D=!0),P&&(D?(y.call(m,_),y=null):(P=y,y=function fn(m,y,b){return P.call(K(m),b)})),y))for(;I<M;I++)y(m[I],b,D?_:_.call(m[I],I,y(m[I],b)));return $?m:P?y.call(m):M?y(m[0],b):C},he=/^-ms-/,pe=/-([a-z])/g;function fcamelCase(m,y){return y.toUpperCase()}function camelCase(m){return m.replace(he,"ms-").replace(pe,fcamelCase)}var fe=function acceptData(m){return 1===m.nodeType||9===m.nodeType||!+m.nodeType};function Data(){this.expando=K.expando+Data.uid++}Data.uid=1,Data.prototype={cache:function cache(m){var y=m[this.expando];return y||(y={},fe(m)&&(m.nodeType?m[this.expando]=y:Object.defineProperty(m,this.expando,{value:y,configurable:!0}))),y},set:function set(m,y,b){var _,$=this.cache(m);if("string"==typeof y)$[camelCase(y)]=b;else for(_ in y)$[camelCase(_)]=y[_];return $},get:function get(m,y){return void 0===y?this.cache(m):m[this.expando]&&m[this.expando][camelCase(y)]},access:function access(m,y,b){return void 0===y||y&&"string"==typeof y&&void 0===b?this.get(m,y):(this.set(m,y,b),void 0!==b?b:y)},remove:function remove(m,y){var b,_=m[this.expando];if(void 0!==_){if(void 0!==y){b=(y=Array.isArray(y)?y.map(camelCase):(y=camelCase(y))in _?[y]:y.match(le)||[]).length;for(;b--;)delete _[y[b]]}(void 0===y||K.isEmptyObject(_))&&(m.nodeType?m[this.expando]=void 0:delete m[this.expando])}},hasData:function hasData(m){var y=m[this.expando];return void 0!==y&&!K.isEmptyObject(y)}};var ge=new Data,me=new Data,ve=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ye=/[A-Z]/g;function dataAttr(m,y,b){var _;if(void 0===b&&1===m.nodeType)if(_="data-"+y.replace(ye,"-$&").toLowerCase(),"string"==typeof(b=m.getAttribute(_))){try{b=function getData(m){return"true"===m||"false"!==m&&("null"===m?null:m===+m+""?+m:ve.test(m)?JSON.parse(m):m)}(b)}catch(m){}me.set(m,y,b)}else b=void 0;return b}K.extend({hasData:function hasData(m){return me.hasData(m)||ge.hasData(m)},data:function data(m,y,b){return me.access(m,y,b)},removeData:function removeData(m,y){me.remove(m,y)},_data:function _data(m,y,b){return ge.access(m,y,b)},_removeData:function _removeData(m,y){ge.remove(m,y)}}),K.fn.extend({data:function data(m,y){var b,_,data,C=this[0],D=C&&C.attributes;if(void 0===m){if(this.length&&(data=me.get(C),1===C.nodeType&&!ge.get(C,"hasDataAttrs"))){for(b=D.length;b--;)D[b]&&0===(_=D[b].name).indexOf("data-")&&(_=camelCase(_.slice(5)),dataAttr(C,_,data[_]));ge.set(C,"hasDataAttrs",!0)}return data}return"object"===$(m)?this.each((function(){me.set(this,m)})):ue(this,(function(y){var b;if(C&&void 0===y)return void 0!==(b=me.get(C,m))||void 0!==(b=dataAttr(C,m))?b:void 0;this.each((function(){me.set(this,m,y)}))}),null,y,arguments.length>1,null,!0)},removeData:function removeData(m){return this.each((function(){me.remove(this,m)}))}}),K.extend({queue:function queue(m,y,b){var queue;if(m)return y=(y||"fx")+"queue",queue=ge.get(m,y),b&&(!queue||Array.isArray(b)?queue=ge.access(m,y,K.makeArray(b)):queue.push(b)),queue||[]},dequeue:function dequeue(m,y){y=y||"fx";var b=K.queue(m,y),_=b.length,$=b.shift(),C=K._queueHooks(m,y);"inprogress"===$&&($=b.shift(),_--),$&&("fx"===y&&b.unshift("inprogress"),delete C.stop,$.call(m,(function next(){K.dequeue(m,y)}),C)),!_&&C&&C.empty.fire()},_queueHooks:function _queueHooks(m,y){var b=y+"queueHooks";return ge.get(m,b)||ge.access(m,b,{empty:K.Callbacks("once memory").add((function(){ge.remove(m,[y+"queue",b])}))})}}),K.fn.extend({queue:function queue(m,y){var b=2;return"string"!=typeof m&&(y=m,m="fx",b--),arguments.length<b?K.queue(this[0],m):void 0===y?this:this.each((function(){var b=K.queue(this,m,y);K._queueHooks(this,m),"fx"===m&&"inprogress"!==b[0]&&K.dequeue(this,m)}))},dequeue:function dequeue(m){return this.each((function(){K.dequeue(this,m)}))},clearQueue:function clearQueue(m){return this.queue(m||"fx",[])},promise:function promise(m,y){var b,_=1,$=K.Deferred(),C=this,D=this.length,I=function resolve(){--_||$.resolveWith(C,[C])};for("string"!=typeof m&&(y=m,m=void 0),m=m||"fx";D--;)(b=ge.get(C[D],m+"queueHooks"))&&b.empty&&(_++,b.empty.add(I));return I(),$.promise(y)}});var be=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_e=new RegExp("^(?:([+-])=|)("+be+")([a-z%]*)$","i"),we=["Top","Right","Bottom","Left"],$e=G.documentElement,Ce=function isAttached(m){return K.contains(m.ownerDocument,m)},ke={composed:!0};$e.getRootNode&&(Ce=function isAttached(m){return K.contains(m.ownerDocument,m)||m.getRootNode(ke)===m.ownerDocument});var xe=function isHiddenWithinTree(m,y){return"none"===(m=y||m).style.display||""===m.style.display&&Ce(m)&&"none"===K.css(m,"display")};function adjustCSS(m,y,b,_){var $,C,D=20,I=_?function(){return _.cur()}:function(){return K.css(m,y,"")},M=I(),P=b&&b[3]||(K.cssNumber[y]?"":"px"),R=m.nodeType&&(K.cssNumber[y]||"px"!==P&&+M)&&_e.exec(K.css(m,y));if(R&&R[3]!==P){for(M/=2,P=P||R[3],R=+M||1;D--;)K.style(m,y,R+P),(1-C)*(1-(C=I()/M||.5))<=0&&(D=0),R/=C;R*=2,K.style(m,y,R+P),b=b||[]}return b&&(R=+R||+M||0,$=b[1]?R+(b[1]+1)*b[2]:+b[2],_&&(_.unit=P,_.start=R,_.end=$)),$}var Se={};function getDefaultDisplay(m){var y,b=m.ownerDocument,_=m.nodeName,$=Se[_];return $||(y=b.body.appendChild(b.createElement(_)),$=K.css(y,"display"),y.parentNode.removeChild(y),"none"===$&&($="block"),Se[_]=$,$)}function showHide(m,y){for(var b,_,$=[],C=0,D=m.length;C<D;C++)(_=m[C]).style&&(b=_.style.display,y?("none"===b&&($[C]=ge.get(_,"display")||null,$[C]||(_.style.display="")),""===_.style.display&&xe(_)&&($[C]=getDefaultDisplay(_))):"none"!==b&&($[C]="none",ge.set(_,"display",b)));for(C=0;C<D;C++)null!=$[C]&&(m[C].style.display=$[C]);return m}K.fn.extend({show:function show(){return showHide(this,!0)},hide:function hide(){return showHide(this)},toggle:function toggle(m){return"boolean"==typeof m?m?this.show():this.hide():this.each((function(){xe(this)?K(this).show():K(this).hide()}))}});var Te,Ee,Ae=/^(?:checkbox|radio)$/i,De=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ie=/^$|^module$|\/(?:java|ecma)script/i;Te=G.createDocumentFragment().appendChild(G.createElement("div")),(Ee=G.createElement("input")).setAttribute("type","radio"),Ee.setAttribute("checked","checked"),Ee.setAttribute("name","t"),Te.appendChild(Ee),W.checkClone=Te.cloneNode(!0).cloneNode(!0).lastChild.checked,Te.innerHTML="<textarea>x</textarea>",W.noCloneChecked=!!Te.cloneNode(!0).lastChild.defaultValue,Te.innerHTML="<option></option>",W.option=!!Te.lastChild;var Me={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function getAll(m,y){var b;return b=void 0!==m.getElementsByTagName?m.getElementsByTagName(y||"*"):void 0!==m.querySelectorAll?m.querySelectorAll(y||"*"):[],void 0===y||y&&nodeName(m,y)?K.merge([m],b):b}function setGlobalEval(m,y){for(var b=0,_=m.length;b<_;b++)ge.set(m[b],"globalEval",!y||ge.get(y[b],"globalEval"))}Me.tbody=Me.tfoot=Me.colgroup=Me.caption=Me.thead,Me.th=Me.td,W.option||(Me.optgroup=Me.option=[1,"<select multiple='multiple'>","</select>"]);var Pe=/<|&#?\w+;/;function buildFragment(m,y,b,_,$){for(var C,D,I,M,P,R,N=y.createDocumentFragment(),U=[],H=0,B=m.length;H<B;H++)if((C=m[H])||0===C)if("object"===toType(C))K.merge(U,C.nodeType?[C]:C);else if(Pe.test(C)){for(D=D||N.appendChild(y.createElement("div")),I=(De.exec(C)||["",""])[1].toLowerCase(),M=Me[I]||Me._default,D.innerHTML=M[1]+K.htmlPrefilter(C)+M[2],R=M[0];R--;)D=D.lastChild;K.merge(U,D.childNodes),(D=N.firstChild).textContent=""}else U.push(y.createTextNode(C));for(N.textContent="",H=0;C=U[H++];)if(_&&K.inArray(C,_)>-1)$&&$.push(C);else if(P=Ce(C),D=getAll(N.appendChild(C),"script"),P&&setGlobalEval(D),b)for(R=0;C=D[R++];)Ie.test(C.type||"")&&b.push(C);return N}var Le=/^key/,Oe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,je=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return!0}function returnFalse(){return!1}function expectSync(m,y){return m===function safeActiveElement(){try{return G.activeElement}catch(m){}}()==("focus"===y)}function _on(m,y,b,_,C,D){var I,M;if("object"===$(y)){for(M in"string"!=typeof b&&(_=_||b,b=void 0),y)_on(m,M,b,_,y[M],D);return m}if(null==_&&null==C?(C=b,_=b=void 0):null==C&&("string"==typeof b?(C=_,_=void 0):(C=_,_=b,b=void 0)),!1===C)C=returnFalse;else if(!C)return m;return 1===D&&(I=C,(C=function fn(m){return K().off(m),I.apply(this,arguments)}).guid=I.guid||(I.guid=K.guid++)),m.each((function(){K.event.add(this,y,C,_,b)}))}function leverageNative(m,y,b){b?(ge.set(m,y,!1),K.event.add(m,y,{namespace:!1,handler:function handler(m){var _,$,C=ge.get(this,y);if(1&m.isTrigger&&this[y]){if(C.length)(K.event.special[y]||{}).delegateType&&m.stopPropagation();else if(C=M.call(arguments),ge.set(this,y,C),_=b(this,y),this[y](),C!==($=ge.get(this,y))||_?ge.set(this,y,!1):$={},C!==$)return m.stopImmediatePropagation(),m.preventDefault(),$.value}else C.length&&(ge.set(this,y,{value:K.event.trigger(K.extend(C[0],K.Event.prototype),C.slice(1),this)}),m.stopImmediatePropagation())}})):void 0===ge.get(m,y)&&K.event.add(m,y,returnTrue)}K.event={global:{},add:function add(m,y,b,_,$){var C,D,I,M,P,R,N,U,H,B,z,q=ge.get(m);if(fe(m))for(b.handler&&(b=(C=b).handler,$=C.selector),$&&K.find.matchesSelector($e,$),b.guid||(b.guid=K.guid++),(M=q.events)||(M=q.events=Object.create(null)),(D=q.handle)||(D=q.handle=function(y){return void 0!==K&&K.event.triggered!==y.type?K.event.dispatch.apply(m,arguments):void 0}),P=(y=(y||"").match(le)||[""]).length;P--;)H=z=(I=je.exec(y[P])||[])[1],B=(I[2]||"").split(".").sort(),H&&(N=K.event.special[H]||{},H=($?N.delegateType:N.bindType)||H,N=K.event.special[H]||{},R=K.extend({type:H,origType:z,data:_,handler:b,guid:b.guid,selector:$,needsContext:$&&K.expr.match.needsContext.test($),namespace:B.join(".")},C),(U=M[H])||((U=M[H]=[]).delegateCount=0,N.setup&&!1!==N.setup.call(m,_,B,D)||m.addEventListener&&m.addEventListener(H,D)),N.add&&(N.add.call(m,R),R.handler.guid||(R.handler.guid=b.guid)),$?U.splice(U.delegateCount++,0,R):U.push(R),K.event.global[H]=!0)},remove:function remove(m,y,b,_,$){var C,D,I,M,P,R,N,U,H,B,z,q=ge.hasData(m)&&ge.get(m);if(q&&(M=q.events)){for(P=(y=(y||"").match(le)||[""]).length;P--;)if(H=z=(I=je.exec(y[P])||[])[1],B=(I[2]||"").split(".").sort(),H){for(N=K.event.special[H]||{},U=M[H=(_?N.delegateType:N.bindType)||H]||[],I=I[2]&&new RegExp("(^|\\.)"+B.join("\\.(?:.*\\.|)")+"(\\.|$)"),D=C=U.length;C--;)R=U[C],!$&&z!==R.origType||b&&b.guid!==R.guid||I&&!I.test(R.namespace)||_&&_!==R.selector&&("**"!==_||!R.selector)||(U.splice(C,1),R.selector&&U.delegateCount--,N.remove&&N.remove.call(m,R));D&&!U.length&&(N.teardown&&!1!==N.teardown.call(m,B,q.handle)||K.removeEvent(m,H,q.handle),delete M[H])}else for(H in M)K.event.remove(m,H+y[P],b,_,!0);K.isEmptyObject(M)&&ge.remove(m,"handle events")}},dispatch:function dispatch(m){var y,b,_,$,C,D,I=new Array(arguments.length),M=K.event.fix(m),P=(ge.get(this,"events")||Object.create(null))[M.type]||[],R=K.event.special[M.type]||{};for(I[0]=M,y=1;y<arguments.length;y++)I[y]=arguments[y];if(M.delegateTarget=this,!R.preDispatch||!1!==R.preDispatch.call(this,M)){for(D=K.event.handlers.call(this,M,P),y=0;($=D[y++])&&!M.isPropagationStopped();)for(M.currentTarget=$.elem,b=0;(C=$.handlers[b++])&&!M.isImmediatePropagationStopped();)M.rnamespace&&!1!==C.namespace&&!M.rnamespace.test(C.namespace)||(M.handleObj=C,M.data=C.data,void 0!==(_=((K.event.special[C.origType]||{}).handle||C.handler).apply($.elem,I))&&!1===(M.result=_)&&(M.preventDefault(),M.stopPropagation()));return R.postDispatch&&R.postDispatch.call(this,M),M.result}},handlers:function handlers(m,y){var b,_,$,C,D,I=[],M=y.delegateCount,P=m.target;if(M&&P.nodeType&&!("click"===m.type&&m.button>=1))for(;P!==this;P=P.parentNode||this)if(1===P.nodeType&&("click"!==m.type||!0!==P.disabled)){for(C=[],D={},b=0;b<M;b++)void 0===D[$=(_=y[b]).selector+" "]&&(D[$]=_.needsContext?K($,this).index(P)>-1:K.find($,this,null,[P]).length),D[$]&&C.push(_);C.length&&I.push({elem:P,handlers:C})}return P=this,M<y.length&&I.push({elem:P,handlers:y.slice(M)}),I},addProp:function addProp(m,y){Object.defineProperty(K.Event.prototype,m,{enumerable:!0,configurable:!0,get:X(y)?function(){if(this.originalEvent)return y(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[m]},set:function set(y){Object.defineProperty(this,m,{enumerable:!0,configurable:!0,writable:!0,value:y})}})},fix:function fix(m){return m[K.expando]?m:new K.Event(m)},special:{load:{noBubble:!0},click:{setup:function setup(m){var y=this||m;return Ae.test(y.type)&&y.click&&nodeName(y,"input")&&leverageNative(y,"click",returnTrue),!1},trigger:function trigger(m){var y=this||m;return Ae.test(y.type)&&y.click&&nodeName(y,"input")&&leverageNative(y,"click"),!0},_default:function _default(m){var y=m.target;return Ae.test(y.type)&&y.click&&nodeName(y,"input")&&ge.get(y,"click")||nodeName(y,"a")}},beforeunload:{postDispatch:function postDispatch(m){void 0!==m.result&&m.originalEvent&&(m.originalEvent.returnValue=m.result)}}}},K.removeEvent=function(m,y,b){m.removeEventListener&&m.removeEventListener(y,b)},K.Event=function(m,y){if(!(this instanceof K.Event))return new K.Event(m,y);m&&m.type?(this.originalEvent=m,this.type=m.type,this.isDefaultPrevented=m.defaultPrevented||void 0===m.defaultPrevented&&!1===m.returnValue?returnTrue:returnFalse,this.target=m.target&&3===m.target.nodeType?m.target.parentNode:m.target,this.currentTarget=m.currentTarget,this.relatedTarget=m.relatedTarget):this.type=m,y&&K.extend(this,y),this.timeStamp=m&&m.timeStamp||Date.now(),this[K.expando]=!0},K.Event.prototype={constructor:K.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:!1,preventDefault:function preventDefault(){var m=this.originalEvent;this.isDefaultPrevented=returnTrue,m&&!this.isSimulated&&m.preventDefault()},stopPropagation:function stopPropagation(){var m=this.originalEvent;this.isPropagationStopped=returnTrue,m&&!this.isSimulated&&m.stopPropagation()},stopImmediatePropagation:function stopImmediatePropagation(){var m=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,m&&!this.isSimulated&&m.stopImmediatePropagation(),this.stopPropagation()}},K.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function which(m){var y=m.button;return null==m.which&&Le.test(m.type)?null!=m.charCode?m.charCode:m.keyCode:!m.which&&void 0!==y&&Oe.test(m.type)?1&y?1:2&y?3:4&y?2:0:m.which}},K.event.addProp),K.each({focus:"focusin",blur:"focusout"},(function(m,y){K.event.special[m]={setup:function setup(){return leverageNative(this,m,expectSync),!1},trigger:function trigger(){return leverageNative(this,m),!0},delegateType:y}})),K.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(m,y){K.event.special[m]={delegateType:y,bindType:y,handle:function handle(m){var b,_=this,$=m.relatedTarget,C=m.handleObj;return $&&($===_||K.contains(_,$))||(m.type=C.origType,b=C.handler.apply(this,arguments),m.type=y),b}}})),K.fn.extend({on:function on(m,y,b,_){return _on(this,m,y,b,_)},one:function one(m,y,b,_){return _on(this,m,y,b,_,1)},off:function off(m,y,b){var _,C;if(m&&m.preventDefault&&m.handleObj)return _=m.handleObj,K(m.delegateTarget).off(_.namespace?_.origType+"."+_.namespace:_.origType,_.selector,_.handler),this;if("object"===$(m)){for(C in m)this.off(C,y,m[C]);return this}return!1!==y&&"function"!=typeof y||(b=y,y=void 0),!1===b&&(b=returnFalse),this.each((function(){K.event.remove(this,m,b,y)}))}});var Re=/<script|<style|<link/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function manipulationTarget(m,y){return nodeName(m,"table")&&nodeName(11!==y.nodeType?y:y.firstChild,"tr")&&K(m).children("tbody")[0]||m}function disableScript(m){return m.type=(null!==m.getAttribute("type"))+"/"+m.type,m}function restoreScript(m){return"true/"===(m.type||"").slice(0,5)?m.type=m.type.slice(5):m.removeAttribute("type"),m}function cloneCopyEvent(m,y){var b,_,$,C,D,I;if(1===y.nodeType){if(ge.hasData(m)&&(I=ge.get(m).events))for($ in ge.remove(y,"handle events"),I)for(b=0,_=I[$].length;b<_;b++)K.event.add(y,$,I[$][b]);me.hasData(m)&&(C=me.access(m),D=K.extend({},C),me.set(y,D))}}function fixInput(m,y){var b=y.nodeName.toLowerCase();"input"===b&&Ae.test(m.type)?y.checked=m.checked:"input"!==b&&"textarea"!==b||(y.defaultValue=m.defaultValue)}function domManip(m,y,b,_){y=P(y);var $,C,D,I,M,R,N=0,U=m.length,H=U-1,B=y[0],z=X(B);if(z||U>1&&"string"==typeof B&&!W.checkClone&&Ne.test(B))return m.each((function($){var C=m.eq($);z&&(y[0]=B.call(this,$,C.html())),domManip(C,y,b,_)}));if(U&&(C=($=buildFragment(y,m[0].ownerDocument,!1,m,_)).firstChild,1===$.childNodes.length&&($=C),C||_)){for(I=(D=K.map(getAll($,"script"),disableScript)).length;N<U;N++)M=$,N!==H&&(M=K.clone(M,!0,!0),I&&K.merge(D,getAll(M,"script"))),b.call(m[N],M,N);if(I)for(R=D[D.length-1].ownerDocument,K.map(D,restoreScript),N=0;N<I;N++)M=D[N],Ie.test(M.type||"")&&!ge.access(M,"globalEval")&&K.contains(R,M)&&(M.src&&"module"!==(M.type||"").toLowerCase()?K._evalUrl&&!M.noModule&&K._evalUrl(M.src,{nonce:M.nonce||M.getAttribute("nonce")},R):DOMEval(M.textContent.replace(Fe,""),M,R))}return m}function _remove(m,y,b){for(var _,$=y?K.filter(y,m):m,C=0;null!=(_=$[C]);C++)b||1!==_.nodeType||K.cleanData(getAll(_)),_.parentNode&&(b&&Ce(_)&&setGlobalEval(getAll(_,"script")),_.parentNode.removeChild(_));return m}K.extend({htmlPrefilter:function htmlPrefilter(m){return m},clone:function clone(m,y,b){var _,$,C,D,clone=m.cloneNode(!0),I=Ce(m);if(!(W.noCloneChecked||1!==m.nodeType&&11!==m.nodeType||K.isXMLDoc(m)))for(D=getAll(clone),_=0,$=(C=getAll(m)).length;_<$;_++)fixInput(C[_],D[_]);if(y)if(b)for(C=C||getAll(m),D=D||getAll(clone),_=0,$=C.length;_<$;_++)cloneCopyEvent(C[_],D[_]);else cloneCopyEvent(m,clone);return(D=getAll(clone,"script")).length>0&&setGlobalEval(D,!I&&getAll(m,"script")),clone},cleanData:function cleanData(m){for(var y,b,_,$=K.event.special,C=0;void 0!==(b=m[C]);C++)if(fe(b)){if(y=b[ge.expando]){if(y.events)for(_ in y.events)$[_]?K.event.remove(b,_):K.removeEvent(b,_,y.handle);b[ge.expando]=void 0}b[me.expando]&&(b[me.expando]=void 0)}}}),K.fn.extend({detach:function detach(m){return _remove(this,m,!0)},remove:function remove(m){return _remove(this,m)},text:function text(m){return ue(this,(function(m){return void 0===m?K.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=m)}))}),null,m,arguments.length)},append:function append(){return domManip(this,arguments,(function(m){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||manipulationTarget(this,m).appendChild(m)}))},prepend:function prepend(){return domManip(this,arguments,(function(m){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var y=manipulationTarget(this,m);y.insertBefore(m,y.firstChild)}}))},before:function before(){return domManip(this,arguments,(function(m){this.parentNode&&this.parentNode.insertBefore(m,this)}))},after:function after(){return domManip(this,arguments,(function(m){this.parentNode&&this.parentNode.insertBefore(m,this.nextSibling)}))},empty:function empty(){for(var m,y=0;null!=(m=this[y]);y++)1===m.nodeType&&(K.cleanData(getAll(m,!1)),m.textContent="");return this},clone:function clone(m,y){return m=null!=m&&m,y=null==y?m:y,this.map((function(){return K.clone(this,m,y)}))},html:function html(m){return ue(this,(function(m){var y=this[0]||{},b=0,_=this.length;if(void 0===m&&1===y.nodeType)return y.innerHTML;if("string"==typeof m&&!Re.test(m)&&!Me[(De.exec(m)||["",""])[1].toLowerCase()]){m=K.htmlPrefilter(m);try{for(;b<_;b++)1===(y=this[b]||{}).nodeType&&(K.cleanData(getAll(y,!1)),y.innerHTML=m);y=0}catch(m){}}y&&this.empty().append(m)}),null,m,arguments.length)},replaceWith:function replaceWith(){var m=[];return domManip(this,arguments,(function(y){var b=this.parentNode;K.inArray(this,m)<0&&(K.cleanData(getAll(this)),b&&b.replaceChild(y,this))}),m)}}),K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(m,y){K.fn[m]=function(m){for(var b,_=[],$=K(m),C=$.length-1,D=0;D<=C;D++)b=D===C?this:this.clone(!0),K($[D])[y](b),R.apply(_,b.get());return this.pushStack(_)}}));var Ue=new RegExp("^("+be+")(?!px)[a-z%]+$","i"),He=function getStyles(m){var y=m.ownerDocument.defaultView;return y&&y.opener||(y=b),y.getComputedStyle(m)},Be=function swap(m,y,b){var _,$,C={};for($ in y)C[$]=m.style[$],m.style[$]=y[$];for($ in _=b.call(m),y)m.style[$]=C[$];return _},ze=new RegExp(we.join("|"),"i");function curCSS(m,y,b){var _,$,C,D,I=m.style;return(b=b||He(m))&&(""!==(D=b.getPropertyValue(y)||b[y])||Ce(m)||(D=K.style(m,y)),!W.pixelBoxStyles()&&Ue.test(D)&&ze.test(y)&&(_=I.width,$=I.minWidth,C=I.maxWidth,I.minWidth=I.maxWidth=I.width=D,D=b.width,I.width=_,I.minWidth=$,I.maxWidth=C)),void 0!==D?D+"":D}function addGetHookIf(m,y){return{get:function get(){if(!m())return(this.get=y).apply(this,arguments);delete this.get}}}!function(){function computeStyleTests(){if(M){I.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",M.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",$e.appendChild(I).appendChild(M);var C=b.getComputedStyle(M);m="1%"!==C.top,D=12===roundPixelMeasures(C.marginLeft),M.style.right="60%",$=36===roundPixelMeasures(C.right),y=36===roundPixelMeasures(C.width),M.style.position="absolute",_=12===roundPixelMeasures(M.offsetWidth/3),$e.removeChild(I),M=null}}function roundPixelMeasures(m){return Math.round(parseFloat(m))}var m,y,_,$,C,D,I=G.createElement("div"),M=G.createElement("div");M.style&&(M.style.backgroundClip="content-box",M.cloneNode(!0).style.backgroundClip="",W.clearCloneStyle="content-box"===M.style.backgroundClip,K.extend(W,{boxSizingReliable:function boxSizingReliable(){return computeStyleTests(),y},pixelBoxStyles:function pixelBoxStyles(){return computeStyleTests(),$},pixelPosition:function pixelPosition(){return computeStyleTests(),m},reliableMarginLeft:function reliableMarginLeft(){return computeStyleTests(),D},scrollboxSize:function scrollboxSize(){return computeStyleTests(),_},reliableTrDimensions:function reliableTrDimensions(){var m,y,_,$;return null==C&&(m=G.createElement("table"),y=G.createElement("tr"),_=G.createElement("div"),m.style.cssText="position:absolute;left:-11111px",y.style.height="1px",_.style.height="9px",$e.appendChild(m).appendChild(y).appendChild(_),$=b.getComputedStyle(y),C=parseInt($.height)>3,$e.removeChild(m)),C}}))}();var qe=["Webkit","Moz","ms"],We=G.createElement("div").style,Xe={};function finalPropName(m){var y=K.cssProps[m]||Xe[m];return y||(m in We?m:Xe[m]=function vendorPropName(m){for(var y=m[0].toUpperCase()+m.slice(1),b=qe.length;b--;)if((m=qe[b]+y)in We)return m}(m)||m)}var Ve=/^(none|table(?!-c[ea]).+)/,Ge=/^--/,Ye={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"};function setPositiveNumber(m,y,b){var _=_e.exec(y);return _?Math.max(0,_[2]-(b||0))+(_[3]||"px"):y}function boxModelAdjustment(m,y,b,_,$,C){var D="width"===y?1:0,I=0,M=0;if(b===(_?"border":"content"))return 0;for(;D<4;D+=2)"margin"===b&&(M+=K.css(m,b+we[D],!0,$)),_?("content"===b&&(M-=K.css(m,"padding"+we[D],!0,$)),"margin"!==b&&(M-=K.css(m,"border"+we[D]+"Width",!0,$))):(M+=K.css(m,"padding"+we[D],!0,$),"padding"!==b?M+=K.css(m,"border"+we[D]+"Width",!0,$):I+=K.css(m,"border"+we[D]+"Width",!0,$));return!_&&C>=0&&(M+=Math.max(0,Math.ceil(m["offset"+y[0].toUpperCase()+y.slice(1)]-C-M-I-.5))||0),M}function getWidthOrHeight(m,y,b){var _=He(m),$=(!W.boxSizingReliable()||b)&&"border-box"===K.css(m,"boxSizing",!1,_),C=$,D=curCSS(m,y,_),I="offset"+y[0].toUpperCase()+y.slice(1);if(Ue.test(D)){if(!b)return D;D="auto"}return(!W.boxSizingReliable()&&$||!W.reliableTrDimensions()&&nodeName(m,"tr")||"auto"===D||!parseFloat(D)&&"inline"===K.css(m,"display",!1,_))&&m.getClientRects().length&&($="border-box"===K.css(m,"boxSizing",!1,_),(C=I in m)&&(D=m[I])),(D=parseFloat(D)||0)+boxModelAdjustment(m,y,b||($?"border":"content"),C,_,D)+"px"}function Tween(m,y,b,_,$){return new Tween.prototype.init(m,y,b,_,$)}K.extend({cssHooks:{opacity:{get:function get(m,y){if(y){var b=curCSS(m,"opacity");return""===b?"1":b}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function style(m,y,b,_){if(m&&3!==m.nodeType&&8!==m.nodeType&&m.style){var C,D,I,M=camelCase(y),P=Ge.test(y),style=m.style;if(P||(y=finalPropName(M)),I=K.cssHooks[y]||K.cssHooks[M],void 0===b)return I&&"get"in I&&void 0!==(C=I.get(m,!1,_))?C:style[y];"string"===(D=$(b))&&(C=_e.exec(b))&&C[1]&&(b=adjustCSS(m,y,C),D="number"),null!=b&&b==b&&("number"!==D||P||(b+=C&&C[3]||(K.cssNumber[M]?"":"px")),W.clearCloneStyle||""!==b||0!==y.indexOf("background")||(style[y]="inherit"),I&&"set"in I&&void 0===(b=I.set(m,b,_))||(P?style.setProperty(y,b):style[y]=b))}},css:function css(m,y,b,_){var $,C,D,I=camelCase(y);return Ge.test(y)||(y=finalPropName(I)),(D=K.cssHooks[y]||K.cssHooks[I])&&"get"in D&&($=D.get(m,!0,b)),void 0===$&&($=curCSS(m,y,_)),"normal"===$&&y in Ke&&($=Ke[y]),""===b||b?(C=parseFloat($),!0===b||isFinite(C)?C||0:$):$}}),K.each(["height","width"],(function(m,y){K.cssHooks[y]={get:function get(m,b,_){if(b)return!Ve.test(K.css(m,"display"))||m.getClientRects().length&&m.getBoundingClientRect().width?getWidthOrHeight(m,y,_):Be(m,Ye,(function(){return getWidthOrHeight(m,y,_)}))},set:function set(m,b,_){var $,C=He(m),D=!W.scrollboxSize()&&"absolute"===C.position,I=(D||_)&&"border-box"===K.css(m,"boxSizing",!1,C),M=_?boxModelAdjustment(m,y,_,I,C):0;return I&&D&&(M-=Math.ceil(m["offset"+y[0].toUpperCase()+y.slice(1)]-parseFloat(C[y])-boxModelAdjustment(m,y,"border",!1,C)-.5)),M&&($=_e.exec(b))&&"px"!==($[3]||"px")&&(m.style[y]=b,b=K.css(m,y)),setPositiveNumber(0,b,M)}}})),K.cssHooks.marginLeft=addGetHookIf(W.reliableMarginLeft,(function(m,y){if(y)return(parseFloat(curCSS(m,"marginLeft"))||m.getBoundingClientRect().left-Be(m,{marginLeft:0},(function(){return m.getBoundingClientRect().left})))+"px"})),K.each({margin:"",padding:"",border:"Width"},(function(m,y){K.cssHooks[m+y]={expand:function expand(b){for(var _=0,$={},C="string"==typeof b?b.split(" "):[b];_<4;_++)$[m+we[_]+y]=C[_]||C[_-2]||C[0];return $}},"margin"!==m&&(K.cssHooks[m+y].set=setPositiveNumber)})),K.fn.extend({css:function css(m,y){return ue(this,(function(m,y,b){var _,$,C={},D=0;if(Array.isArray(y)){for(_=He(m),$=y.length;D<$;D++)C[y[D]]=K.css(m,y[D],!1,_);return C}return void 0!==b?K.style(m,y,b):K.css(m,y)}),m,y,arguments.length>1)}}),K.Tween=Tween,Tween.prototype={constructor:Tween,init:function init(m,y,b,_,$,C){this.elem=m,this.prop=b,this.easing=$||K.easing._default,this.options=y,this.start=this.now=this.cur(),this.end=_,this.unit=C||(K.cssNumber[b]?"":"px")},cur:function cur(){var m=Tween.propHooks[this.prop];return m&&m.get?m.get(this):Tween.propHooks._default.get(this)},run:function run(m){var y,b=Tween.propHooks[this.prop];return this.options.duration?this.pos=y=K.easing[this.easing](m,this.options.duration*m,0,1,this.options.duration):this.pos=y=m,this.now=(this.end-this.start)*y+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),b&&b.set?b.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function get(m){var y;return 1!==m.elem.nodeType||null!=m.elem[m.prop]&&null==m.elem.style[m.prop]?m.elem[m.prop]:(y=K.css(m.elem,m.prop,""))&&"auto"!==y?y:0},set:function set(m){K.fx.step[m.prop]?K.fx.step[m.prop](m):1!==m.elem.nodeType||!K.cssHooks[m.prop]&&null==m.elem.style[finalPropName(m.prop)]?m.elem[m.prop]=m.now:K.style(m.elem,m.prop,m.now+m.unit)}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function set(m){m.elem.nodeType&&m.elem.parentNode&&(m.elem[m.prop]=m.now)}},K.easing={linear:function linear(m){return m},swing:function swing(m){return.5-Math.cos(m*Math.PI)/2},_default:"swing"},K.fx=Tween.prototype.init,K.fx.step={};var Qe,Je,Ze=/^(?:toggle|show|hide)$/,et=/queueHooks$/;function schedule(){Je&&(!1===G.hidden&&b.requestAnimationFrame?b.requestAnimationFrame(schedule):b.setTimeout(schedule,K.fx.interval),K.fx.tick())}function createFxNow(){return b.setTimeout((function(){Qe=void 0})),Qe=Date.now()}function genFx(m,y){var b,_=0,$={height:m};for(y=y?1:0;_<4;_+=2-y)$["margin"+(b=we[_])]=$["padding"+b]=m;return y&&($.opacity=$.width=m),$}function createTween(m,y,b){for(var _,$=(Animation.tweeners[y]||[]).concat(Animation.tweeners["*"]),C=0,D=$.length;C<D;C++)if(_=$[C].call(b,y,m))return _}function Animation(m,y,b){var _,$,C=0,D=Animation.prefilters.length,I=K.Deferred().always((function(){delete M.elem})),M=function tick(){if($)return!1;for(var y=Qe||createFxNow(),b=Math.max(0,P.startTime+P.duration-y),_=1-(b/P.duration||0),C=0,D=P.tweens.length;C<D;C++)P.tweens[C].run(_);return I.notifyWith(m,[P,_,b]),_<1&&D?b:(D||I.notifyWith(m,[P,1,0]),I.resolveWith(m,[P]),!1)},P=I.promise({elem:m,props:K.extend({},y),opts:K.extend(!0,{specialEasing:{},easing:K.easing._default},b),originalProperties:y,originalOptions:b,startTime:Qe||createFxNow(),duration:b.duration,tweens:[],createTween:function createTween(y,b){var _=K.Tween(m,P.opts,y,b,P.opts.specialEasing[y]||P.opts.easing);return P.tweens.push(_),_},stop:function stop(y){var b=0,_=y?P.tweens.length:0;if($)return this;for($=!0;b<_;b++)P.tweens[b].run(1);return y?(I.notifyWith(m,[P,1,0]),I.resolveWith(m,[P,y])):I.rejectWith(m,[P,y]),this}}),R=P.props;for(!function propFilter(m,y){var b,_,$,C,D;for(b in m)if($=y[_=camelCase(b)],C=m[b],Array.isArray(C)&&($=C[1],C=m[b]=C[0]),b!==_&&(m[_]=C,delete m[b]),(D=K.cssHooks[_])&&"expand"in D)for(b in C=D.expand(C),delete m[_],C)b in m||(m[b]=C[b],y[b]=$);else y[_]=$}(R,P.opts.specialEasing);C<D;C++)if(_=Animation.prefilters[C].call(P,m,R,P.opts))return X(_.stop)&&(K._queueHooks(P.elem,P.opts.queue).stop=_.stop.bind(_)),_;return K.map(R,createTween,P),X(P.opts.start)&&P.opts.start.call(m,P),P.progress(P.opts.progress).done(P.opts.done,P.opts.complete).fail(P.opts.fail).always(P.opts.always),K.fx.timer(K.extend(M,{elem:m,anim:P,queue:P.opts.queue})),P}K.Animation=K.extend(Animation,{tweeners:{"*":[function(m,y){var b=this.createTween(m,y);return adjustCSS(b.elem,m,_e.exec(y),b),b}]},tweener:function tweener(m,y){X(m)?(y=m,m=["*"]):m=m.match(le);for(var b,_=0,$=m.length;_<$;_++)b=m[_],Animation.tweeners[b]=Animation.tweeners[b]||[],Animation.tweeners[b].unshift(y)},prefilters:[function defaultPrefilter(m,y,b){var _,$,C,D,I,M,P,R,N="width"in y||"height"in y,U=this,H={},B=m.style,z=m.nodeType&&xe(m),q=ge.get(m,"fxshow");for(_ in b.queue||(null==(D=K._queueHooks(m,"fx")).unqueued&&(D.unqueued=0,I=D.empty.fire,D.empty.fire=function(){D.unqueued||I()}),D.unqueued++,U.always((function(){U.always((function(){D.unqueued--,K.queue(m,"fx").length||D.empty.fire()}))}))),y)if($=y[_],Ze.test($)){if(delete y[_],C=C||"toggle"===$,$===(z?"hide":"show")){if("show"!==$||!q||void 0===q[_])continue;z=!0}H[_]=q&&q[_]||K.style(m,_)}if((M=!K.isEmptyObject(y))||!K.isEmptyObject(H))for(_ in N&&1===m.nodeType&&(b.overflow=[B.overflow,B.overflowX,B.overflowY],null==(P=q&&q.display)&&(P=ge.get(m,"display")),"none"===(R=K.css(m,"display"))&&(P?R=P:(showHide([m],!0),P=m.style.display||P,R=K.css(m,"display"),showHide([m]))),("inline"===R||"inline-block"===R&&null!=P)&&"none"===K.css(m,"float")&&(M||(U.done((function(){B.display=P})),null==P&&(R=B.display,P="none"===R?"":R)),B.display="inline-block")),b.overflow&&(B.overflow="hidden",U.always((function(){B.overflow=b.overflow[0],B.overflowX=b.overflow[1],B.overflowY=b.overflow[2]}))),M=!1,H)M||(q?"hidden"in q&&(z=q.hidden):q=ge.access(m,"fxshow",{display:P}),C&&(q.hidden=!z),z&&showHide([m],!0),U.done((function(){for(_ in z||showHide([m]),ge.remove(m,"fxshow"),H)K.style(m,_,H[_])}))),M=createTween(z?q[_]:0,_,U),_ in q||(q[_]=M.start,z&&(M.end=M.start,M.start=0))}],prefilter:function prefilter(m,y){y?Animation.prefilters.unshift(m):Animation.prefilters.push(m)}}),K.speed=function(m,y,b){var _=m&&"object"===$(m)?K.extend({},m):{complete:b||!b&&y||X(m)&&m,duration:m,easing:b&&y||y&&!X(y)&&y};return K.fx.off?_.duration=0:"number"!=typeof _.duration&&(_.duration in K.fx.speeds?_.duration=K.fx.speeds[_.duration]:_.duration=K.fx.speeds._default),null!=_.queue&&!0!==_.queue||(_.queue="fx"),_.old=_.complete,_.complete=function(){X(_.old)&&_.old.call(this),_.queue&&K.dequeue(this,_.queue)},_},K.fn.extend({fadeTo:function fadeTo(m,y,b,_){return this.filter(xe).css("opacity",0).show().end().animate({opacity:y},m,b,_)},animate:function animate(m,y,b,_){var $=K.isEmptyObject(m),C=K.speed(y,b,_),D=function doAnimation(){var y=Animation(this,K.extend({},m),C);($||ge.get(this,"finish"))&&y.stop(!0)};return D.finish=D,$||!1===C.queue?this.each(D):this.queue(C.queue,D)},stop:function stop(m,y,b){var _=function stopQueue(m){var y=m.stop;delete m.stop,y(b)};return"string"!=typeof m&&(b=y,y=m,m=void 0),y&&this.queue(m||"fx",[]),this.each((function(){var y=!0,$=null!=m&&m+"queueHooks",C=K.timers,D=ge.get(this);if($)D[$]&&D[$].stop&&_(D[$]);else for($ in D)D[$]&&D[$].stop&&et.test($)&&_(D[$]);for($=C.length;$--;)C[$].elem!==this||null!=m&&C[$].queue!==m||(C[$].anim.stop(b),y=!1,C.splice($,1));!y&&b||K.dequeue(this,m)}))},finish:function finish(m){return!1!==m&&(m=m||"fx"),this.each((function(){var y,b=ge.get(this),_=b[m+"queue"],$=b[m+"queueHooks"],C=K.timers,D=_?_.length:0;for(b.finish=!0,K.queue(this,m,[]),$&&$.stop&&$.stop.call(this,!0),y=C.length;y--;)C[y].elem===this&&C[y].queue===m&&(C[y].anim.stop(!0),C.splice(y,1));for(y=0;y<D;y++)_[y]&&_[y].finish&&_[y].finish.call(this);delete b.finish}))}}),K.each(["toggle","show","hide"],(function(m,y){var b=K.fn[y];K.fn[y]=function(m,_,$){return null==m||"boolean"==typeof m?b.apply(this,arguments):this.animate(genFx(y,!0),m,_,$)}})),K.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(m,y){K.fn[m]=function(m,b,_){return this.animate(y,m,b,_)}})),K.timers=[],K.fx.tick=function(){var m,y=0,b=K.timers;for(Qe=Date.now();y<b.length;y++)(m=b[y])()||b[y]!==m||b.splice(y--,1);b.length||K.fx.stop(),Qe=void 0},K.fx.timer=function(m){K.timers.push(m),K.fx.start()},K.fx.interval=13,K.fx.start=function(){Je||(Je=!0,schedule())},K.fx.stop=function(){Je=null},K.fx.speeds={slow:600,fast:200,_default:400},K.fn.delay=function(m,y){return m=K.fx&&K.fx.speeds[m]||m,y=y||"fx",this.queue(y,(function(y,_){var $=b.setTimeout(y,m);_.stop=function(){b.clearTimeout($)}}))},function(){var m=G.createElement("input"),y=G.createElement("select").appendChild(G.createElement("option"));m.type="checkbox",W.checkOn=""!==m.value,W.optSelected=y.selected,(m=G.createElement("input")).value="t",m.type="radio",W.radioValue="t"===m.value}();var tt,nt=K.expr.attrHandle;K.fn.extend({attr:function attr(m,y){return ue(this,K.attr,m,y,arguments.length>1)},removeAttr:function removeAttr(m){return this.each((function(){K.removeAttr(this,m)}))}}),K.extend({attr:function attr(m,y,b){var _,$,C=m.nodeType;if(3!==C&&8!==C&&2!==C)return void 0===m.getAttribute?K.prop(m,y,b):(1===C&&K.isXMLDoc(m)||($=K.attrHooks[y.toLowerCase()]||(K.expr.match.bool.test(y)?tt:void 0)),void 0!==b?null===b?void K.removeAttr(m,y):$&&"set"in $&&void 0!==(_=$.set(m,b,y))?_:(m.setAttribute(y,b+""),b):$&&"get"in $&&null!==(_=$.get(m,y))?_:null==(_=K.find.attr(m,y))?void 0:_)},attrHooks:{type:{set:function set(m,y){if(!W.radioValue&&"radio"===y&&nodeName(m,"input")){var b=m.value;return m.setAttribute("type",y),b&&(m.value=b),y}}}},removeAttr:function removeAttr(m,y){var b,_=0,$=y&&y.match(le);if($&&1===m.nodeType)for(;b=$[_++];)m.removeAttribute(b)}}),tt={set:function set(m,y,b){return!1===y?K.removeAttr(m,b):m.setAttribute(b,b),b}},K.each(K.expr.match.bool.source.match(/\w+/g),(function(m,y){var b=nt[y]||K.find.attr;nt[y]=function(m,y,_){var $,C,D=y.toLowerCase();return _||(C=nt[D],nt[D]=$,$=null!=b(m,y,_)?D:null,nt[D]=C),$}}));var it=/^(?:input|select|textarea|button)$/i,ot=/^(?:a|area)$/i;function stripAndCollapse(m){return(m.match(le)||[]).join(" ")}function getClass(m){return m.getAttribute&&m.getAttribute("class")||""}function classesToArray(m){return Array.isArray(m)?m:"string"==typeof m&&m.match(le)||[]}K.fn.extend({prop:function prop(m,y){return ue(this,K.prop,m,y,arguments.length>1)},removeProp:function removeProp(m){return this.each((function(){delete this[K.propFix[m]||m]}))}}),K.extend({prop:function prop(m,y,b){var _,$,C=m.nodeType;if(3!==C&&8!==C&&2!==C)return 1===C&&K.isXMLDoc(m)||(y=K.propFix[y]||y,$=K.propHooks[y]),void 0!==b?$&&"set"in $&&void 0!==(_=$.set(m,b,y))?_:m[y]=b:$&&"get"in $&&null!==(_=$.get(m,y))?_:m[y]},propHooks:{tabIndex:{get:function get(m){var y=K.find.attr(m,"tabindex");return y?parseInt(y,10):it.test(m.nodeName)||ot.test(m.nodeName)&&m.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),W.optSelected||(K.propHooks.selected={get:function get(m){var y=m.parentNode;return y&&y.parentNode&&y.parentNode.selectedIndex,null},set:function set(m){var y=m.parentNode;y&&(y.selectedIndex,y.parentNode&&y.parentNode.selectedIndex)}}),K.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){K.propFix[this.toLowerCase()]=this})),K.fn.extend({addClass:function addClass(m){var y,b,_,$,C,D,I,M=0;if(X(m))return this.each((function(y){K(this).addClass(m.call(this,y,getClass(this)))}));if((y=classesToArray(m)).length)for(;b=this[M++];)if($=getClass(b),_=1===b.nodeType&&" "+stripAndCollapse($)+" "){for(D=0;C=y[D++];)_.indexOf(" "+C+" ")<0&&(_+=C+" ");$!==(I=stripAndCollapse(_))&&b.setAttribute("class",I)}return this},removeClass:function removeClass(m){var y,b,_,$,C,D,I,M=0;if(X(m))return this.each((function(y){K(this).removeClass(m.call(this,y,getClass(this)))}));if(!arguments.length)return this.attr("class","");if((y=classesToArray(m)).length)for(;b=this[M++];)if($=getClass(b),_=1===b.nodeType&&" "+stripAndCollapse($)+" "){for(D=0;C=y[D++];)for(;_.indexOf(" "+C+" ")>-1;)_=_.replace(" "+C+" "," ");$!==(I=stripAndCollapse(_))&&b.setAttribute("class",I)}return this},toggleClass:function toggleClass(m,y){var b=$(m),_="string"===b||Array.isArray(m);return"boolean"==typeof y&&_?y?this.addClass(m):this.removeClass(m):X(m)?this.each((function(b){K(this).toggleClass(m.call(this,b,getClass(this),y),y)})):this.each((function(){var y,$,C,D;if(_)for($=0,C=K(this),D=classesToArray(m);y=D[$++];)C.hasClass(y)?C.removeClass(y):C.addClass(y);else void 0!==m&&"boolean"!==b||((y=getClass(this))&&ge.set(this,"__className__",y),this.setAttribute&&this.setAttribute("class",y||!1===m?"":ge.get(this,"__className__")||""))}))},hasClass:function hasClass(m){var y,b,_=0;for(y=" "+m+" ";b=this[_++];)if(1===b.nodeType&&(" "+stripAndCollapse(getClass(b))+" ").indexOf(y)>-1)return!0;return!1}});var st=/\r/g;K.fn.extend({val:function val(m){var y,b,_,$=this[0];return arguments.length?(_=X(m),this.each((function(b){var $;1===this.nodeType&&(null==($=_?m.call(this,b,K(this).val()):m)?$="":"number"==typeof $?$+="":Array.isArray($)&&($=K.map($,(function(m){return null==m?"":m+""}))),(y=K.valHooks[this.type]||K.valHooks[this.nodeName.toLowerCase()])&&"set"in y&&void 0!==y.set(this,$,"value")||(this.value=$))}))):$?(y=K.valHooks[$.type]||K.valHooks[$.nodeName.toLowerCase()])&&"get"in y&&void 0!==(b=y.get($,"value"))?b:"string"==typeof(b=$.value)?b.replace(st,""):null==b?"":b:void 0}}),K.extend({valHooks:{option:{get:function get(m){var y=K.find.attr(m,"value");return null!=y?y:stripAndCollapse(K.text(m))}},select:{get:function get(m){var y,b,_,$=m.options,C=m.selectedIndex,D="select-one"===m.type,I=D?null:[],M=D?C+1:$.length;for(_=C<0?M:D?C:0;_<M;_++)if(((b=$[_]).selected||_===C)&&!b.disabled&&(!b.parentNode.disabled||!nodeName(b.parentNode,"optgroup"))){if(y=K(b).val(),D)return y;I.push(y)}return I},set:function set(m,y){for(var b,_,$=m.options,C=K.makeArray(y),D=$.length;D--;)((_=$[D]).selected=K.inArray(K.valHooks.option.get(_),C)>-1)&&(b=!0);return b||(m.selectedIndex=-1),C}}}}),K.each(["radio","checkbox"],(function(){K.valHooks[this]={set:function set(m,y){if(Array.isArray(y))return m.checked=K.inArray(K(m).val(),y)>-1}},W.checkOn||(K.valHooks[this].get=function(m){return null===m.getAttribute("value")?"on":m.value})})),W.focusin="onfocusin"in b;var rt=/^(?:focusinfocus|focusoutblur)$/,at=function stopPropagationCallback(m){m.stopPropagation()};K.extend(K.event,{trigger:function trigger(m,y,_,C){var D,I,M,P,R,N,U,H,z=[_||G],q=B.call(m,"type")?m.type:m,W=B.call(m,"namespace")?m.namespace.split("."):[];if(I=H=M=_=_||G,3!==_.nodeType&&8!==_.nodeType&&!rt.test(q+K.event.triggered)&&(q.indexOf(".")>-1&&(W=q.split("."),q=W.shift(),W.sort()),R=q.indexOf(":")<0&&"on"+q,(m=m[K.expando]?m:new K.Event(q,"object"===$(m)&&m)).isTrigger=C?2:3,m.namespace=W.join("."),m.rnamespace=m.namespace?new RegExp("(^|\\.)"+W.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,m.result=void 0,m.target||(m.target=_),y=null==y?[m]:K.makeArray(y,[m]),U=K.event.special[q]||{},C||!U.trigger||!1!==U.trigger.apply(_,y))){if(!C&&!U.noBubble&&!V(_)){for(P=U.delegateType||q,rt.test(P+q)||(I=I.parentNode);I;I=I.parentNode)z.push(I),M=I;M===(_.ownerDocument||G)&&z.push(M.defaultView||M.parentWindow||b)}for(D=0;(I=z[D++])&&!m.isPropagationStopped();)H=I,m.type=D>1?P:U.bindType||q,(N=(ge.get(I,"events")||Object.create(null))[m.type]&&ge.get(I,"handle"))&&N.apply(I,y),(N=R&&I[R])&&N.apply&&fe(I)&&(m.result=N.apply(I,y),!1===m.result&&m.preventDefault());return m.type=q,C||m.isDefaultPrevented()||U._default&&!1!==U._default.apply(z.pop(),y)||!fe(_)||R&&X(_[q])&&!V(_)&&((M=_[R])&&(_[R]=null),K.event.triggered=q,m.isPropagationStopped()&&H.addEventListener(q,at),_[q](),m.isPropagationStopped()&&H.removeEventListener(q,at),K.event.triggered=void 0,M&&(_[R]=M)),m.result}},simulate:function simulate(m,y,b){var _=K.extend(new K.Event,b,{type:m,isSimulated:!0});K.event.trigger(_,null,y)}}),K.fn.extend({trigger:function trigger(m,y){return this.each((function(){K.event.trigger(m,y,this)}))},triggerHandler:function triggerHandler(m,y){var b=this[0];if(b)return K.event.trigger(m,y,b,!0)}}),W.focusin||K.each({focus:"focusin",blur:"focusout"},(function(m,y){var b=function handler(m){K.event.simulate(y,m.target,K.event.fix(m))};K.event.special[y]={setup:function setup(){var _=this.ownerDocument||this.document||this,$=ge.access(_,y);$||_.addEventListener(m,b,!0),ge.access(_,y,($||0)+1)},teardown:function teardown(){var _=this.ownerDocument||this.document||this,$=ge.access(_,y)-1;$?ge.access(_,y,$):(_.removeEventListener(m,b,!0),ge.remove(_,y))}}}));var lt=b.location,ct={guid:Date.now()},dt=/\?/;K.parseXML=function(m){var y;if(!m||"string"!=typeof m)return null;try{y=(new b.DOMParser).parseFromString(m,"text/xml")}catch(m){y=void 0}return y&&!y.getElementsByTagName("parsererror").length||K.error("Invalid XML: "+m),y};var ut=/\[\]$/,ht=/\r?\n/g,pt=/^(?:submit|button|image|reset|file)$/i,ft=/^(?:input|select|textarea|keygen)/i;function buildParams(m,y,b,_){var C;if(Array.isArray(y))K.each(y,(function(y,C){b||ut.test(m)?_(m,C):buildParams(m+"["+("object"===$(C)&&null!=C?y:"")+"]",C,b,_)}));else if(b||"object"!==toType(y))_(m,y);else for(C in y)buildParams(m+"["+C+"]",y[C],b,_)}K.param=function(m,y){var b,_=[],$=function add(m,y){var b=X(y)?y():y;_[_.length]=encodeURIComponent(m)+"="+encodeURIComponent(null==b?"":b)};if(null==m)return"";if(Array.isArray(m)||m.jquery&&!K.isPlainObject(m))K.each(m,(function(){$(this.name,this.value)}));else for(b in m)buildParams(b,m[b],y,$);return _.join("&")},K.fn.extend({serialize:function serialize(){return K.param(this.serializeArray())},serializeArray:function serializeArray(){return this.map((function(){var m=K.prop(this,"elements");return m?K.makeArray(m):this})).filter((function(){var m=this.type;return this.name&&!K(this).is(":disabled")&&ft.test(this.nodeName)&&!pt.test(m)&&(this.checked||!Ae.test(m))})).map((function(m,y){var b=K(this).val();return null==b?null:Array.isArray(b)?K.map(b,(function(m){return{name:y.name,value:m.replace(ht,"\r\n")}})):{name:y.name,value:b.replace(ht,"\r\n")}})).get()}});var gt=/%20/g,mt=/#.*$/,vt=/([?&])_=[^&]*/,yt=/^(.*?):[ \t]*([^\r\n]*)$/gm,bt=/^(?:GET|HEAD)$/,_t=/^\/\//,wt={},$t={},Ct="*/".concat("*"),kt=G.createElement("a");function addToPrefiltersOrTransports(m){return function(y,b){"string"!=typeof y&&(b=y,y="*");var _,$=0,C=y.toLowerCase().match(le)||[];if(X(b))for(;_=C[$++];)"+"===_[0]?(_=_.slice(1)||"*",(m[_]=m[_]||[]).unshift(b)):(m[_]=m[_]||[]).push(b)}}function inspectPrefiltersOrTransports(m,y,b,_){var $={},C=m===$t;function inspect(D){var I;return $[D]=!0,K.each(m[D]||[],(function(m,D){var M=D(y,b,_);return"string"!=typeof M||C||$[M]?C?!(I=M):void 0:(y.dataTypes.unshift(M),inspect(M),!1)})),I}return inspect(y.dataTypes[0])||!$["*"]&&inspect("*")}function ajaxExtend(m,y){var b,_,$=K.ajaxSettings.flatOptions||{};for(b in y)void 0!==y[b]&&(($[b]?m:_||(_={}))[b]=y[b]);return _&&K.extend(!0,m,_),m}kt.href=lt.href,K.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:lt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(lt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ct,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":K.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function ajaxSetup(m,y){return y?ajaxExtend(ajaxExtend(m,K.ajaxSettings),y):ajaxExtend(K.ajaxSettings,m)},ajaxPrefilter:addToPrefiltersOrTransports(wt),ajaxTransport:addToPrefiltersOrTransports($t),ajax:function ajax(m,y){"object"===$(m)&&(y=m,m=void 0),y=y||{};var _,C,D,I,M,P,R,N,U,H,B=K.ajaxSetup({},y),z=B.context||B,q=B.context&&(z.nodeType||z.jquery)?K(z):K.event,W=K.Deferred(),X=K.Callbacks("once memory"),V=B.statusCode||{},Y={},Q={},J="canceled",Z={readyState:0,getResponseHeader:function getResponseHeader(m){var y;if(R){if(!I)for(I={};y=yt.exec(D);)I[y[1].toLowerCase()+" "]=(I[y[1].toLowerCase()+" "]||[]).concat(y[2]);y=I[m.toLowerCase()+" "]}return null==y?null:y.join(", ")},getAllResponseHeaders:function getAllResponseHeaders(){return R?D:null},setRequestHeader:function setRequestHeader(m,y){return null==R&&(m=Q[m.toLowerCase()]=Q[m.toLowerCase()]||m,Y[m]=y),this},overrideMimeType:function overrideMimeType(m){return null==R&&(B.mimeType=m),this},statusCode:function statusCode(m){var y;if(m)if(R)Z.always(m[Z.status]);else for(y in m)V[y]=[V[y],m[y]];return this},abort:function abort(m){var y=m||J;return _&&_.abort(y),done(0,y),this}};if(W.promise(Z),B.url=((m||B.url||lt.href)+"").replace(_t,lt.protocol+"//"),B.type=y.method||y.type||B.method||B.type,B.dataTypes=(B.dataType||"*").toLowerCase().match(le)||[""],null==B.crossDomain){P=G.createElement("a");try{P.href=B.url,P.href=P.href,B.crossDomain=kt.protocol+"//"+kt.host!=P.protocol+"//"+P.host}catch(m){B.crossDomain=!0}}if(B.data&&B.processData&&"string"!=typeof B.data&&(B.data=K.param(B.data,B.traditional)),inspectPrefiltersOrTransports(wt,B,y,Z),R)return Z;for(U in(N=K.event&&B.global)&&0==K.active++&&K.event.trigger("ajaxStart"),B.type=B.type.toUpperCase(),B.hasContent=!bt.test(B.type),C=B.url.replace(mt,""),B.hasContent?B.data&&B.processData&&0===(B.contentType||"").indexOf("application/x-www-form-urlencoded")&&(B.data=B.data.replace(gt,"+")):(H=B.url.slice(C.length),B.data&&(B.processData||"string"==typeof B.data)&&(C+=(dt.test(C)?"&":"?")+B.data,delete B.data),!1===B.cache&&(C=C.replace(vt,"$1"),H=(dt.test(C)?"&":"?")+"_="+ct.guid+++H),B.url=C+H),B.ifModified&&(K.lastModified[C]&&Z.setRequestHeader("If-Modified-Since",K.lastModified[C]),K.etag[C]&&Z.setRequestHeader("If-None-Match",K.etag[C])),(B.data&&B.hasContent&&!1!==B.contentType||y.contentType)&&Z.setRequestHeader("Content-Type",B.contentType),Z.setRequestHeader("Accept",B.dataTypes[0]&&B.accepts[B.dataTypes[0]]?B.accepts[B.dataTypes[0]]+("*"!==B.dataTypes[0]?", "+Ct+"; q=0.01":""):B.accepts["*"]),B.headers)Z.setRequestHeader(U,B.headers[U]);if(B.beforeSend&&(!1===B.beforeSend.call(z,Z,B)||R))return Z.abort();if(J="abort",X.add(B.complete),Z.done(B.success),Z.fail(B.error),_=inspectPrefiltersOrTransports($t,B,y,Z)){if(Z.readyState=1,N&&q.trigger("ajaxSend",[Z,B]),R)return Z;B.async&&B.timeout>0&&(M=b.setTimeout((function(){Z.abort("timeout")}),B.timeout));try{R=!1,_.send(Y,done)}catch(m){if(R)throw m;done(-1,m)}}else done(-1,"No Transport");function done(m,y,$,I){var P,U,H,G,Y,Q=y;R||(R=!0,M&&b.clearTimeout(M),_=void 0,D=I||"",Z.readyState=m>0?4:0,P=m>=200&&m<300||304===m,$&&(G=function ajaxHandleResponses(m,y,b){for(var _,$,C,D,I=m.contents,M=m.dataTypes;"*"===M[0];)M.shift(),void 0===_&&(_=m.mimeType||y.getResponseHeader("Content-Type"));if(_)for($ in I)if(I[$]&&I[$].test(_)){M.unshift($);break}if(M[0]in b)C=M[0];else{for($ in b){if(!M[0]||m.converters[$+" "+M[0]]){C=$;break}D||(D=$)}C=C||D}if(C)return C!==M[0]&&M.unshift(C),b[C]}(B,Z,$)),!P&&K.inArray("script",B.dataTypes)>-1&&(B.converters["text script"]=function(){}),G=function ajaxConvert(m,y,b,_){var $,C,D,I,M,P={},R=m.dataTypes.slice();if(R[1])for(D in m.converters)P[D.toLowerCase()]=m.converters[D];for(C=R.shift();C;)if(m.responseFields[C]&&(b[m.responseFields[C]]=y),!M&&_&&m.dataFilter&&(y=m.dataFilter(y,m.dataType)),M=C,C=R.shift())if("*"===C)C=M;else if("*"!==M&&M!==C){if(!(D=P[M+" "+C]||P["* "+C]))for($ in P)if((I=$.split(" "))[1]===C&&(D=P[M+" "+I[0]]||P["* "+I[0]])){!0===D?D=P[$]:!0!==P[$]&&(C=I[0],R.unshift(I[1]));break}if(!0!==D)if(D&&m.throws)y=D(y);else try{y=D(y)}catch(m){return{state:"parsererror",error:D?m:"No conversion from "+M+" to "+C}}}return{state:"success",data:y}}(B,G,Z,P),P?(B.ifModified&&((Y=Z.getResponseHeader("Last-Modified"))&&(K.lastModified[C]=Y),(Y=Z.getResponseHeader("etag"))&&(K.etag[C]=Y)),204===m||"HEAD"===B.type?Q="nocontent":304===m?Q="notmodified":(Q=G.state,U=G.data,P=!(H=G.error))):(H=Q,!m&&Q||(Q="error",m<0&&(m=0))),Z.status=m,Z.statusText=(y||Q)+"",P?W.resolveWith(z,[U,Q,Z]):W.rejectWith(z,[Z,Q,H]),Z.statusCode(V),V=void 0,N&&q.trigger(P?"ajaxSuccess":"ajaxError",[Z,B,P?U:H]),X.fireWith(z,[Z,Q]),N&&(q.trigger("ajaxComplete",[Z,B]),--K.active||K.event.trigger("ajaxStop")))}return Z},getJSON:function getJSON(m,y,b){return K.get(m,y,b,"json")},getScript:function getScript(m,y){return K.get(m,void 0,y,"script")}}),K.each(["get","post"],(function(m,y){K[y]=function(m,b,_,$){return X(b)&&($=$||_,_=b,b=void 0),K.ajax(K.extend({url:m,type:y,dataType:$,data:b,success:_},K.isPlainObject(m)&&m))}})),K.ajaxPrefilter((function(m){var y;for(y in m.headers)"content-type"===y.toLowerCase()&&(m.contentType=m.headers[y]||"")})),K._evalUrl=function(m,y,b){return K.ajax({url:m,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function text_script(){}},dataFilter:function dataFilter(m){K.globalEval(m,y,b)}})},K.fn.extend({wrapAll:function wrapAll(m){var y;return this[0]&&(X(m)&&(m=m.call(this[0])),y=K(m,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&y.insertBefore(this[0]),y.map((function(){for(var m=this;m.firstElementChild;)m=m.firstElementChild;return m})).append(this)),this},wrapInner:function wrapInner(m){return X(m)?this.each((function(y){K(this).wrapInner(m.call(this,y))})):this.each((function(){var y=K(this),b=y.contents();b.length?b.wrapAll(m):y.append(m)}))},wrap:function wrap(m){var y=X(m);return this.each((function(b){K(this).wrapAll(y?m.call(this,b):m)}))},unwrap:function unwrap(m){return this.parent(m).not("body").each((function(){K(this).replaceWith(this.childNodes)})),this}}),K.expr.pseudos.hidden=function(m){return!K.expr.pseudos.visible(m)},K.expr.pseudos.visible=function(m){return!!(m.offsetWidth||m.offsetHeight||m.getClientRects().length)},K.ajaxSettings.xhr=function(){try{return new b.XMLHttpRequest}catch(m){}};var xt={0:200,1223:204},St=K.ajaxSettings.xhr();W.cors=!!St&&"withCredentials"in St,W.ajax=St=!!St,K.ajaxTransport((function(m){var y,_;if(W.cors||St&&!m.crossDomain)return{send:function send($,C){var D,I=m.xhr();if(I.open(m.type,m.url,m.async,m.username,m.password),m.xhrFields)for(D in m.xhrFields)I[D]=m.xhrFields[D];for(D in m.mimeType&&I.overrideMimeType&&I.overrideMimeType(m.mimeType),m.crossDomain||$["X-Requested-With"]||($["X-Requested-With"]="XMLHttpRequest"),$)I.setRequestHeader(D,$[D]);y=function callback(m){return function(){y&&(y=_=I.onload=I.onerror=I.onabort=I.ontimeout=I.onreadystatechange=null,"abort"===m?I.abort():"error"===m?"number"!=typeof I.status?C(0,"error"):C(I.status,I.statusText):C(xt[I.status]||I.status,I.statusText,"text"!==(I.responseType||"text")||"string"!=typeof I.responseText?{binary:I.response}:{text:I.responseText},I.getAllResponseHeaders()))}},I.onload=y(),_=I.onerror=I.ontimeout=y("error"),void 0!==I.onabort?I.onabort=_:I.onreadystatechange=function(){4===I.readyState&&b.setTimeout((function(){y&&_()}))},y=y("abort");try{I.send(m.hasContent&&m.data||null)}catch(m){if(y)throw m}},abort:function abort(){y&&y()}}})),K.ajaxPrefilter((function(m){m.crossDomain&&(m.contents.script=!1)})),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function text_script(m){return K.globalEval(m),m}}}),K.ajaxPrefilter("script",(function(m){void 0===m.cache&&(m.cache=!1),m.crossDomain&&(m.type="GET")})),K.ajaxTransport("script",(function(m){var y,b;if(m.crossDomain||m.scriptAttrs)return{send:function send(_,$){y=K("<script>").attr(m.scriptAttrs||{}).prop({charset:m.scriptCharset,src:m.url}).on("load error",b=function callback(m){y.remove(),b=null,m&&$("error"===m.type?404:200,m.type)}),G.head.appendChild(y[0])},abort:function abort(){b&&b()}}}));var Tt,Et=[],At=/(=)\?(?=&|$)|\?\?/;K.ajaxSetup({jsonp:"callback",jsonpCallback:function jsonpCallback(){var m=Et.pop()||K.expando+"_"+ct.guid++;return this[m]=!0,m}}),K.ajaxPrefilter("json jsonp",(function(m,y,_){var $,C,D,I=!1!==m.jsonp&&(At.test(m.url)?"url":"string"==typeof m.data&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&At.test(m.data)&&"data");if(I||"jsonp"===m.dataTypes[0])return $=m.jsonpCallback=X(m.jsonpCallback)?m.jsonpCallback():m.jsonpCallback,I?m[I]=m[I].replace(At,"$1"+$):!1!==m.jsonp&&(m.url+=(dt.test(m.url)?"&":"?")+m.jsonp+"="+$),m.converters["script json"]=function(){return D||K.error($+" was not called"),D[0]},m.dataTypes[0]="json",C=b[$],b[$]=function(){D=arguments},_.always((function(){void 0===C?K(b).removeProp($):b[$]=C,m[$]&&(m.jsonpCallback=y.jsonpCallback,Et.push($)),D&&X(C)&&C(D[0]),D=C=void 0})),"script"})),W.createHTMLDocument=((Tt=G.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Tt.childNodes.length),K.parseHTML=function(m,y,b){return"string"!=typeof m?[]:("boolean"==typeof y&&(b=y,y=!1),y||(W.createHTMLDocument?((_=(y=G.implementation.createHTMLDocument("")).createElement("base")).href=G.location.href,y.head.appendChild(_)):y=G),C=!b&&[],($=te.exec(m))?[y.createElement($[1])]:($=buildFragment([m],y,C),C&&C.length&&K(C).remove(),K.merge([],$.childNodes)));var _,$,C},K.fn.load=function(m,y,b){var _,C,D,I=this,M=m.indexOf(" ");return M>-1&&(_=stripAndCollapse(m.slice(M)),m=m.slice(0,M)),X(y)?(b=y,y=void 0):y&&"object"===$(y)&&(C="POST"),I.length>0&&K.ajax({url:m,type:C||"GET",dataType:"html",data:y}).done((function(m){D=arguments,I.html(_?K("<div>").append(K.parseHTML(m)).find(_):m)})).always(b&&function(m,y){I.each((function(){b.apply(this,D||[m.responseText,y,m])}))}),this},K.expr.pseudos.animated=function(m){return K.grep(K.timers,(function(y){return m===y.elem})).length},K.offset={setOffset:function setOffset(m,y,b){var _,$,C,D,I,M,P=K.css(m,"position"),R=K(m),N={};"static"===P&&(m.style.position="relative"),I=R.offset(),C=K.css(m,"top"),M=K.css(m,"left"),("absolute"===P||"fixed"===P)&&(C+M).indexOf("auto")>-1?(D=(_=R.position()).top,$=_.left):(D=parseFloat(C)||0,$=parseFloat(M)||0),X(y)&&(y=y.call(m,b,K.extend({},I))),null!=y.top&&(N.top=y.top-I.top+D),null!=y.left&&(N.left=y.left-I.left+$),"using"in y?y.using.call(m,N):("number"==typeof N.top&&(N.top+="px"),"number"==typeof N.left&&(N.left+="px"),R.css(N))}},K.fn.extend({offset:function offset(m){if(arguments.length)return void 0===m?this:this.each((function(y){K.offset.setOffset(this,m,y)}));var y,b,_=this[0];return _?_.getClientRects().length?(y=_.getBoundingClientRect(),b=_.ownerDocument.defaultView,{top:y.top+b.pageYOffset,left:y.left+b.pageXOffset}):{top:0,left:0}:void 0},position:function position(){if(this[0]){var m,y,b,_=this[0],$={top:0,left:0};if("fixed"===K.css(_,"position"))y=_.getBoundingClientRect();else{for(y=this.offset(),b=_.ownerDocument,m=_.offsetParent||b.documentElement;m&&(m===b.body||m===b.documentElement)&&"static"===K.css(m,"position");)m=m.parentNode;m&&m!==_&&1===m.nodeType&&(($=K(m).offset()).top+=K.css(m,"borderTopWidth",!0),$.left+=K.css(m,"borderLeftWidth",!0))}return{top:y.top-$.top-K.css(_,"marginTop",!0),left:y.left-$.left-K.css(_,"marginLeft",!0)}}},offsetParent:function offsetParent(){return this.map((function(){for(var m=this.offsetParent;m&&"static"===K.css(m,"position");)m=m.offsetParent;return m||$e}))}}),K.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(m,y){var b="pageYOffset"===y;K.fn[m]=function(_){return ue(this,(function(m,_,$){var C;if(V(m)?C=m:9===m.nodeType&&(C=m.defaultView),void 0===$)return C?C[y]:m[_];C?C.scrollTo(b?C.pageXOffset:$,b?$:C.pageYOffset):m[_]=$}),m,_,arguments.length)}})),K.each(["top","left"],(function(m,y){K.cssHooks[y]=addGetHookIf(W.pixelPosition,(function(m,b){if(b)return b=curCSS(m,y),Ue.test(b)?K(m).position()[y]+"px":b}))})),K.each({Height:"height",Width:"width"},(function(m,y){K.each({padding:"inner"+m,content:y,"":"outer"+m},(function(b,_){K.fn[_]=function($,C){var D=arguments.length&&(b||"boolean"!=typeof $),I=b||(!0===$||!0===C?"margin":"border");return ue(this,(function(y,b,$){var C;return V(y)?0===_.indexOf("outer")?y["inner"+m]:y.document.documentElement["client"+m]:9===y.nodeType?(C=y.documentElement,Math.max(y.body["scroll"+m],C["scroll"+m],y.body["offset"+m],C["offset"+m],C["client"+m])):void 0===$?K.css(y,b,I):K.style(y,b,$,I)}),y,D?$:void 0,D)}}))})),K.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(m,y){K.fn[y]=function(m){return this.on(y,m)}})),K.fn.extend({bind:function bind(m,y,b){return this.on(m,null,y,b)},unbind:function unbind(m,y){return this.off(m,null,y)},delegate:function delegate(m,y,b,_){return this.on(y,m,b,_)},undelegate:function undelegate(m,y,b){return 1===arguments.length?this.off(m,"**"):this.off(y,m||"**",b)},hover:function hover(m,y){return this.mouseenter(m).mouseleave(y||m)}}),K.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(m,y){K.fn[y]=function(m,b){return arguments.length>0?this.on(y,null,m,b):this.trigger(y)}}));var Dt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;K.proxy=function(m,y){var b,_,$;if("string"==typeof y&&(b=m[y],y=m,m=b),X(m))return _=M.call(arguments,2),($=function proxy(){return m.apply(y||this,_.concat(M.call(arguments)))}).guid=m.guid=m.guid||K.guid++,$},K.holdReady=function(m){m?K.readyWait++:K.ready(!0)},K.isArray=Array.isArray,K.parseJSON=JSON.parse,K.nodeName=nodeName,K.isFunction=X,K.isWindow=V,K.camelCase=camelCase,K.type=toType,K.now=Date.now,K.isNumeric=function(m){var y=K.type(m);return("number"===y||"string"===y)&&!isNaN(m-parseFloat(m))},K.trim=function(m){return null==m?"":(m+"").replace(Dt,"")},void 0===(_=function(){return K}.apply(y,[]))||(m.exports=_);var It=b.jQuery,Mt=b.$;return K.noConflict=function(m){return b.$===K&&(b.$=Mt),m&&b.jQuery===K&&(b.jQuery=It),K},void 0===C&&(b.jQuery=b.$=K),K}))}).call(this,b(99)(m))},function(m,y){m.exports=function(m){return m.webpackPolyfill||(m.deprecate=function(){},m.paths=[],m.children||(m.children=[]),Object.defineProperty(m,"loaded",{enumerable:!0,get:function get(){return m.l}}),Object.defineProperty(m,"id",{enumerable:!0,get:function get(){return m.i}}),m.webpackPolyfill=1),m}},function(m,y){window.UX={}},function(m,y){
/*! jQuery Migrate v3.0.0 | (c) jQuery Foundation and other contributors | jquery.org/license */
void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(m,y){"use strict";function c(_){var $=y.console;b[_]||(b[_]=!0,m.migrateWarnings.push(_),$&&$.warn&&!m.migrateMute&&($.warn("JQMIGRATE: "+_),m.migrateTrace&&$.trace&&$.trace()))}function d(m,y,b,_){Object.defineProperty(m,y,{configurable:!0,enumerable:!0,get:function get(){return c(_),b}})}m.migrateVersion="3.0.0",function(){var b=y.console&&y.console.log&&function(){y.console.log.apply(y.console,arguments)};b&&(m&&!/^[12]\./.test(m.fn.jquery)||b("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),m.migrateWarnings&&b("JQMIGRATE: Migrate plugin loaded multiple times"),b("JQMIGRATE: Migrate is installed"+(m.migrateMute?"":" with logging active")+", version "+m.migrateVersion))}();var b={};m.migrateWarnings=[],void 0===m.migrateTrace&&(m.migrateTrace=!0),m.migrateReset=function(){b={},m.migrateWarnings.length=0},"BackCompat"===document.compatMode&&c("jQuery is not compatible with Quirks Mode");var _,$=m.fn.init,C=m.isNumeric,D=m.find,I=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,M=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g;for(_ in m.fn.init=function(m){var y=Array.prototype.slice.call(arguments);return"string"==typeof m&&"#"===m&&(c("jQuery( '#' ) is not a valid selector"),y[0]=[]),$.apply(this,y)},m.fn.init.prototype=m.fn,m.find=function(m){var y=Array.prototype.slice.call(arguments);if("string"==typeof m&&I.test(m))try{document.querySelector(m)}catch(b){m=m.replace(M,(function(m,y,b,_){return"["+y+b+'"'+_+'"]'}));try{document.querySelector(m),c("Attribute selector with '#' must be quoted: "+y[0]),y[0]=m}catch(m){c("Attribute selector with '#' was not fixed: "+y[0])}}return D.apply(this,y)},D)Object.prototype.hasOwnProperty.call(D,_)&&(m.find[_]=D[_]);m.fn.size=function(){return c("jQuery.fn.size() is deprecated; use the .length property"),this.length},m.parseJSON=function(){return c("jQuery.parseJSON is deprecated; use JSON.parse"),JSON.parse.apply(null,arguments)},m.isNumeric=function(y){var b=C(y),_=function d(y){var b=y&&y.toString();return!m.isArray(y)&&b-parseFloat(b)+1>=0}(y);return b!==_&&c("jQuery.isNumeric() should not be called on constructed objects"),_},d(m,"unique",m.uniqueSort,"jQuery.unique is deprecated, use jQuery.uniqueSort"),d(m.expr,"filters",m.expr.pseudos,"jQuery.expr.filters is now jQuery.expr.pseudos"),d(m.expr,":",m.expr.pseudos,'jQuery.expr[":"] is now jQuery.expr.pseudos');var P=m.ajax;m.ajax=function(){var m=P.apply(this,arguments);return m.promise&&(d(m,"success",m.done,"jQXHR.success is deprecated and removed"),d(m,"error",m.fail,"jQXHR.error is deprecated and removed"),d(m,"complete",m.always,"jQXHR.complete is deprecated and removed")),m};var R=m.fn.removeAttr,N=m.fn.toggleClass,U=/\S+/g;m.fn.removeAttr=function(y){var b=this;return m.each(y.match(U),(function(y,_){m.expr.match.bool.test(_)&&(c("jQuery.fn.removeAttr no longer sets boolean properties: "+_),b.prop(_,!1))})),R.apply(this,arguments)},m.fn.toggleClass=function(y){return void 0!==y&&"boolean"!=typeof y?N.apply(this,arguments):(c("jQuery.fn.toggleClass( boolean ) is deprecated"),this.each((function(){var b=this.getAttribute&&this.getAttribute("class")||"";b&&m.data(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===y?"":m.data(this,"__className__")||"")})))};var H=!1;m.swap&&m.each(["height","width","reliableMarginRight"],(function(y,b){var _=m.cssHooks[b]&&m.cssHooks[b].get;_&&(m.cssHooks[b].get=function(){var m;return H=!0,m=_.apply(this,arguments),H=!1,m})})),m.swap=function(m,y,b,_){var $,C,D={};for(C in H||c("jQuery.swap() is undocumented and deprecated"),y)D[C]=m.style[C],m.style[C]=y[C];for(C in $=b.apply(m,_||[]),y)m.style[C]=D[C];return $};var B=m.data;m.data=function(y,b,_){var $;return b&&b!==m.camelCase(b)&&(($=m.hasData(y)&&B.call(this,y))&&b in $)?(c("jQuery.data() always sets/gets camelCased names: "+b),arguments.length>2&&($[b]=_),$[b]):B.apply(this,arguments)};var z=m.Tween.prototype.run;m.Tween.prototype.run=function(y){m.easing[this.easing].length>1&&(c('easing function "jQuery.easing.'+this.easing.toString()+'" should use only first argument'),m.easing[this.easing]=m.easing[this.easing].bind(m.easing,y,this.options.duration*y,0,1,this.options.duration)),z.apply(this,arguments)};var q=m.fn.load,W=m.event.fix;m.event.props=[],m.event.fixHooks={},m.event.fix=function(y){var b,_=y.type,$=this.fixHooks[_],C=m.event.props;if(C.length)for(c("jQuery.event.props are deprecated and removed: "+C.join());C.length;)m.event.addProp(C.pop());if($&&!$._migrated_&&($._migrated_=!0,c("jQuery.event.fixHooks are deprecated and removed: "+_),(C=$.props)&&C.length))for(;C.length;)m.event.addProp(C.pop());return b=W.call(this,y),$&&$.filter?$.filter(b,y):b},m.each(["load","unload","error"],(function(y,b){m.fn[b]=function(){var m=Array.prototype.slice.call(arguments,0);return"load"===b&&"string"==typeof m[0]?q.apply(this,m):(c("jQuery.fn."+b+"() is deprecated"),m.splice(0,0,b),arguments.length?this.on.apply(this,m):(this.triggerHandler.apply(this,m),this))}})),m((function(){m(document).triggerHandler("ready")})),m.event.special.ready={setup:function setup(){this===document&&c("'ready' event is deprecated")}},m.fn.extend({bind:function bind(m,y,b){return c("jQuery.fn.bind() is deprecated"),this.on(m,null,y,b)},unbind:function unbind(m,y){return c("jQuery.fn.unbind() is deprecated"),this.off(m,null,y)},delegate:function delegate(m,y,b,_){return c("jQuery.fn.delegate() is deprecated"),this.on(y,m,b,_)},undelegate:function undelegate(m,y,b){return c("jQuery.fn.undelegate() is deprecated"),1===arguments.length?this.off(m,"**"):this.off(y,m||"**",b)}});var X=m.fn.offset;m.fn.offset=function(){var y,b=this[0],_={top:0,left:0};return b&&b.nodeType?(y=(b.ownerDocument||document).documentElement,m.contains(y,b)?X.apply(this,arguments):(c("jQuery.fn.offset() requires an element connected to a document"),_)):(c("jQuery.fn.offset() requires a valid DOM element"),_)};var V=m.param;m.param=function(y,b){var _=m.ajaxSettings&&m.ajaxSettings.traditional;return void 0===b&&_&&(c("jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),b=_),V.call(this,y,b)};var G=m.fn.andSelf||m.fn.addBack;m.fn.andSelf=function(){return c("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),G.apply(this,arguments)};var Y=m.Deferred,K=[["resolve","done",m.Callbacks("once memory"),m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory"),m.Callbacks("memory")]];m.Deferred=function(y){var b=Y(),_=b.promise();return b.pipe=_.pipe=function(){var y=arguments;return c("deferred.pipe() is deprecated"),m.Deferred((function($){m.each(K,(function(C,D){var I=m.isFunction(y[C])&&y[C];b[D[1]]((function(){var y=I&&I.apply(this,arguments);y&&m.isFunction(y.promise)?y.promise().done($.resolve).fail($.reject).progress($.notify):$[D[0]+"With"](this===_?$.promise():this,I?[y]:arguments)}))})),y=null})).promise()},y&&y.call(b,b),b}}(jQuery,window)},function(m,y){!function(m){m.extend(m.expr[":"],{focusable:function focusable(y,b,_){var $=m(y);return $.is('button, [href], input, select, textarea, object, [tabindex]:not([tabindex="-1"])')&&$.is(":not(:disabled)")&&$.is(":visible")}}),m.extend(m.expr[":"],{tabbable:function tabbable(y,b,_){var $=m(y);return $.is(":focusable")&&$.is(':not([tabindex="-1"])')}})}(jQuery)},function(m,y){UX.grid={screenXs:"500",screenSm:"768",screenMd:"1026",screenLg:"1368",screenXlg:"1675",containerMobile:"500",containerXs:"",containerTablet:"758",containerSm:"",containerDesktop:"1024",containerMd:"",containerLargeDesktop:"1320",containerLg:"",containerXlargeDesktop:"1530",containerXlg:""}},function(m,y){var b=window.googletag||{};b.cmd=b.cmd||[],function(){var m=document.createElement("script");m.async=!0,m.type="text/javascript",m.src=document.location.protocol+"//www.googletagservices.com/tag/js/gpt.js",m.setAttribute("rel","preconnect");var y=document.getElementsByTagName("script")[0];y.parentNode.insertBefore(m,y)}()},function(m,y,b){var _=b(58);m.exports=function _arrayWithoutHoles(m){if(Array.isArray(m))return _(m)},m.exports.__esModule=!0,m.exports.default=m.exports},function(m,y){m.exports=function _iterableToArray(m){if("undefined"!=typeof Symbol&&null!=m[Symbol.iterator]||null!=m["@@iterator"])return Array.from(m)},m.exports.__esModule=!0,m.exports.default=m.exports},function(m,y){m.exports=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},m.exports.__esModule=!0,m.exports.default=m.exports},function(m,y){!function(m,y){var b={loggingUrl:"/action/clientSideLogging",selectors:{trigger:".js__abTestingTrigger",doiLink:'a[href^="/doi/"]',childElement:".search__item, .creative-work, .item"},init:function init(){var y=m(this.selectors.trigger);if(y.length>0){var b=y.data("exp-type"),_=y.data("query-id"),$=y.data("child-selector")?y.data("child-selector"):this.selectors.childElement;this.logSearchResultsByHrefSelector(b,_,y.find($))}},logClick:function logClick(y,b,_,$,C){return m.ajax({url:this.loggingUrl,data:{type:"102",doi:b,queryId:$,exp:_,event:"click",pos:C+1},async:!1}),y.stopImmediatePropagation(),!0},logSearchResultsByHrefSelector:function logSearchResultsByHrefSelector(y,b,_){var $=_.find(this.selectors.doiLink),C=this;$.each((function(_){var $=C.sliceDoiFromHref(m(this).attr("href"));C.bindElementToMouseUpEvent(this,$,y,b,_)}))},bindElementToMouseUpEvent:function bindElementToMouseUpEvent(y,b,_,$,C){var D=this;m(y).on("mouseup",(function(m){switch(m.which){case 1:case 2:D.logClick(m,b,_,$,C)}return!0}))},sliceDoiFromHref:function sliceDoiFromHref(m){var y=m.split("/"),b=y[y.length-2],_=y[y.length-1];return _.indexOf("?")>0&&(_=_.substring(0,_.indexOf("?"))),b+"/"+_}};y.abLogger=b}(jQuery,UX)},function(m,y,b){
/*!
 * JavaScript Custom Forms
 *
 * Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
 * Released under the MIT license (LICENSE.txt)
 *
 * Version: 1.2.3
 */
!function(m,y){"use strict";m.jcf=function(m){var y=[],b={optionsKey:"jcf",dataKey:"jcf-instance",rtlClass:"jcf-rtl",focusClass:"jcf-focus",pressedClass:"jcf-pressed",disabledClass:"jcf-disabled",hiddenClass:"jcf-hidden",resetAppearanceClass:"jcf-reset-appearance",unselectableClass:"jcf-unselectable"},_="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,$=/Windows Phone/.test(navigator.userAgent);b.isMobileDevice=!(!_&&!$);(function(){var y,b=navigator.pointerEnabled||navigator.msPointerEnabled,_="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,$={};y=b?{pointerover:navigator.pointerEnabled?"pointerover":"MSPointerOver",pointerdown:navigator.pointerEnabled?"pointerdown":"MSPointerDown",pointermove:navigator.pointerEnabled?"pointermove":"MSPointerMove",pointerup:navigator.pointerEnabled?"pointerup":"MSPointerUp"}:{pointerover:"mouseover",pointerdown:"mousedown"+(_?" touchstart":""),pointermove:"mousemove"+(_?" touchmove":""),pointerup:"mouseup"+(_?" touchend":"")},m.each(y,(function(y,b){m.each(b.split(" "),(function(m,b){$[b]=y}))})),m.each(y,(function(y,b){b=b.split(" "),m.event.special["jcf-"+y]={setup:function setup(){var y=this;m.each(b,(function(m,b){y.addEventListener?y.addEventListener(b,D,!1):y["on"+b]=D}))},teardown:function teardown(){var y=this;m.each(b,(function(m,b){y.addEventListener?y.removeEventListener(b,D,!1):y["on"+b]=null}))}}}));var C=null,D=function fixEvent(y){var b=y||window.event,_=null,D=$[b.type];if((y=m.event.fix(b)).type="jcf-"+D,b.pointerType)switch(b.pointerType){case 2:y.pointerType="touch";break;case 3:y.pointerType="pen";break;case 4:y.pointerType="mouse";break;default:y.pointerType=b.pointerType}else y.pointerType=b.type.substr(0,5);return y.pageX||y.pageY||(_=b.changedTouches?b.changedTouches[0]:b,y.pageX=_.pageX,y.pageY=_.pageY),"touchend"===b.type&&(C={x:y.pageX,y:y.pageY}),"mouse"===y.pointerType&&C&&function mouseEventSimulated(m){var y=Math.abs(m.pageX-C.x),b=Math.abs(m.pageY-C.y);if(y<=25&&b<=25)return!0}(y)?void 0:(m.event.dispatch||m.event.handle).call(this,y)}})(),function(){var y=("onwheel"in document||document.documentMode>=9?"wheel":"mousewheel DOMMouseScroll").split(" ");m.event.special["jcf-mousewheel"]={setup:function setup(){var _=this;m.each(y,(function(m,y){_.addEventListener?_.addEventListener(y,b,!1):_["on"+y]=b}))},teardown:function teardown(){var _=this;m.each(y,(function(m,y){_.addEventListener?_.removeEventListener(y,b,!1):_["on"+y]=null}))}};var b=function fixEvent(y){var b=y||window.event;if((y=m.event.fix(b)).type="jcf-mousewheel","detail"in b&&(y.deltaY=-b.detail),"wheelDelta"in b&&(y.deltaY=-b.wheelDelta),"wheelDeltaY"in b&&(y.deltaY=-b.wheelDeltaY),"wheelDeltaX"in b&&(y.deltaX=-b.wheelDeltaX),"deltaY"in b&&(y.deltaY=b.deltaY),"deltaX"in b&&(y.deltaX=b.deltaX),y.delta=y.deltaY||y.deltaX,1===b.deltaMode){y.delta*=16,y.deltaY*=16,y.deltaX*=16}return(m.event.dispatch||m.event.handle).call(this,y)}}();var C={fireNativeEvent:function fireNativeEvent(y,b){m(y).each((function(){var m;this.dispatchEvent?((m=document.createEvent("HTMLEvents")).initEvent(b,!0,!0),this.dispatchEvent(m)):document.createEventObject&&((m=document.createEventObject()).target=this,this.fireEvent("on"+b,m))}))},bindHandlers:function bindHandlers(){var y=this;m.each(y,(function(b,_){0===b.indexOf("on")&&m.isFunction(_)&&(y[b]=function(){return _.apply(y,arguments)})}))}},D={version:"1.2.3",modules:{},getOptions:function getOptions(){return m.extend({},b)},setOptions:function setOptions(y,_){arguments.length>1?this.modules[y]&&m.extend(this.modules[y].prototype.options,_):m.extend(b,y)},addModule:function addModule(_){m.isFunction(_)&&(_=_(m,window));var $=function Module(_){_.element.data(b.dataKey)||_.element.data(b.dataKey,this),y.push(this),this.options=m.extend({},b,this.options,D(_.element),_),this.bindHandlers(),this.init.apply(this,arguments)},D=function getInlineOptions(y){var _=y.data(b.optionsKey),$=y.attr(b.optionsKey);if(_)return _;if($)try{return m.parseJSON($)}catch(m){}};$.prototype=_,m.extend(_,C),_.plugins&&m.each(_.plugins,(function(y,b){m.extend(b.prototype,C)}));var I=$.prototype.destroy;$.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var m=y.length-1;m>=0;m--)if(y[m]===this){y.splice(m,1);break}I&&I.apply(this,arguments)},this.modules[_.name]=$},getInstance:function getInstance(y){return m(y).data(b.dataKey)},replace:function replace(y,_,$){var C,I=this;return b.styleSheetCreated||function createStyleSheet(){var y=m("<style>").appendTo("head"),_=y.prop("sheet")||y.prop("styleSheet"),$=function addCSSRule(m,y,b){b=b||0,_.insertRule?_.insertRule(m+"{"+y+"}",b):_.addRule(m,y,b)};$("."+b.hiddenClass,"position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none"),$("."+b.rtlClass+" ."+b.hiddenClass,"right:-9999px !important; left: auto !important"),$("."+b.unselectableClass,"-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0);"),$("."+b.resetAppearanceClass,"background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);");var C=m("html"),I=m("body");"rtl"!==C.css("direction")&&"rtl"!==I.css("direction")||C.addClass(b.rtlClass),C.on("reset",(function(){setTimeout((function(){D.refreshAll()}),0)})),b.styleSheetCreated=!0}(),m(y).each((function(){var y,D=m(this);(C=D.data(b.dataKey))?C.refresh():(_||m.each(I.modules,(function(m,y){if(y.prototype.matchElement.call(y.prototype,D))return _=m,!1})),_&&(y=m.extend({element:D},$),C=new I.modules[_](y)))})),C},refresh:function refresh(y){m(y).each((function(){var y=m(this).data(b.dataKey);y&&y.refresh()}))},destroy:function destroy(y){m(y).each((function(){var y=m(this).data(b.dataKey);y&&y.destroy()}))},replaceAll:function replaceAll(y){var b=this;m.each(this.modules,(function(_,$){m($.prototype.selector,y).each((function(){this.className.indexOf("jcf-ignore")<0&&b.replace(this,_)}))}))},refreshAll:function refreshAll(_){if(_)m.each(this.modules,(function(y,$){m($.prototype.selector,_).each((function(){var y=m(this).data(b.dataKey);y&&y.refresh()}))}));else for(var $=y.length-1;$>=0;$--)y[$].refresh()},destroyAll:function destroyAll(_){if(_)m.each(this.modules,(function(y,$){m($.prototype.selector,_).each((function(y,_){var $=m(_).data(b.dataKey);$&&$.destroy()}))}));else for(;y.length;)y[0].destroy()}};window.jcf=D;return D}(jQuery)}(this)},function(m,y){
/*!
 * JavaScript Custom Forms : Select Module
 *
 * Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
 * Released under the MIT license (LICENSE.txt)
 *
 * Version: 1.2.3
 */
!function(m){m.addModule((function(y,b){"use strict";var _={name:"Select",selector:"select",options:{element:null,multipleCompactStyle:!1},plugins:{ListBox:ListBox,ComboBox:ComboBox,SelectList:SelectList},matchElement:function matchElement(m){return m.is("select")},init:function init(){this.element=y(this.options.element),this.createInstance()},isListBox:function isListBox(){return this.element.is("[size]:not([jcf-size]), [multiple]")},createInstance:function createInstance(){this.instance&&this.instance.destroy(),this.isListBox()&&!this.options.multipleCompactStyle?this.instance=new ListBox(this.options):this.instance=new ComboBox(this.options)},refresh:function refresh(){this.isListBox()&&this.instance instanceof ComboBox||!this.isListBox()&&this.instance instanceof ListBox?this.createInstance():this.instance.refresh()},destroy:function destroy(){this.instance.destroy()}};function ComboBox(m){this.options=y.extend({wrapNative:!0,wrapNativeOnMobile:!0,fakeDropInBody:!0,useCustomScroll:!0,flipDropToFit:!0,maxVisibleItems:10,fakeAreaStructure:'<span class="jcf-select"><span class="jcf-select-text"></span><span class="jcf-select-opener"></span></span>',fakeDropStructure:'<div class="jcf-select-drop"><div class="jcf-select-drop-content"></div></div>',optionClassPrefix:"jcf-option-",selectClassPrefix:"jcf-select-",dropContentSelector:".jcf-select-drop-content",selectTextSelector:".jcf-select-text",dropActiveClass:"jcf-drop-active",flipDropClass:"jcf-drop-flipped"},m),this.init()}function ListBox(m){this.options=y.extend({wrapNative:!0,useCustomScroll:!0,fakeStructure:'<span class="jcf-list-box"><span class="jcf-list-wrapper"></span></span>',selectClassPrefix:"jcf-select-",listHolder:".jcf-list-wrapper"},m),this.init()}function SelectList(m){this.options=y.extend({holder:null,maxVisibleItems:10,selectOnClick:!0,useHoverClass:!1,useCustomScroll:!1,handleResize:!0,multipleSelectWithoutKey:!1,alwaysPreventMouseWheel:!1,indexAttribute:"data-index",cloneClassPrefix:"jcf-option-",containerStructure:'<span class="jcf-list"><span class="jcf-list-content"></span></span>',containerSelector:".jcf-list-content",captionClass:"jcf-optgroup-caption",disabledClass:"jcf-disabled",optionClass:"jcf-option",groupClass:"jcf-optgroup",hoverClass:"jcf-hover",selectedClass:"jcf-selected",scrollClass:"jcf-scroll-active"},m),this.init()}y.extend(ComboBox.prototype,{init:function init(){this.initStructure(),this.bindHandlers(),this.attachEvents(),this.refresh()},initStructure:function initStructure(){this.win=y(b),this.doc=y(document),this.realElement=y(this.options.element),this.fakeElement=y(this.options.fakeAreaStructure).insertAfter(this.realElement),this.selectTextContainer=this.fakeElement.find(this.options.selectTextSelector),this.selectText=y("<span></span>").appendTo(this.selectTextContainer),C(this.fakeElement),this.fakeElement.addClass($(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.prop("multiple")&&this.fakeElement.addClass("jcf-compact-multiple"),this.options.isMobileDevice&&this.options.wrapNativeOnMobile&&!this.options.wrapNative&&(this.options.wrapNative=!0),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%"}).addClass(this.options.resetAppearanceClass):(this.realElement.addClass(this.options.hiddenClass),this.fakeElement.attr("title",this.realElement.attr("title")),this.fakeDropTarget=this.options.fakeDropInBody?y("body"):this.fakeElement)},attachEvents:function attachEvents(){var m=this;this.delayedRefresh=function(){setTimeout((function(){m.refresh(),m.list&&(m.list.refresh(),m.list.scrollToActiveOption())}),1)},this.options.wrapNative?this.realElement.on({focus:this.onFocus,change:this.onChange,click:this.onChange,keydown:this.delayedRefresh}):(this.realElement.on({focus:this.onFocus,change:this.onChange,keydown:this.onKeyDown}),this.fakeElement.on({"jcf-pointerdown":this.onSelectAreaPress}))},onKeyDown:function onKeyDown(m){13===m.which?this.toggleDropdown():this.dropActive&&this.delayedRefresh()},onChange:function onChange(){this.refresh()},onFocus:function onFocus(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.toggleListMode(!0),this.focusedFlag=!0)},onBlur:function onBlur(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.toggleListMode(!1),this.focusedFlag=!1)},onResize:function onResize(){this.dropActive&&this.hideDropdown()},onSelectDropPress:function onSelectDropPress(){this.pressedFlag=!0},onSelectDropRelease:function onSelectDropRelease(m,y){this.pressedFlag=!1,"mouse"===y.pointerType&&this.realElement.focus()},onSelectAreaPress:function onSelectAreaPress(m){!this.options.fakeDropInBody&&y(m.target).closest(this.dropdown).length||m.button>1||this.realElement.is(":disabled")||(this.selectOpenedByEvent=m.pointerType,y(m.target).is(".looker__filters__footer")||y(m.target).closest(".looker__filters__footer").length||(this.toggleDropdown(),this.focusedFlag||("mouse"===m.pointerType?this.realElement.focus():this.onFocus(m)),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onSelectAreaRelease)))},onSelectAreaRelease:function onSelectAreaRelease(m){this.focusedFlag&&"mouse"===m.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onSelectAreaRelease)},onOutsideClick:function onOutsideClick(m){var b=y(m.target);b.closest(this.fakeElement).length||b.closest(this.dropdown).length||this.hideDropdown()},onSelect:function onSelect(){this.refresh(),this.realElement.prop("multiple")?this.repositionDropdown():this.hideDropdown(),this.fireNativeEvent(this.realElement,"change")},toggleListMode:function toggleListMode(m){this.options.wrapNative||(m?this.realElement.attr({size:4,"jcf-size":""}):this.options.wrapNative||this.realElement.removeAttr("size jcf-size"))},createDropdown:function createDropdown(){this.dropdown&&(this.list.destroy(),this.dropdown.remove()),this.dropdown=y(this.options.fakeDropStructure).appendTo(this.fakeDropTarget),this.dropdown.addClass($(this.realElement.prop("className"),this.options.selectClassPrefix)),C(this.dropdown),this.realElement.prop("multiple")&&this.dropdown.addClass("jcf-compact-multiple"),this.options.fakeDropInBody&&this.dropdown.css({position:"absolute",top:-9999}),this.list=new SelectList({useHoverClass:!0,handleResize:!1,alwaysPreventMouseWheel:!0,maxVisibleItems:this.options.maxVisibleItems,useCustomScroll:this.options.useCustomScroll,holder:this.dropdown.find(this.options.dropContentSelector),multipleSelectWithoutKey:this.realElement.prop("multiple"),element:this.realElement}),y(this.list).on({select:this.onSelect,press:this.onSelectDropPress,release:this.onSelectDropRelease})},repositionDropdown:function repositionDropdown(){var m,y,b,_=this.fakeElement.offset(),$=this.fakeElement[0].getBoundingClientRect(),C=$.width||$.right-$.left,D=this.fakeElement.outerHeight(),I=this.dropdown.css("width",C).outerHeight(),M=this.win.scrollTop(),P=this.win.height(),R=!1;_.top+D+I>M+P&&_.top-I>M&&(R=!0),this.options.fakeDropInBody&&(b="static"!==this.fakeDropTarget.css("position")?this.fakeDropTarget.offset().top:0,this.options.flipDropToFit&&R?(y=_.left,m=_.top-I-b):(y=_.left,m=_.top+D-b),this.dropdown.css({width:C,left:y,top:m})),this.dropdown.add(this.fakeElement).toggleClass(this.options.flipDropClass,this.options.flipDropToFit&&R)},showDropdown:function showDropdown(){this.realElement.prop("options").length&&(this.dropdown||this.createDropdown(),this.dropActive=!0,this.dropdown.appendTo(this.fakeDropTarget),this.fakeElement.addClass(this.options.dropActiveClass),this.refreshSelectedText(),this.repositionDropdown(),this.list.setScrollTop(this.savedScrollTop),this.list.refresh(),this.win.on("resize",this.onResize),this.doc.on("jcf-pointerdown",this.onOutsideClick))},hideDropdown:function hideDropdown(){this.dropdown&&(this.savedScrollTop=this.list.getScrollTop(),this.fakeElement.removeClass(this.options.dropActiveClass+" "+this.options.flipDropClass),this.dropdown.removeClass(this.options.flipDropClass).detach(),this.doc.off("jcf-pointerdown",this.onOutsideClick),this.win.off("resize",this.onResize),this.dropActive=!1,"touch"===this.selectOpenedByEvent&&this.onBlur())},toggleDropdown:function toggleDropdown(){this.dropActive?this.hideDropdown():this.showDropdown()},refreshSelectedText:function refreshSelectedText(){var m,b=this.realElement.prop("selectedIndex"),_=this.realElement.prop("options")[b],C=_?_.getAttribute("data-image"):null,D="";this.realElement.prop("multiple")?(y.each(this.realElement.prop("options"),(function(m,y){y.selected&&(D+=(D?", ":"")+y.innerHTML)})),D||(D=this.realElement.attr("placeholder")||""),this.selectText.removeAttr("class").html(D)):_?this.currentSelectedText===_.innerHTML&&this.currentSelectedImage===C||(m=$(_.className,this.options.optionClassPrefix),this.selectText.attr("class",m).html(_.innerHTML),C?(this.selectImage||(this.selectImage=y("<img>").prependTo(this.selectTextContainer).hide()),this.selectImage.attr("src",C).show()):this.selectImage&&this.selectImage.hide(),this.currentSelectedText=_.innerHTML,this.currentSelectedImage=C):(this.selectImage&&this.selectImage.hide(),this.selectText.removeAttr("class").empty())},refresh:function refresh(){"none"===this.realElement.prop("style").display?this.fakeElement.hide():this.fakeElement.show(),this.refreshSelectedText(),this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled"))},destroy:function destroy(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",height:"",width:""}).removeClass(this.options.resetAppearanceClass):(this.realElement.removeClass(this.options.hiddenClass),this.realElement.is("[jcf-size]")&&this.realElement.removeAttr("size jcf-size")),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onSelectAreaRelease),this.realElement.off({focus:this.onFocus})}}),y.extend(ListBox.prototype,{init:function init(){this.bindHandlers(),this.initStructure(),this.attachEvents()},initStructure:function initStructure(){this.realElement=y(this.options.element),this.fakeElement=y(this.options.fakeStructure).insertAfter(this.realElement),this.listHolder=this.fakeElement.find(this.options.listHolder),C(this.fakeElement),this.fakeElement.addClass($(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.addClass(this.options.hiddenClass),this.list=new SelectList({useCustomScroll:this.options.useCustomScroll,holder:this.listHolder,selectOnClick:!1,element:this.realElement})},attachEvents:function attachEvents(){var m=this;this.delayedRefresh=function(y){y&&(16===y.which||y.ctrlKey||y.metaKey||y.altKey)||(clearTimeout(m.refreshTimer),m.refreshTimer=setTimeout((function(){m.refresh(),m.list.scrollToActiveOption()}),1))},this.realElement.on({focus:this.onFocus,click:this.delayedRefresh,keydown:this.delayedRefresh}),y(this.list).on({select:this.onSelect,press:this.onFakeOptionsPress,release:this.onFakeOptionsRelease})},onFakeOptionsPress:function onFakeOptionsPress(m,y){this.pressedFlag=!0,"mouse"===y.pointerType&&this.realElement.focus()},onFakeOptionsRelease:function onFakeOptionsRelease(m,y){this.pressedFlag=!1,"mouse"===y.pointerType&&this.realElement.focus()},onSelect:function onSelect(){this.fireNativeEvent(this.realElement,"change"),this.fireNativeEvent(this.realElement,"click")},onFocus:function onFocus(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.focusedFlag=!0)},onBlur:function onBlur(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.focusedFlag=!1)},refresh:function refresh(){this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.list.refresh()},destroy:function destroy(){this.list.destroy(),this.realElement.insertBefore(this.fakeElement).removeClass(this.options.hiddenClass),this.fakeElement.remove()}}),y.extend(SelectList.prototype,{init:function init(){this.initStructure(),this.refreshSelectedClass(),this.attachEvents()},initStructure:function initStructure(){this.element=y(this.options.element),this.indexSelector="["+this.options.indexAttribute+"]",this.container=y(this.options.containerStructure).appendTo(this.options.holder),this.listHolder=this.container.find(this.options.containerSelector),this.lastClickedIndex=this.element.prop("selectedIndex"),this.rebuildList(),this.element.prop("multiple")&&(this.previousSelection=this.getSelectedOptionsIndexes())},attachEvents:function attachEvents(){this.bindHandlers(),this.listHolder.on("jcf-pointerdown",this.indexSelector,this.onItemPress),this.listHolder.on("jcf-pointerdown",this.onPress),this.options.useHoverClass&&this.listHolder.on("jcf-pointerover",this.indexSelector,this.onHoverItem)},onPress:function onPress(m){y(this).trigger("press",m),this.listHolder.on("jcf-pointerup",this.onRelease)},onRelease:function onRelease(m){y(this).trigger("release",m),this.listHolder.off("jcf-pointerup",this.onRelease)},onHoverItem:function onHoverItem(m){var y=parseFloat(m.currentTarget.getAttribute(this.options.indexAttribute));this.fakeOptions.removeClass(this.options.hoverClass).eq(y).addClass(this.options.hoverClass)},onItemPress:function onItemPress(m){"touch"===m.pointerType||this.options.selectOnClick?(this.tmpListOffsetTop=this.list.offset().top,this.listHolder.on("jcf-pointerup",this.indexSelector,this.onItemRelease)):this.onSelectItem(m)},onItemRelease:function onItemRelease(m){this.listHolder.off("jcf-pointerup",this.indexSelector,this.onItemRelease),this.tmpListOffsetTop===this.list.offset().top&&this.listHolder.on("click",this.indexSelector,{savedPointerType:m.pointerType},this.onSelectItem),delete this.tmpListOffsetTop},onSelectItem:function onSelectItem(m){var b,_=parseFloat(m.currentTarget.getAttribute(this.options.indexAttribute)),$=m.data&&m.data.savedPointerType||m.pointerType||"mouse";this.listHolder.off("click",this.indexSelector,this.onSelectItem),m.button>1||this.realOptions[_].disabled||(this.element.prop("multiple")?m.metaKey||m.ctrlKey||"touch"===$||this.options.multipleSelectWithoutKey?this.realOptions[_].selected=!this.realOptions[_].selected:m.shiftKey?(b=[this.lastClickedIndex,_].sort((function(m,y){return m-y})),this.realOptions.each((function(m,y){y.selected=m>=b[0]&&m<=b[1]}))):this.element.prop("selectedIndex",_):this.element.prop("selectedIndex",_),m.shiftKey||(this.lastClickedIndex=_),this.refreshSelectedClass(),"mouse"===$&&this.scrollToActiveOption(),y(this).trigger("select"))},rebuildList:function rebuildList(){var b=this,_=this.element[0];this.storedSelectHTML=_.innerHTML,this.optionIndex=0,this.list=y(this.createOptionsList(_)),this.listHolder.empty().append(this.list),this.realOptions=this.element.find("option"),this.fakeOptions=this.list.find(this.indexSelector),this.fakeListItems=this.list.find("."+this.options.captionClass+","+this.indexSelector),delete this.optionIndex;var $=this.options.maxVisibleItems,C=this.element.prop("size");C>1&&!this.element.is("[jcf-size]")&&($=C);var D=this.fakeOptions.length>$;this.container.toggleClass(this.options.scrollClass,D),D&&(this.listHolder.css({maxHeight:this.getOverflowHeight($),overflow:"auto"}),this.options.useCustomScroll&&m.modules.Scrollable)?m.replace(this.listHolder,"Scrollable",{handleResize:this.options.handleResize,alwaysPreventMouseWheel:this.options.alwaysPreventMouseWheel}):this.options.alwaysPreventMouseWheel&&(this.preventWheelHandler=function(m){var y=b.listHolder.scrollTop(),_=b.listHolder.prop("scrollHeight")-b.listHolder.innerHeight();(y<=0&&m.deltaY<0||y>=_&&m.deltaY>0)&&m.preventDefault()},this.listHolder.on("jcf-mousewheel",this.preventWheelHandler))},refreshSelectedClass:function refreshSelectedClass(){var m,y=this,b=this.element.prop("multiple"),_=this.element.prop("selectedIndex");b?this.realOptions.each((function(m,b){y.fakeOptions.eq(m).toggleClass(y.options.selectedClass,!!b.selected)})):(this.fakeOptions.removeClass(this.options.selectedClass+" "+this.options.hoverClass),m=this.fakeOptions.eq(_).addClass(this.options.selectedClass),this.options.useHoverClass&&m.addClass(this.options.hoverClass))},scrollToActiveOption:function scrollToActiveOption(){var m=this.getActiveOptionOffset();"number"==typeof m&&this.listHolder.prop("scrollTop",m)},getSelectedOptionsIndexes:function getSelectedOptionsIndexes(){var m=[];return this.realOptions.each((function(y,b){b.selected&&m.push(y)})),m},getChangedSelectedIndex:function getChangedSelectedIndex(){var m=this.element.prop("selectedIndex"),b=this,_=!1,$=null;return this.element.prop("multiple")?(this.currentSelection=this.getSelectedOptionsIndexes(),y.each(this.currentSelection,(function(m,y){!_&&b.previousSelection.indexOf(y)<0&&(0===m&&(_=!0),$=y)})),this.previousSelection=this.currentSelection,$):m},getActiveOptionOffset:function getActiveOptionOffset(){var m=this.getChangedSelectedIndex();if(null!==m){var y=this.listHolder.height(),b=this.listHolder.prop("scrollTop"),_=this.fakeOptions.eq(m),$=_.offset().top-this.list.offset().top,C=_.innerHeight();return $+C>=b+y?$-y+C:$<b?$:void 0}},getOverflowHeight:function getOverflowHeight(m){var y=this.fakeListItems.eq(m-1),b=this.list.offset().top;return y.offset().top+y.innerHeight()-b},getScrollTop:function getScrollTop(){return this.listHolder.scrollTop()},setScrollTop:function setScrollTop(m){this.listHolder.scrollTop(m)},createOption:function createOption(m){var y=document.createElement("span");y.className=this.options.optionClass,y.innerHTML=m.innerHTML,y.setAttribute(this.options.indexAttribute,this.optionIndex++);var b,_=m.getAttribute("data-image");return _&&((b=document.createElement("img")).src=_,y.insertBefore(b,y.childNodes[0])),m.disabled&&(y.className+=" "+this.options.disabledClass),m.className&&(y.className+=" "+$(m.className,this.options.cloneClassPrefix)),y},createOptGroup:function createOptGroup(m){var y,b,_=document.createElement("span"),$=m.getAttribute("label");return(y=document.createElement("span")).className=this.options.captionClass,y.innerHTML=$,_.appendChild(y),m.children.length&&(b=this.createOptionsList(m),_.appendChild(b)),_.className=this.options.groupClass,_},createOptionContainer:function createOptionContainer(){return document.createElement("li")},createOptionsList:function createOptionsList(m){var b=this,_=document.createElement("ul");return y.each(m.children,(function(m,y){var $,C=b.createOptionContainer(y);switch(y.tagName.toLowerCase()){case"option":$=b.createOption(y);break;case"optgroup":$=b.createOptGroup(y)}_.appendChild(C).appendChild($)})),_},refresh:function refresh(){this.storedSelectHTML!==this.element.prop("innerHTML")&&this.rebuildList();var y=m.getInstance(this.listHolder);y&&y.refresh(),this.refreshSelectedClass()},destroy:function destroy(){this.listHolder.off("jcf-mousewheel",this.preventWheelHandler),this.listHolder.off("jcf-pointerdown",this.indexSelector,this.onSelectItem),this.listHolder.off("jcf-pointerover",this.indexSelector,this.onHoverItem),this.listHolder.off("jcf-pointerdown",this.onPress)}});var $=function getPrefixedClasses(m,y){return m?m.replace(/[\s]*([\S]+)+[\s]*/gi,y+"$1 "):""},C=function(){var y=m.getOptions().unselectableClass;function preventHandler(m){m.preventDefault()}return function(m){m.addClass(y).on("selectstart",preventHandler)}}();return _}))}(jcf)},function(m,y){
/*!
 * JavaScript Custom Forms : File Module
 *
 * Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
 * Released under the MIT license (LICENSE.txt)
 *
 * Version: 1.2.3
 */
!function(m){m.addModule((function(m){"use strict";return{name:"File",selector:'input[type="file"]',options:{fakeStructure:'<span class="jcf-file"><span class="jcf-fake-input"></span><span class="jcf-upload-button"><span class="jcf-button-content"></span></span></span>',buttonText:"Choose file",placeholderText:"No file chosen",realElementClass:"jcf-real-element",extensionPrefixClass:"jcf-extension-",selectedFileBlock:".jcf-fake-input",buttonTextBlock:".jcf-button-content"},matchElement:function matchElement(m){return m.is('input[type="file"]')},init:function init(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function initStructure(){this.doc=m(document),this.realElement=m(this.options.element).addClass(this.options.realElementClass),this.fakeElement=m(this.options.fakeStructure).insertBefore(this.realElement),this.fileNameBlock=this.fakeElement.find(this.options.selectedFileBlock),this.buttonTextBlock=this.fakeElement.find(this.options.buttonTextBlock).text(this.options.buttonText),this.realElement.appendTo(this.fakeElement).css({position:"absolute",opacity:0})},attachEvents:function attachEvents(){this.realElement.on({"jcf-pointerdown":this.onPress,change:this.onChange,focus:this.onFocus})},onChange:function onChange(){this.refresh()},onFocus:function onFocus(){this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur)},onBlur:function onBlur(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur)},onPress:function onPress(){this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function onRelease(){this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getFileName:function getFileName(){var y="",b=this.realElement.prop("files");return b&&b.length?m.each(b,(function(m,b){y+=(m>0?", ":"")+b.name})):y=this.realElement.val().replace(/^[\s\S]*(?:\\|\/)([\s\S^\\\/]*)$/g,"$1"),y},getFileExtension:function getFileExtension(){var m=this.realElement.val();return m.lastIndexOf(".")<0?"":m.substring(m.lastIndexOf(".")+1).toLowerCase()},updateExtensionClass:function updateExtensionClass(){var m=this.getFileExtension(),y=this.fakeElement.prop("className").replace(new RegExp("(\\s|^)"+this.options.extensionPrefixClass+"[^ ]+","gi"),"");this.fakeElement.prop("className",y),m&&this.fakeElement.addClass(this.options.extensionPrefixClass+m)},refresh:function refresh(){var m=this.getFileName()||this.options.placeholderText;this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.fileNameBlock.text(m),this.updateExtensionClass()},destroy:function destroy(){this.realElement.insertBefore(this.fakeElement).removeClass(this.options.realElementClass).css({position:"",opacity:""}),this.fakeElement.remove(),this.realElement.off({"jcf-pointerdown":this.onPress,change:this.onChange,focus:this.onFocus,blur:this.onBlur}),this.doc.off("jcf-pointerup",this.onRelease)}}}))}(jcf)},function(m,y){
/*!
 * JavaScript Custom Forms : Button Module
 *
 * Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
 * Released under the MIT license (LICENSE.txt)
 *
 * Version: 1.2.3
 */
!function(m){m.addModule((function(m){"use strict";return{name:"Button",selector:'button, input[type="button"], input[type="submit"], input[type="reset"]',options:{realElementClass:"jcf-real-element",fakeStructure:'<span class="jcf-button"><span class="jcf-button-content"></span></span>',buttonContent:".jcf-button-content"},matchElement:function matchElement(m){return m.is(this.selector)},init:function init(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function initStructure(){this.page=m("html"),this.realElement=m(this.options.element).addClass(this.options.realElementClass),this.fakeElement=m(this.options.fakeStructure).insertBefore(this.realElement),this.buttonContent=this.fakeElement.find(this.options.buttonContent),this.fakeElement.css({position:"relative"}),this.realElement.prependTo(this.fakeElement).css({position:"absolute",opacity:0})},attachEvents:function attachEvents(){this.realElement.on({focus:this.onFocus,"jcf-pointerdown":this.onPress})},onPress:function onPress(){this.fakeElement.addClass(this.options.pressedClass),this.page.on("jcf-pointerup",this.onRelease)},onRelease:function onRelease(){this.fakeElement.removeClass(this.options.pressedClass),this.page.off("jcf-pointerup",this.onRelease)},onFocus:function onFocus(){this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur)},onBlur:function onBlur(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur)},refresh:function refresh(){this.buttonContent.html(this.realElement.html()||this.realElement.val()),this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled"))},destroy:function destroy(){this.realElement.removeClass(this.options.realElementClass).insertBefore(this.fakeElement),this.fakeElement.remove(),this.realElement.off({focus:this.onFocus,blur:this.onBlur,"jcf-pointerdown":this.onPress}),this.realElement.css({position:"",opacity:""})}}}))}(jcf)},function(m,y){
/*!
 * JavaScript Custom Forms : Checkbox Module
 *
 * Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
 * Released under the MIT license (LICENSE.txt)
 *
 * Version: 1.2.3
 */
!function(m){m.addModule((function(m){"use strict";return{name:"Checkbox",selector:'input[type="checkbox"]',options:{wrapNative:!0,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-checkbox"><span></span></span>'},matchElement:function matchElement(m){return m.is(":checkbox")},init:function init(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function initStructure(){this.doc=m(document),this.realElement=m(this.options.element),this.fakeElement=m(this.options.fakeStructure).insertAfter(this.realElement),this.labelElement=this.getLabelFor(),this.options.wrapNative?this.realElement.appendTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%",opacity:0,margin:0}):this.realElement.addClass(this.options.hiddenClass)},attachEvents:function attachEvents(){this.realElement.on({focus:this.onFocus,click:this.onRealClick}),this.fakeElement.on("click",this.onFakeClick),this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function onRealClick(m){var y=this;this.savedEventObject=m,setTimeout((function(){y.refresh()}),0)},onFakeClick:function onFakeClick(m){this.options.wrapNative&&this.realElement.is(m.target)||this.realElement.is(":disabled")||(delete this.savedEventObject,this.stateChecked=this.realElement.prop("checked"),this.realElement.prop("checked",!this.stateChecked),this.fireNativeEvent(this.realElement,"click"),this.savedEventObject&&this.savedEventObject.isDefaultPrevented()?this.realElement.prop("checked",this.stateChecked):this.fireNativeEvent(this.realElement,"change"),delete this.savedEventObject)},onFocus:function onFocus(){this.pressedFlag&&this.focusedFlag||(this.focusedFlag=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur))},onBlur:function onBlur(){this.pressedFlag||(this.focusedFlag=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur))},onPress:function onPress(m){this.focusedFlag||"mouse"!==m.pointerType||this.realElement.focus(),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function onRelease(m){this.focusedFlag&&"mouse"===m.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getLabelFor:function getLabelFor(){var y=this.realElement.closest("label"),b=this.realElement.prop("id");return!y.length&&b&&(y=m('label[for="'+b+'"]')),y.length?y:null},refresh:function refresh(){var m=this.realElement.is(":checked"),y=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,m).toggleClass(this.options.uncheckedClass,!m).toggleClass(this.options.disabledClass,y),this.labelElement&&this.labelElement.toggleClass(this.options.labelActiveClass,m)},destroy:function destroy(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""}):this.realElement.removeClass(this.options.hiddenClass),this.fakeElement.off("jcf-pointerdown",this.onPress),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onRelease),this.realElement.off({focus:this.onFocus,click:this.onRealClick})}}}))}(jcf)},function(m,y){
/*!
 * JavaScript Custom Forms : Number Module
 *
 * Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
 * Released under the MIT license (LICENSE.txt)
 *
 * Version: 1.2.3
 */
!function(m){m.addModule((function(m){"use strict";return{name:"Number",selector:'input[type="number"]',options:{realElementClass:"jcf-real-element",fakeStructure:'<span class="jcf-number"><span class="jcf-btn-inc"></span><span class="jcf-btn-dec"></span></span>',btnIncSelector:".jcf-btn-inc",btnDecSelector:".jcf-btn-dec",pressInterval:150},matchElement:function matchElement(m){return m.is(this.selector)},init:function init(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function initStructure(){this.page=m("html"),this.realElement=m(this.options.element).addClass(this.options.realElementClass),this.fakeElement=m(this.options.fakeStructure).insertBefore(this.realElement).prepend(this.realElement),this.btnDec=this.fakeElement.find(this.options.btnDecSelector),this.btnInc=this.fakeElement.find(this.options.btnIncSelector),this.initialValue=parseFloat(this.realElement.val())||0,this.minValue=parseFloat(this.realElement.attr("min")),this.maxValue=parseFloat(this.realElement.attr("max")),this.stepValue=parseFloat(this.realElement.attr("step"))||1,this.minValue=isNaN(this.minValue)?-1/0:this.minValue,this.maxValue=isNaN(this.maxValue)?1/0:this.maxValue,isFinite(this.maxValue)&&(this.maxValue-=(this.maxValue-this.minValue)%this.stepValue)},attachEvents:function attachEvents(){this.realElement.on({focus:this.onFocus}),this.btnDec.add(this.btnInc).on("jcf-pointerdown",this.onBtnPress)},onBtnPress:function onBtnPress(m){var y,b=this;this.realElement.is(":disabled")||(y=this.btnInc.is(m.currentTarget),b.step(y),clearInterval(this.stepTimer),this.stepTimer=setInterval((function(){b.step(y)}),this.options.pressInterval),this.page.on("jcf-pointerup",this.onBtnRelease))},onBtnRelease:function onBtnRelease(){clearInterval(this.stepTimer),this.page.off("jcf-pointerup",this.onBtnRelease)},onFocus:function onFocus(){this.fakeElement.addClass(this.options.focusClass),this.realElement.on({blur:this.onBlur,keydown:this.onKeyPress})},onBlur:function onBlur(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off({blur:this.onBlur,keydown:this.onKeyPress})},onKeyPress:function onKeyPress(m){38!==m.which&&40!==m.which||(m.preventDefault(),this.step(38===m.which))},step:function step(m){var y=parseFloat(this.realElement.val()),b=y||0,_=this.stepValue*(m?1:-1),$=isFinite(this.minValue)?this.minValue:this.initialValue-Math.abs(b*this.stepValue),C=Math.abs($-b)%this.stepValue;C?m?b+=_-C:b-=C:b+=_,b<this.minValue?b=this.minValue:b>this.maxValue&&(b=this.maxValue),b!==y&&(this.realElement.val(b).trigger("change"),this.refresh())},refresh:function refresh(){var m=this.realElement.is(":disabled"),y=parseFloat(this.realElement.val());this.fakeElement.toggleClass(this.options.disabledClass,m),this.btnDec.toggleClass(this.options.disabledClass,y===this.minValue),this.btnInc.toggleClass(this.options.disabledClass,y===this.maxValue)},destroy:function destroy(){this.realElement.removeClass(this.options.realElementClass).insertBefore(this.fakeElement),this.fakeElement.remove(),clearInterval(this.stepTimer),this.page.off("jcf-pointerup",this.onBtnRelease),this.realElement.off({keydown:this.onKeyPress,focus:this.onFocus,blur:this.onBlur})}}}))}(jcf)},function(m,y){
/*!
 * JavaScript Custom Forms : Radio Module
 *
 * Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
 * Released under the MIT license (LICENSE.txt)
 *
 * Version: 1.2.3
 */
!function(m){m.addModule((function(y){"use strict";return{name:"Radio",selector:'input[type="radio"]',options:{wrapNative:!0,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-radio"><span></span></span>'},matchElement:function matchElement(m){return m.is(":radio")},init:function init(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function initStructure(){this.doc=y(document),this.realElement=y(this.options.element),this.fakeElement=y(this.options.fakeStructure).insertAfter(this.realElement),this.labelElement=this.getLabelFor(),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",opacity:0}):this.realElement.addClass(this.options.hiddenClass)},attachEvents:function attachEvents(){this.realElement.on({focus:this.onFocus,click:this.onRealClick}),this.fakeElement.on("click",this.onFakeClick),this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function onRealClick(m){var y=this;this.savedEventObject=m,setTimeout((function(){y.refreshRadioGroup()}),0)},onFakeClick:function onFakeClick(m){this.options.wrapNative&&this.realElement.is(m.target)||this.realElement.is(":disabled")||(delete this.savedEventObject,this.currentActiveRadio=this.getCurrentActiveRadio(),this.stateChecked=this.realElement.prop("checked"),this.realElement.prop("checked",!0),this.fireNativeEvent(this.realElement,"click"),this.savedEventObject&&this.savedEventObject.isDefaultPrevented()?(this.realElement.prop("checked",this.stateChecked),this.currentActiveRadio.prop("checked",!0)):this.fireNativeEvent(this.realElement,"change"),delete this.savedEventObject)},onFocus:function onFocus(){this.pressedFlag&&this.focusedFlag||(this.focusedFlag=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur))},onBlur:function onBlur(){this.pressedFlag||(this.focusedFlag=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur))},onPress:function onPress(m){this.focusedFlag||"mouse"!==m.pointerType||this.realElement.focus(),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function onRelease(m){this.focusedFlag&&"mouse"===m.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getCurrentActiveRadio:function getCurrentActiveRadio(){return this.getRadioGroup(this.realElement).filter(":checked")},getRadioGroup:function getRadioGroup(m){var b=m.attr("name"),_=m.parents("form");return b?_.length?_.find('input[name="'+b+'"]'):y('input[name="'+b+'"]:not(form input)'):m},getLabelFor:function getLabelFor(){var m=this.realElement.closest("label"),b=this.realElement.prop("id");return!m.length&&b&&(m=y('label[for="'+b+'"]')),m.length?m:null},refreshRadioGroup:function refreshRadioGroup(){this.getRadioGroup(this.realElement).each((function(){m.refresh(this)}))},refresh:function refresh(){var m=this.realElement.is(":checked"),y=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,m).toggleClass(this.options.uncheckedClass,!m).toggleClass(this.options.disabledClass,y),this.labelElement&&this.labelElement.toggleClass(this.options.labelActiveClass,m)},destroy:function destroy(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""}):this.realElement.removeClass(this.options.hiddenClass),this.fakeElement.off("jcf-pointerdown",this.onPress),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onRelease),this.realElement.off({blur:this.onBlur,focus:this.onFocus,click:this.onRealClick})}}}))}(jcf)},function(m,y){
/*!
 * JavaScript Custom Forms : Range Module
 *
 * Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
 * Released under the MIT license (LICENSE.txt)
 *
 * Version: 1.2.3
 */
!function(m){m.addModule((function(m){"use strict";return{name:"Range",selector:'input[type="range"]',options:{realElementClass:"jcf-real-element",fakeStructure:'<span class="jcf-range"><span class="jcf-range-wrapper"><span class="jcf-range-track"><span class="jcf-range-handle"></span></span></span></span>',dataListMark:'<span class="jcf-range-mark"></span>',rangeDisplayWrapper:'<span class="jcf-range-display-wrapper"></span>',rangeDisplay:'<span class="jcf-range-display"></span>',handleSelector:".jcf-range-handle",trackSelector:".jcf-range-track",activeHandleClass:"jcf-active-handle",verticalClass:"jcf-vertical",orientation:"horizontal",range:!1,dragHandleCenter:!0,snapToMarks:!0,snapRadius:5,minRange:0},matchElement:function matchElement(m){return m.is(this.selector)},init:function init(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function initStructure(){for(this.page=m("html"),this.realElement=m(this.options.element).addClass(this.options.hiddenClass),this.fakeElement=m(this.options.fakeStructure).insertBefore(this.realElement).prepend(this.realElement),this.track=this.fakeElement.find(this.options.trackSelector),this.trackHolder=this.track.parent(),this.handle=this.fakeElement.find(this.options.handleSelector),this.createdHandleCount=0,this.activeDragHandleIndex=0,this.isMultiple=this.realElement.prop("multiple")||"string"==typeof this.realElement.attr("multiple"),this.values=this.isMultiple?this.realElement.attr("value").split(","):[this.realElement.val()],this.handleCount=this.isMultiple?this.values.length:1,this.rangeDisplayWrapper=m(this.options.rangeDisplayWrapper).insertBefore(this.track),"min"!==this.options.range&&"all"!==this.options.range||(this.rangeMin=m(this.options.rangeDisplay).addClass("jcf-range-min").prependTo(this.rangeDisplayWrapper)),"max"!==this.options.range&&"all"!==this.options.range||(this.rangeMax=m(this.options.rangeDisplay).addClass("jcf-range-max").prependTo(this.rangeDisplayWrapper));this.createdHandleCount<this.handleCount;)this.createdHandleCount++,this.handle.clone().addClass("jcf-index-"+this.createdHandleCount).insertBefore(this.handle),this.createdHandleCount>1&&(this.rangeMid||(this.rangeMid=m()),this.rangeMid=this.rangeMid.add(m(this.options.rangeDisplay).addClass("jcf-range-mid").prependTo(this.rangeDisplayWrapper)));this.handle.detach(),this.handle=null,this.handles=this.fakeElement.find(this.options.handleSelector),this.handles.eq(0).addClass(this.options.activeHandleClass),this.isVertical="vertical"===this.options.orientation,this.directionProperty=this.isVertical?"top":"left",this.offsetProperty=this.isVertical?"bottom":"left",this.eventProperty=this.isVertical?"pageY":"pageX",this.sizeProperty=this.isVertical?"height":"width",this.sizeMethod=this.isVertical?"innerHeight":"innerWidth",this.fakeElement.css("touchAction",this.isVertical?"pan-x":"pan-y"),this.isVertical&&this.fakeElement.addClass(this.options.verticalClass),this.minValue=parseFloat(this.realElement.attr("min")),this.maxValue=parseFloat(this.realElement.attr("max")),this.stepValue=parseFloat(this.realElement.attr("step"))||1,this.minValue=isNaN(this.minValue)?0:this.minValue,this.maxValue=isNaN(this.maxValue)?100:this.maxValue,1!==this.stepValue&&(this.maxValue-=(this.maxValue-this.minValue)%this.stepValue),this.stepsCount=(this.maxValue-this.minValue)/this.stepValue,this.createDataList()},attachEvents:function attachEvents(){this.realElement.on({focus:this.onFocus}),this.trackHolder.on("jcf-pointerdown",this.onTrackPress),this.handles.on("jcf-pointerdown",this.onHandlePress)},createDataList:function createDataList(){var y=this,b=[],_=this.realElement.attr("list");_&&(m("#"+_).find("option").each((function(){var _,$=parseFloat(this.value||this.innerHTML);isNaN($)||(_=y.valueToOffset($),b.push({value:$,offset:_}),m(y.options.dataListMark).text($).attr({"data-mark-value":$}).css(y.offsetProperty,_+"%").appendTo(y.track))})),b.length&&(y.dataValues=b))},getDragHandleRange:function getDragHandleRange(m){var y=-1/0,b=1/0;return m>0&&(y=this.valueToStepIndex(parseFloat(this.values[m-1])+this.options.minRange)),m<this.handleCount-1&&(b=this.valueToStepIndex(parseFloat(this.values[m+1])-this.options.minRange)),{minStepIndex:y,maxStepIndex:b}},getNearestHandle:function getNearestHandle(y){this.isVertical&&(y=1-y);var b=this.handles.eq(0),_=1/0,$=this;return this.handleCount>1&&this.handles.each((function(){var C=parseFloat(this.style[$.offsetProperty])/100,D=Math.abs(C-y);D<_&&(_=D,b=m(this))})),b},onTrackPress:function onTrackPress(m){var y,b,_;m.preventDefault(),this.realElement.is(":disabled")||this.activeDragHandle||(y=this.track[this.sizeMethod](),b=this.track.offset()[this.directionProperty],this.activeDragHandle=this.getNearestHandle((m[this.eventProperty]-b)/this.trackHolder[this.sizeMethod]()),this.activeDragHandleIndex=this.handles.index(this.activeDragHandle),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass),_=this.activeDragHandle[this.sizeMethod]()/2,this.dragData={trackSize:y,innerOffset:_,trackOffset:b,min:b,max:b+y},this.page.on({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),"mouse"===m.pointerType&&this.realElement.focus(),this.onHandleMove(m))},onHandlePress:function onHandlePress(y){var b,_,$;y.preventDefault(),this.realElement.is(":disabled")||this.activeDragHandle||(this.activeDragHandle=m(y.currentTarget),this.activeDragHandleIndex=this.handles.index(this.activeDragHandle),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass),b=this.track[this.sizeMethod](),_=this.track.offset()[this.directionProperty],$=this.options.dragHandleCenter?this.activeDragHandle[this.sizeMethod]()/2:y[this.eventProperty]-this.handle.offset()[this.directionProperty],this.dragData={trackSize:b,innerOffset:$,trackOffset:_,min:_,max:_+b},this.page.on({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),"mouse"===y.pointerType&&this.realElement.focus())},onHandleMove:function onHandleMove(y){var b,_,$,C,D,I=this;if((b=this.isVertical?this.dragData.max+(this.dragData.min-y[this.eventProperty])-this.dragData.innerOffset:y[this.eventProperty]-this.dragData.innerOffset)<this.dragData.min?b=this.dragData.min:b>this.dragData.max&&(b=this.dragData.max),y.preventDefault(),this.options.snapToMarks&&this.dataValues){var M=b-this.dragData.trackOffset;_=(b-this.dragData.trackOffset)/this.dragData.trackSize*100,m.each(this.dataValues,(function(m,y){var b=y.offset/100*I.dragData.trackSize,$=b-I.options.snapRadius,C=b+I.options.snapRadius;if(M>=$&&M<=C)return _=y.offset,!1}))}else _=(b-this.dragData.trackOffset)/this.dragData.trackSize*100;$=Math.round(_*this.stepsCount/100),this.handleCount>1&&($<(D=this.getDragHandleRange(this.activeDragHandleIndex)).minStepIndex?$=Math.max(D.minStepIndex,$):$>D.maxStepIndex&&($=Math.min(D.maxStepIndex,$))),C=$*(100/this.stepsCount),this.dragData.stepIndex!==$&&(this.dragData.stepIndex=$,this.dragData.offset=C,this.activeDragHandle.css(this.offsetProperty,this.dragData.offset+"%"),this.values[this.activeDragHandleIndex]=""+this.stepIndexToValue($),this.updateValues(),this.realElement.trigger("input"))},onHandleRelease:function onHandleRelease(){var m;"number"==typeof this.dragData.offset&&(m=this.stepIndexToValue(this.dragData.stepIndex),this.realElement.val(m).trigger("change")),this.page.off({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),delete this.activeDragHandle,delete this.dragData},onFocus:function onFocus(){this.fakeElement.hasClass(this.options.focusClass)||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on({blur:this.onBlur,keydown:this.onKeyPress}))},onBlur:function onBlur(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off({blur:this.onBlur,keydown:this.onKeyPress})},onKeyPress:function onKeyPress(m){var y=38===m.which||39===m.which,b=37===m.which||40===m.which;if(9===m.which&&this.handleCount>1){if(m.shiftKey&&this.activeDragHandleIndex>0)this.activeDragHandleIndex--;else{if(m.shiftKey||!(this.activeDragHandleIndex<this.handleCount-1))return;this.activeDragHandleIndex++}m.preventDefault(),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass)}(b||y)&&(m.preventDefault(),this.step(y?this.stepValue:-this.stepValue))},updateValues:function updateValues(){var m=this.values.join(",");this.values.length>1?(this.realElement.prop("valueLow",this.values[0]),this.realElement.prop("valueHigh",this.values[this.values.length-1]),this.realElement.val(m),this.realElement.val()!==m&&this.realElement.val(this.values[this.values.length-1])):this.realElement.val(m),this.updateRanges()},updateRanges:function updateRanges(){var m,y=this;this.rangeMin&&(m=this.handles[0],this.rangeMin.css(this.offsetProperty,0).css(this.sizeProperty,m.style[this.offsetProperty])),this.rangeMax&&(m=this.handles[this.handles.length-1],this.rangeMax.css(this.offsetProperty,m.style[this.offsetProperty]).css(this.sizeProperty,100-parseFloat(m.style[this.offsetProperty])+"%")),this.rangeMid&&this.handles.each((function(m,b){var _,$;m>0&&(_=y.handles[m-1],($=y.rangeMid[m-1]).style[y.offsetProperty]=_.style[y.offsetProperty],$.style[y.sizeProperty]=parseFloat(b.style[y.offsetProperty])-parseFloat(_.style[y.offsetProperty])+"%")}))},step:function step(m){var y=parseFloat(this.values[this.activeDragHandleIndex||0]),b=y,_=this.minValue,$=this.maxValue;isNaN(y)&&(b=0),b+=m,this.handleCount>1&&(this.activeDragHandleIndex>0&&(_=parseFloat(this.values[this.activeDragHandleIndex-1])+this.options.minRange),this.activeDragHandleIndex<this.handleCount-1&&($=parseFloat(this.values[this.activeDragHandleIndex+1])-this.options.minRange)),b>$?b=$:b<_&&(b=_),b!==y&&(this.values[this.activeDragHandleIndex||0]=""+b,this.updateValues(),this.realElement.trigger("input").trigger("change"),this.setSliderValue(this.values))},valueToStepIndex:function valueToStepIndex(m){return(m-this.minValue)/this.stepValue},stepIndexToValue:function stepIndexToValue(m){return this.minValue+this.stepValue*m},valueToOffset:function valueToOffset(m){var y=this.maxValue-this.minValue;return 100*((m-this.minValue)/y)},getSliderValue:function getSliderValue(){return m.map(this.values,(function(m){return parseFloat(m)||0}))},setSliderValue:function setSliderValue(m){var y=this;this.handles.each((function(b,_){_.style[y.offsetProperty]=y.valueToOffset(m[b])+"%"}))},refresh:function refresh(){var m=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.disabledClass,m),this.setSliderValue(this.getSliderValue()),this.updateRanges()},destroy:function destroy(){this.realElement.removeClass(this.options.hiddenClass).insertBefore(this.fakeElement),this.fakeElement.remove(),this.realElement.off({keydown:this.onKeyPress,focus:this.onFocus,blur:this.onBlur})}}}))}(jcf)},function(m,y){
/*!
 * JavaScript Custom Forms : Scrollbar Module
 *
 * Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
 * Released under the MIT license (LICENSE.txt)
 *
 * Version: 1.2.3
 */
!function(m){m.addModule((function(m,y){"use strict";var b={name:"Scrollable",selector:".jcf-scrollable",plugins:{ScrollBar:ScrollBar},options:{mouseWheelStep:150,handleResize:!0,alwaysShowScrollbars:!1,alwaysPreventMouseWheel:!1,scrollAreaStructure:'<div class="jcf-scrollable-wrapper"></div>'},matchElement:function matchElement(m){return m.is(".jcf-scrollable")},init:function init(){this.initStructure(),this.attachEvents(),this.rebuildScrollbars()},initStructure:function initStructure(){this.doc=m(document),this.win=m(y),this.realElement=m(this.options.element),this.scrollWrapper=m(this.options.scrollAreaStructure).insertAfter(this.realElement),this.scrollWrapper.css("position","relative"),this.realElement.css("overflow","hidden"),this.vBarEdge=0},attachEvents:function attachEvents(){var m=this;this.vBar=new ScrollBar({holder:this.scrollWrapper,vertical:!0,onScroll:function onScroll(y){m.realElement.scrollTop(y)}}),this.hBar=new ScrollBar({holder:this.scrollWrapper,vertical:!1,onScroll:function onScroll(y){m.realElement.scrollLeft(y)}}),this.realElement.on("scroll",this.onScroll),this.options.handleResize&&this.win.on("resize orientationchange load",this.onResize),this.realElement.on("jcf-mousewheel",this.onMouseWheel),this.realElement.on("jcf-pointerdown",this.onTouchBody)},onScroll:function onScroll(){this.redrawScrollbars()},onResize:function onResize(){m(document.activeElement).is(":input")||this.rebuildScrollbars()},onTouchBody:function onTouchBody(m){"touch"===m.pointerType&&(this.touchData={scrollTop:this.realElement.scrollTop(),scrollLeft:this.realElement.scrollLeft(),left:m.pageX,top:m.pageY},this.doc.on({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}))},onMoveBody:function onMoveBody(m){var y,b,_=this.verticalScrollActive,$=this.horizontalScrollActive;"touch"===m.pointerType&&(y=this.touchData.scrollTop-m.pageY+this.touchData.top,b=this.touchData.scrollLeft-m.pageX+this.touchData.left,this.verticalScrollActive&&(y<0||y>this.vBar.maxValue)&&(_=!1),this.horizontalScrollActive&&(b<0||b>this.hBar.maxValue)&&($=!1),this.realElement.scrollTop(y),this.realElement.scrollLeft(b),_||$?m.preventDefault():this.onReleaseBody(m))},onReleaseBody:function onReleaseBody(m){"touch"===m.pointerType&&(delete this.touchData,this.doc.off({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}))},onMouseWheel:function onMouseWheel(m){var y,b,_,$=this.realElement.scrollTop(),C=this.realElement.scrollLeft(),D=this.realElement.prop("scrollHeight")-this.embeddedDimensions.innerHeight,I=this.realElement.prop("scrollWidth")-this.embeddedDimensions.innerWidth;(this.options.alwaysPreventMouseWheel||(this.verticalScrollActive&&m.deltaY&&($<=0&&m.deltaY<0||$>=D&&m.deltaY>0||(_=!0)),this.horizontalScrollActive&&m.deltaX&&(C<=0&&m.deltaX<0||C>=I&&m.deltaX>0||(_=!0)),this.verticalScrollActive||this.horizontalScrollActive))&&(_||this.options.alwaysPreventMouseWheel)&&(m.preventDefault(),y=m.deltaX/100*this.options.mouseWheelStep,b=m.deltaY/100*this.options.mouseWheelStep,this.realElement.scrollTop($+b),this.realElement.scrollLeft(C+y))},setScrollBarEdge:function setScrollBarEdge(m){this.vBarEdge=m||0,this.redrawScrollbars()},saveElementDimensions:function saveElementDimensions(){return this.savedDimensions={top:this.realElement.width(),left:this.realElement.height()},this},restoreElementDimensions:function restoreElementDimensions(){return this.savedDimensions&&this.realElement.css({width:this.savedDimensions.width,height:this.savedDimensions.height}),this},saveScrollOffsets:function saveScrollOffsets(){return this.savedOffsets={top:this.realElement.scrollTop(),left:this.realElement.scrollLeft()},this},restoreScrollOffsets:function restoreScrollOffsets(){return this.savedOffsets&&(this.realElement.scrollTop(this.savedOffsets.top),this.realElement.scrollLeft(this.savedOffsets.left)),this},getContainerDimensions:function getContainerDimensions(){var m,y,b,_;return this.isModifiedStyles?m={width:this.realElement.innerWidth()+this.vBar.getThickness(),height:this.realElement.innerHeight()+this.hBar.getThickness()}:(this.saveElementDimensions().saveScrollOffsets(),this.realElement.insertAfter(this.scrollWrapper),this.scrollWrapper.detach(),y=this.realElement.prop("style"),_=parseFloat(y.width),b=parseFloat(y.height),this.embeddedDimensions&&_&&b&&(this.isModifiedStyles|=_!==this.embeddedDimensions.width||b!==this.embeddedDimensions.height,this.realElement.css({overflow:"",width:"",height:""})),m={width:this.realElement.outerWidth(),height:this.realElement.outerHeight()},this.scrollWrapper.insertAfter(this.realElement),this.realElement.css("overflow","hidden").prependTo(this.scrollWrapper),this.restoreElementDimensions().restoreScrollOffsets()),m},getEmbeddedDimensions:function getEmbeddedDimensions(y){var b,_=this.vBar.getThickness(),$=this.hBar.getThickness(),C=this.realElement.outerWidth()-this.realElement.width(),D=this.realElement.outerHeight()-this.realElement.height();return this.options.alwaysShowScrollbars?(this.verticalScrollActive=!0,this.horizontalScrollActive=!0,b={innerWidth:y.width-_,innerHeight:y.height-$}):(this.saveElementDimensions(),this.verticalScrollActive=!1,this.horizontalScrollActive=!1,this.realElement.css({width:y.width-C,height:y.height-D}),this.horizontalScrollActive=this.realElement.prop("scrollWidth")>this.containerDimensions.width,this.verticalScrollActive=this.realElement.prop("scrollHeight")>this.containerDimensions.height,this.restoreElementDimensions(),b={innerWidth:y.width-(this.verticalScrollActive?_:0),innerHeight:y.height-(this.horizontalScrollActive?$:0)}),m.extend(b,{width:b.innerWidth-C,height:b.innerHeight-D}),b},rebuildScrollbars:function rebuildScrollbars(){this.containerDimensions=this.getContainerDimensions(),this.embeddedDimensions=this.getEmbeddedDimensions(this.containerDimensions),this.scrollWrapper.css({width:this.containerDimensions.width,height:this.containerDimensions.height}),this.realElement.css({overflow:"hidden",width:this.embeddedDimensions.width,height:this.embeddedDimensions.height}),this.redrawScrollbars()},redrawScrollbars:function redrawScrollbars(){var m,y;this.verticalScrollActive?(m=this.vBarEdge?this.containerDimensions.height-this.vBarEdge:this.embeddedDimensions.innerHeight,y=Math.max(this.realElement.prop("offsetHeight"),this.realElement.prop("scrollHeight"))-this.vBarEdge,this.vBar.show().setMaxValue(y-m).setRatio(m/y).setSize(m),this.vBar.setValue(this.realElement.scrollTop())):this.vBar.hide(),this.horizontalScrollActive?(m=this.embeddedDimensions.innerWidth,(y=this.realElement.prop("scrollWidth"))===m&&(this.horizontalScrollActive=!1),this.hBar.show().setMaxValue(y-m).setRatio(m/y).setSize(m),this.hBar.setValue(this.realElement.scrollLeft())):this.hBar.hide();var b="";this.verticalScrollActive&&this.horizontalScrollActive?b="none":this.verticalScrollActive?b="pan-x":this.horizontalScrollActive&&(b="pan-y"),this.realElement.css("touchAction",b)},refresh:function refresh(){this.rebuildScrollbars()},destroy:function destroy(){this.win.off("resize orientationchange load",this.onResize),this.realElement.off({"jcf-mousewheel":this.onMouseWheel,"jcf-pointerdown":this.onTouchBody}),this.doc.off({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}),this.saveScrollOffsets(),this.vBar.destroy(),this.hBar.destroy(),this.realElement.insertAfter(this.scrollWrapper).css({touchAction:"",overflow:"",width:"",height:""}),this.scrollWrapper.remove(),this.restoreScrollOffsets()}};function ScrollBar(y){this.options=m.extend({holder:null,vertical:!0,inactiveClass:"jcf-inactive",verticalClass:"jcf-scrollbar-vertical",horizontalClass:"jcf-scrollbar-horizontal",scrollbarStructure:'<div class="jcf-scrollbar"><div class="jcf-scrollbar-dec"></div><div class="jcf-scrollbar-slider"><div class="jcf-scrollbar-handle"></div></div><div class="jcf-scrollbar-inc"></div></div>',btnDecSelector:".jcf-scrollbar-dec",btnIncSelector:".jcf-scrollbar-inc",sliderSelector:".jcf-scrollbar-slider",handleSelector:".jcf-scrollbar-handle",scrollInterval:300,scrollStep:400},y),this.init()}return m.extend(ScrollBar.prototype,{init:function init(){this.initStructure(),this.attachEvents()},initStructure:function initStructure(){this.doc=m(document),this.isVertical=!!this.options.vertical,this.sizeProperty=this.isVertical?"height":"width",this.fullSizeProperty=this.isVertical?"outerHeight":"outerWidth",this.invertedSizeProperty=this.isVertical?"width":"height",this.thicknessMeasureMethod="outer"+this.invertedSizeProperty.charAt(0).toUpperCase()+this.invertedSizeProperty.substr(1),this.offsetProperty=this.isVertical?"top":"left",this.offsetEventProperty=this.isVertical?"pageY":"pageX",this.value=this.options.value||0,this.maxValue=this.options.maxValue||0,this.currentSliderSize=0,this.handleSize=0,this.holder=m(this.options.holder),this.scrollbar=m(this.options.scrollbarStructure).appendTo(this.holder),this.btnDec=this.scrollbar.find(this.options.btnDecSelector),this.btnInc=this.scrollbar.find(this.options.btnIncSelector),this.slider=this.scrollbar.find(this.options.sliderSelector),this.handle=this.slider.find(this.options.handleSelector),this.scrollbar.addClass(this.isVertical?this.options.verticalClass:this.options.horizontalClass).css({touchAction:this.isVertical?"pan-x":"pan-y",position:"absolute"}),this.slider.css({position:"relative"}),this.handle.css({touchAction:"none",position:"absolute"})},attachEvents:function attachEvents(){this.bindHandlers(),this.handle.on("jcf-pointerdown",this.onHandlePress),this.slider.add(this.btnDec).add(this.btnInc).on("jcf-pointerdown",this.onButtonPress)},onHandlePress:function onHandlePress(m){"mouse"===m.pointerType&&m.button>1||(m.preventDefault(),this.handleDragActive=!0,this.sliderOffset=this.slider.offset()[this.offsetProperty],this.innerHandleOffset=m[this.offsetEventProperty]-this.handle.offset()[this.offsetProperty],this.doc.on("jcf-pointermove",this.onHandleDrag),this.doc.on("jcf-pointerup",this.onHandleRelease))},onHandleDrag:function onHandleDrag(m){m.preventDefault(),this.calcOffset=m[this.offsetEventProperty]-this.sliderOffset-this.innerHandleOffset,this.setValue(this.calcOffset/(this.currentSliderSize-this.handleSize)*this.maxValue),this.triggerScrollEvent(this.value)},onHandleRelease:function onHandleRelease(){this.handleDragActive=!1,this.doc.off("jcf-pointermove",this.onHandleDrag),this.doc.off("jcf-pointerup",this.onHandleRelease)},onButtonPress:function onButtonPress(m){var y,b;"mouse"===m.pointerType&&m.button>1||(m.preventDefault(),this.handleDragActive||(this.slider.is(m.currentTarget)?(y=this.handle.offset()[this.offsetProperty]>m[this.offsetEventProperty]?-1:1,b=m[this.offsetEventProperty]-this.slider.offset()[this.offsetProperty],this.startPageScrolling(y,b)):(y=this.btnDec.is(m.currentTarget)?-1:1,this.startSmoothScrolling(y)),this.doc.on("jcf-pointerup",this.onButtonRelease)))},onButtonRelease:function onButtonRelease(){this.stopPageScrolling(),this.stopSmoothScrolling(),this.doc.off("jcf-pointerup",this.onButtonRelease)},startPageScrolling:function startPageScrolling(m,y){var b=this,_=m*b.currentSize,$=function doPageScroll(){b.value+=_,b.setValue(b.value),b.triggerScrollEvent(b.value),function isFinishedScrolling(){var _=b.value/b.maxValue*(b.currentSliderSize-b.handleSize);return m>0?_+b.handleSize>=y:_<=y}()&&clearInterval(b.pageScrollTimer)};this.pageScrollTimer=setInterval($,this.options.scrollInterval),$()},stopPageScrolling:function stopPageScrolling(){clearInterval(this.pageScrollTimer)},startSmoothScrolling:function startSmoothScrolling(m){var b,_=this;this.stopSmoothScrolling();var $=y.requestAnimationFrame||function(m){setTimeout(m,16)},C=function getTimestamp(){return Date.now?Date.now():(new Date).getTime()},D=function doScrollAnimation(){var y=(C()-b)/1e3*_.options.scrollStep;_.smoothScrollActive&&(_.value+=y*m,_.setValue(_.value),_.triggerScrollEvent(_.value),function isFinishedScrolling(){return m>0?_.value>=_.maxValue:_.value<=0}()||(b=C(),$(D)))};_.smoothScrollActive=!0,b=C(),$(D)},stopSmoothScrolling:function stopSmoothScrolling(){this.smoothScrollActive=!1},triggerScrollEvent:function triggerScrollEvent(m){this.options.onScroll&&this.options.onScroll(m)},getThickness:function getThickness(){return this.scrollbar[this.thicknessMeasureMethod]()},setSize:function setSize(m){var y=this.btnDec[this.fullSizeProperty](),b=this.btnInc[this.fullSizeProperty]();return this.currentSize=m,this.currentSliderSize=m-y-b,this.scrollbar.css(this.sizeProperty,m),this.slider.css(this.sizeProperty,this.currentSliderSize),this.currentSliderSize=this.slider[this.sizeProperty](),this.handleSize=Math.round(this.currentSliderSize*this.ratio),this.handle.css(this.sizeProperty,this.handleSize),this.handleSize=this.handle[this.fullSizeProperty](),this},setRatio:function setRatio(m){return this.ratio=m,this},setMaxValue:function setMaxValue(m){return this.maxValue=m,this.setValue(Math.min(this.value,this.maxValue)),this},setValue:function setValue(m){this.value=m,this.value<0?this.value=0:this.value>this.maxValue&&(this.value=this.maxValue),this.refresh()},setPosition:function setPosition(m){return this.scrollbar.css(m),this},hide:function hide(){return this.scrollbar.detach(),this},show:function show(){return this.scrollbar.appendTo(this.holder),this},refresh:function refresh(){0===this.value||0===this.maxValue?this.calcOffset=0:this.calcOffset=this.value/this.maxValue*(this.currentSliderSize-this.handleSize),this.handle.css(this.offsetProperty,this.calcOffset),this.btnDec.toggleClass(this.options.inactiveClass,0===this.value),this.btnInc.toggleClass(this.options.inactiveClass,this.value===this.maxValue),this.scrollbar.toggleClass(this.options.inactiveClass,0===this.maxValue)},destroy:function destroy(){this.btnDec.add(this.btnInc).off("jcf-pointerdown",this.onButtonPress),this.handle.off("jcf-pointerdown",this.onHandlePress),this.doc.off("jcf-pointermove",this.onHandleDrag),this.doc.off("jcf-pointerup",this.onHandleRelease),this.doc.off("jcf-pointerup",this.onButtonRelease),this.stopSmoothScrolling(),this.stopPageScrolling(),this.scrollbar.remove()}}),b}))}(jcf)},function(m,y){
/*!
 * JavaScript Custom Forms : Textarea Module
 *
 * Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
 * Released under the MIT license (LICENSE.txt)
 *
 * Version: 1.2.3
 */
!function(m){m.addModule((function(y){"use strict";return{name:"Textarea",selector:"textarea",options:{resize:!0,resizerStructure:'<span class="jcf-resize"></span>',fakeStructure:'<span class="jcf-textarea"></span>'},matchElement:function matchElement(m){return m.is("textarea")},init:function init(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function initStructure(){this.doc=y(document),this.realElement=y(this.options.element),this.fakeElement=y(this.options.fakeStructure).insertAfter(this.realElement),this.resizer=y(this.options.resizerStructure).appendTo(this.fakeElement),m.modules.Scrollable&&(this.realElement.prependTo(this.fakeElement).addClass().css({overflow:"hidden",resize:"none"}),this.scrollable=new m.modules.Scrollable({element:this.realElement,alwaysShowScrollbars:!0}),this.scrollable.setScrollBarEdge(this.resizer.outerHeight()))},attachEvents:function attachEvents(){this.realElement.on({focus:this.onFocus,keyup:this.onChange,change:this.onChange}),this.resizer.on("jcf-pointerdown",this.onResizePress)},onResizePress:function onResizePress(m){var y=this.resizer.offset(),b=this.fakeElement.offset();m.preventDefault(),this.dragData={areaOffset:b,innerOffsetLeft:m.pageX-y.left,innerOffsetTop:m.pageY-y.top},this.doc.on({"jcf-pointermove":this.onResizeMove,"jcf-pointerup":this.onResizeRelease}),this.isFocused&&(this.focusedDrag=!0,this.realElement.focus())},onResizeMove:function onResizeMove(m){var y=m.pageX+this.dragData.innerOffsetLeft-this.dragData.areaOffset.left,b=m.pageY+this.dragData.innerOffsetTop-this.dragData.areaOffset.top,_=this.fakeElement.innerWidth()-this.realElement.innerWidth();m.preventDefault(),this.realElement.innerWidth(y-_).innerHeight(b),this.scrollable&&this.scrollable.rebuildScrollbars(),this.focusedDrag&&this.realElement.focus()},onResizeRelease:function onResizeRelease(){this.doc.off({"jcf-pointermove":this.onResizeMove,"jcf-pointerup":this.onResizeRelease}),delete this.focusedDrag},onFocus:function onFocus(){this.isFocused=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur)},onBlur:function onBlur(){this.isFocused=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur)},onChange:function onChange(){this.refreshCustomScrollbars()},refreshCustomScrollbars:function refreshCustomScrollbars(){this.scrollable&&(this.isFocused?this.scrollable.redrawScrollbars():this.scrollable.rebuildScrollbars())},refresh:function refresh(){var m=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.disabledClass,m),this.refreshCustomScrollbars()},destroy:function destroy(){this.scrollable.destroy(),this.realElement.css({overflow:"",resize:""}).insertBefore(this.fakeElement).off({focus:this.onFocus,blur:this.onBlur}),this.fakeElement.remove()}}}))}(jcf)},function(m,y){$(document).ready((function(){jcf.setOptions("Select",{wrapNative:!1,wrapNativeOnMobile:!0,maxVisibleItems:5,multipleCompactStyle:!0}),$(".jcf").not(".Taxonomy__select,.primary__subject, .advanced-search select.jcf").each((function(){jcf.replace($(this))})),jcf.setOptions("Select",{maxVisibleItems:12}),jcf.replace(".Taxonomy__select, .advanced-search select.jcf"),jcf.setOptions("Select",{maxVisibleItems:10}),jcf.replace(".primary__subject")}))},function(m,y,b){var _=b(2);
/*! jQuery UI - v1.12.1 - 2018-04-24
 * http://jqueryui.com
 * Includes: widget.js, data.js, jquery-1-7.js, keycode.js, scroll-parent.js, widgets/sortable.js, widgets/datepicker.js, widgets/mouse.js, widgets/slider.js
 * Copyright jQuery Foundation and other contributors; Licensed MIT */!function(m){m.ui=m.ui||{},m.ui.version="1.12.1";var y,b=0,$=Array.prototype.slice;
/*!
   * jQuery UI Widget 1.12.1
   * http://jqueryui.com
   *
   * Copyright jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   */m.cleanData=(y=m.cleanData,function(b){var _,$,C;for(C=0;null!=($=b[C]);C++)try{(_=m._data($,"events"))&&_.remove&&m($).triggerHandler("remove")}catch(m){}y(b)}),m.widget=function(y,b,_){var $,C,D,I={},M=y.split(".")[0],P=M+"-"+(y=y.split(".")[1]);return _||(_=b,b=m.Widget),m.isArray(_)&&(_=m.extend.apply(null,[{}].concat(_))),m.expr[":"][P.toLowerCase()]=function(y){return!!m.data(y,P)},m[M]=m[M]||{},$=m[M][y],C=m[M][y]=function(m,y){if(!this._createWidget)return new C(m,y);arguments.length&&this._createWidget(m,y)},m.extend(C,$,{version:_.version,_proto:m.extend({},_),_childConstructors:[]}),(D=new b).options=m.widget.extend({},D.options),m.each(_,(function(y,_){m.isFunction(_)?I[y]=function(){function _super(){return b.prototype[y].apply(this,arguments)}function _superApply(m){return b.prototype[y].apply(this,m)}return function(){var m,y=this._super,b=this._superApply;return this._super=_super,this._superApply=_superApply,m=_.apply(this,arguments),this._super=y,this._superApply=b,m}}():I[y]=_})),C.prototype=m.widget.extend(D,{widgetEventPrefix:$&&D.widgetEventPrefix||y},I,{constructor:C,namespace:M,widgetName:y,widgetFullName:P}),$?(m.each($._childConstructors,(function(y,b){var _=b.prototype;m.widget(_.namespace+"."+_.widgetName,C,b._proto)})),delete $._childConstructors):b._childConstructors.push(C),m.widget.bridge(y,C),C},m.widget.extend=function(y){for(var b,_,C=$.call(arguments,1),D=0,I=C.length;D<I;D++)for(b in C[D])_=C[D][b],C[D].hasOwnProperty(b)&&void 0!==_&&(m.isPlainObject(_)?y[b]=m.isPlainObject(y[b])?m.widget.extend({},y[b],_):m.widget.extend({},_):y[b]=_);return y},m.widget.bridge=function(y,b){var _=b.prototype.widgetFullName||y;m.fn[y]=function(C){var D="string"==typeof C,I=$.call(arguments,1),M=this;return D?this.length||"instance"!==C?this.each((function(){var b,$=m.data(this,_);return"instance"===C?(M=$,!1):$?m.isFunction($[C])&&"_"!==C.charAt(0)?(b=$[C].apply($,I))!==$&&void 0!==b?(M=b&&b.jquery?M.pushStack(b.get()):b,!1):void 0:m.error("no such method '"+C+"' for "+y+" widget instance"):m.error("cannot call methods on "+y+" prior to initialization; attempted to call method '"+C+"'")})):M=void 0:(I.length&&(C=m.widget.extend.apply(null,[C].concat(I))),this.each((function(){var y=m.data(this,_);y?(y.option(C||{}),y._init&&y._init()):m.data(this,_,new b(C,this))}))),M}},m.Widget=function(){},m.Widget._childConstructors=[],m.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function _createWidget(y,_){_=m(_||this.defaultElement||this)[0],this.element=m(_),this.uuid=b++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=m(),this.hoverable=m(),this.focusable=m(),this.classesElementLookup={},_!==this&&(m.data(_,this.widgetFullName,this),this._on(!0,this.element,{remove:function remove(m){m.target===_&&this.destroy()}}),this.document=m(_.style?_.ownerDocument:_.document||_),this.window=m(this.document[0].defaultView||this.document[0].parentWindow)),this.options=m.widget.extend({},this.options,this._getCreateOptions(),y),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function _getCreateOptions(){return{}},_getCreateEventData:m.noop,_create:m.noop,_init:m.noop,destroy:function destroy(){var y=this;this._destroy(),m.each(this.classesElementLookup,(function(m,b){y._removeClass(b,m)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:m.noop,widget:function widget(){return this.element},option:function option(y,b){var _,$,C,D=y;if(0===arguments.length)return m.widget.extend({},this.options);if("string"==typeof y)if(D={},_=y.split("."),y=_.shift(),_.length){for($=D[y]=m.widget.extend({},this.options[y]),C=0;C<_.length-1;C++)$[_[C]]=$[_[C]]||{},$=$[_[C]];if(y=_.pop(),1===arguments.length)return void 0===$[y]?null:$[y];$[y]=b}else{if(1===arguments.length)return void 0===this.options[y]?null:this.options[y];D[y]=b}return this._setOptions(D),this},_setOptions:function _setOptions(m){var y;for(y in m)this._setOption(y,m[y]);return this},_setOption:function _setOption(m,y){return"classes"===m&&this._setOptionClasses(y),this.options[m]=y,"disabled"===m&&this._setOptionDisabled(y),this},_setOptionClasses:function _setOptionClasses(y){var b,_,$;for(b in y)$=this.classesElementLookup[b],y[b]!==this.options.classes[b]&&$&&$.length&&(_=m($.get()),this._removeClass($,b),_.addClass(this._classes({element:_,keys:b,classes:y,add:!0})))},_setOptionDisabled:function _setOptionDisabled(m){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!m),m&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function enable(){return this._setOptions({disabled:!1})},disable:function disable(){return this._setOptions({disabled:!0})},_classes:function _classes(y){var b=[],_=this;function processClassString($,C){var D,I;for(I=0;I<$.length;I++)D=_.classesElementLookup[$[I]]||m(),D=y.add?m(m.unique(D.get().concat(y.element.get()))):m(D.not(y.element).get()),_.classesElementLookup[$[I]]=D,b.push($[I]),C&&y.classes[$[I]]&&b.push(y.classes[$[I]])}return y=m.extend({element:this.element,classes:this.options.classes||{}},y),this._on(y.element,{remove:"_untrackClassesElement"}),y.keys&&processClassString(y.keys.match(/\S+/g)||[],!0),y.extra&&processClassString(y.extra.match(/\S+/g)||[]),b.join(" ")},_untrackClassesElement:function _untrackClassesElement(y){var b=this;m.each(b.classesElementLookup,(function(_,$){-1!==m.inArray(y.target,$)&&(b.classesElementLookup[_]=m($.not(y.target).get()))}))},_removeClass:function _removeClass(m,y,b){return this._toggleClass(m,y,b,!1)},_addClass:function _addClass(m,y,b){return this._toggleClass(m,y,b,!0)},_toggleClass:function _toggleClass(m,y,b,_){_="boolean"==typeof _?_:b;var $="string"==typeof m||null===m,C={extra:$?y:b,keys:$?m:y,element:$?this.element:m,add:_};return C.element.toggleClass(this._classes(C),_),this},_on:function _on(y,b,_){var $,C=this;"boolean"!=typeof y&&(_=b,b=y,y=!1),_?(b=$=m(b),this.bindings=this.bindings.add(b)):(_=b,b=this.element,$=this.widget()),m.each(_,(function(_,D){function handlerProxy(){if(y||!0!==C.options.disabled&&!m(this).hasClass("ui-state-disabled"))return("string"==typeof D?C[D]:D).apply(C,arguments)}"string"!=typeof D&&(handlerProxy.guid=D.guid=D.guid||handlerProxy.guid||m.guid++);var I=_.match(/^([\w:-]*)\s*(.*)$/),M=I[1]+C.eventNamespace,P=I[2];P?$.on(M,P,handlerProxy):b.on(M,handlerProxy)}))},_off:function _off(y,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,y.off(b).off(b),this.bindings=m(this.bindings.not(y).get()),this.focusable=m(this.focusable.not(y).get()),this.hoverable=m(this.hoverable.not(y).get())},_delay:function _delay(m,y){var b=this;return setTimeout((function handlerProxy(){return("string"==typeof m?b[m]:m).apply(b,arguments)}),y||0)},_hoverable:function _hoverable(y){this.hoverable=this.hoverable.add(y),this._on(y,{mouseenter:function mouseenter(y){this._addClass(m(y.currentTarget),null,"ui-state-hover")},mouseleave:function mouseleave(y){this._removeClass(m(y.currentTarget),null,"ui-state-hover")}})},_focusable:function _focusable(y){this.focusable=this.focusable.add(y),this._on(y,{focusin:function focusin(y){this._addClass(m(y.currentTarget),null,"ui-state-focus")},focusout:function focusout(y){this._removeClass(m(y.currentTarget),null,"ui-state-focus")}})},_trigger:function _trigger(y,b,_){var $,C,D=this.options[y];if(_=_||{},(b=m.Event(b)).type=(y===this.widgetEventPrefix?y:this.widgetEventPrefix+y).toLowerCase(),b.target=this.element[0],C=b.originalEvent)for($ in C)$ in b||(b[$]=C[$]);return this.element.trigger(b,_),!(m.isFunction(D)&&!1===D.apply(this.element[0],[b].concat(_))||b.isDefaultPrevented())}},m.each({show:"fadeIn",hide:"fadeOut"},(function(y,b){m.Widget.prototype["_"+y]=function(_,$,C){var D;"string"==typeof $&&($={effect:$});var I=$?!0===$||"number"==typeof $?b:$.effect||b:y;"number"==typeof($=$||{})&&($={duration:$}),D=!m.isEmptyObject($),$.complete=C,$.delay&&_.delay($.delay),D&&m.effects&&m.effects.effect[I]?_[y]($):I!==y&&_[I]?_[I]($.duration,$.easing,C):_.queue((function(b){m(this)[y](),C&&C.call(_[0]),b()}))}})),m.widget,m.extend(m.expr[":"],{data:m.expr.createPseudo?m.expr.createPseudo((function(y){return function(b){return!!m.data(b,y)}})):function(y,b,_){return!!m.data(y,_[3])}}),
/*!
   * jQuery UI Support for jQuery core 1.7.x 1.12.1
   * http://jqueryui.com
   *
   * Copyright jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   *
   */
"1.7"===m.fn.jquery.substring(0,3)&&(m.each(["Width","Height"],(function(y,b){var _="Width"===b?["Left","Right"]:["Top","Bottom"],$=b.toLowerCase(),C={innerWidth:m.fn.innerWidth,innerHeight:m.fn.innerHeight,outerWidth:m.fn.outerWidth,outerHeight:m.fn.outerHeight};function reduce(y,b,$,C){return m.each(_,(function(){b-=parseFloat(m.css(y,"padding"+this))||0,$&&(b-=parseFloat(m.css(y,"border"+this+"Width"))||0),C&&(b-=parseFloat(m.css(y,"margin"+this))||0)})),b}m.fn["inner"+b]=function(y){return void 0===y?C["inner"+b].call(this):this.each((function(){m(this).css($,reduce(this,y)+"px")}))},m.fn["outer"+b]=function(y,_){return"number"!=typeof y?C["outer"+b].call(this,y):this.each((function(){m(this).css($,reduce(this,y,!0,_)+"px")}))}})),m.fn.addBack=function(m){return this.add(null==m?this.prevObject:this.prevObject.filter(m))}),m.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},m.fn.scrollParent=function(y){var b=this.css("position"),_="absolute"===b,$=y?/(auto|scroll|hidden)/:/(auto|scroll)/,C=this.parents().filter((function(){var y=m(this);return(!_||"static"!==y.css("position"))&&$.test(y.css("overflow")+y.css("overflow-y")+y.css("overflow-x"))})).eq(0);return"fixed"!==b&&C.length?C:m(this[0].ownerDocument||document)},m.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
/*!
   * jQuery UI Keycode 1.12.1
   * http://jqueryui.com
   *
   * Copyright jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   */
var C,D=!1;
/*!
   * jQuery UI Scroll Parent 1.12.1
   * http://jqueryui.com
   *
   * Copyright jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   */function Datepicker(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},m.extend(this._defaults,this.regional[""]),this.regional.en=m.extend(!0,{},this.regional[""]),this.regional["en-US"]=m.extend(!0,{},this.regional.en),this.dpDiv=datepicker_bindHover(m("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function datepicker_bindHover(y){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return y.on("mouseout",b,(function(){m(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&m(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&m(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",b,datepicker_handleMouseover)}function datepicker_handleMouseover(){m.datepicker._isDisabledDatepicker(C.inline?C.dpDiv.parent()[0]:C.input[0])||(m(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),m(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&m(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&m(this).addClass("ui-datepicker-next-hover"))}function datepicker_extendRemove(y,b){for(var _ in m.extend(y,b),b)null==b[_]&&(y[_]=b[_]);return y}m(document).on("mouseup",(function(){D=!1})),m.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function _mouseInit(){var y=this;this.element.on("mousedown."+this.widgetName,(function(m){return y._mouseDown(m)})).on("click."+this.widgetName,(function(b){if(!0===m.data(b.target,y.widgetName+".preventClickEvent"))return m.removeData(b.target,y.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function _mouseDestroy(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function _mouseDown(y){if(!D){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(y),this._mouseDownEvent=y;var b=this,_=1===y.which,$=!("string"!=typeof this.options.cancel||!y.target.nodeName)&&m(y.target).closest(this.options.cancel).length;return!(_&&!$&&this._mouseCapture(y)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){b.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(y)&&this._mouseDelayMet(y)&&(this._mouseStarted=!1!==this._mouseStart(y),!this._mouseStarted)?(y.preventDefault(),0):(!0===m.data(y.target,this.widgetName+".preventClickEvent")&&m.removeData(y.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(m){return b._mouseMove(m)},this._mouseUpDelegate=function(m){return b._mouseUp(m)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),y.preventDefault(),D=!0,0)))}},_mouseMove:function _mouseMove(y){if(this._mouseMoved){if(m.ui.ie&&(!document.documentMode||document.documentMode<9)&&!y.button)return this._mouseUp(y);if(!y.which)if(y.originalEvent.altKey||y.originalEvent.ctrlKey||y.originalEvent.metaKey||y.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(y)}return(y.which||y.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(y),y.preventDefault()):(this._mouseDistanceMet(y)&&this._mouseDelayMet(y)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,y),this._mouseStarted?this._mouseDrag(y):this._mouseUp(y)),!this._mouseStarted)},_mouseUp:function _mouseUp(y){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,y.target===this._mouseDownEvent.target&&m.data(y.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(y)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,D=!1,y.preventDefault()},_mouseDistanceMet:function _mouseDistanceMet(m){return Math.max(Math.abs(this._mouseDownEvent.pageX-m.pageX),Math.abs(this._mouseDownEvent.pageY-m.pageY))>=this.options.distance},_mouseDelayMet:function _mouseDelayMet(){return this.mouseDelayMet},_mouseStart:function _mouseStart(){},_mouseDrag:function _mouseDrag(){},_mouseStop:function _mouseStop(){},_mouseCapture:function _mouseCapture(){return!0}}),m.widget("ui.sortable",m.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function _isOverAxis(m,y,b){return m>=y&&m<y+b},_isFloating:function _isFloating(m){return/left|right/.test(m.css("float"))||/inline|table-cell/.test(m.css("display"))},_create:function _create(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function _setOption(m,y){this._super(m,y),"handle"===m&&this._setHandleClassName()},_setHandleClassName:function _setHandleClassName(){var y=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),m.each(this.items,(function(){y._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function _destroy(){this._mouseDestroy();for(var m=this.items.length-1;m>=0;m--)this.items[m].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function _mouseCapture(y,b){var _=null,$=!1,C=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(y),m(y.target).parents().each((function(){if(m.data(this,C.widgetName+"-item")===C)return _=m(this),!1})),m.data(y.target,C.widgetName+"-item")===C&&(_=m(y.target)),!_||this.options.handle&&!b&&(m(this.options.handle,_).find("*").addBack().each((function(){this===y.target&&($=!0)})),!$)||(this.currentItem=_,this._removeCurrentsFromItems(),0)))},_mouseStart:function _mouseStart(y,b,_){var $,C,D=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(y),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},m.extend(this.offset,{click:{left:y.pageX-this.offset.left,top:y.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(y),this.originalPageX=y.pageX,this.originalPageY=y.pageY,D.cursorAt&&this._adjustOffsetFromHelper(D.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),D.containment&&this._setContainment(),D.cursor&&"auto"!==D.cursor&&(C=this.document.find("body"),this.storedCursor=C.css("cursor"),C.css("cursor",D.cursor),this.storedStylesheet=m("<style>*{ cursor: "+D.cursor+" !important; }</style>").appendTo(C)),D.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",D.opacity)),D.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",D.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",y,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!_)for($=this.containers.length-1;$>=0;$--)this.containers[$]._trigger("activate",y,this._uiHash(this));return m.ui.ddmanager&&(m.ui.ddmanager.current=this),m.ui.ddmanager&&!D.dropBehaviour&&m.ui.ddmanager.prepareOffsets(this,y),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(y),!0},_mouseDrag:function _mouseDrag(y){var b,_,$,C,D=this.options,I=!1;for(this.position=this._generatePosition(y),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-y.pageY<D.scrollSensitivity?this.scrollParent[0].scrollTop=I=this.scrollParent[0].scrollTop+D.scrollSpeed:y.pageY-this.overflowOffset.top<D.scrollSensitivity&&(this.scrollParent[0].scrollTop=I=this.scrollParent[0].scrollTop-D.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-y.pageX<D.scrollSensitivity?this.scrollParent[0].scrollLeft=I=this.scrollParent[0].scrollLeft+D.scrollSpeed:y.pageX-this.overflowOffset.left<D.scrollSensitivity&&(this.scrollParent[0].scrollLeft=I=this.scrollParent[0].scrollLeft-D.scrollSpeed)):(y.pageY-this.document.scrollTop()<D.scrollSensitivity?I=this.document.scrollTop(this.document.scrollTop()-D.scrollSpeed):this.window.height()-(y.pageY-this.document.scrollTop())<D.scrollSensitivity&&(I=this.document.scrollTop(this.document.scrollTop()+D.scrollSpeed)),y.pageX-this.document.scrollLeft()<D.scrollSensitivity?I=this.document.scrollLeft(this.document.scrollLeft()-D.scrollSpeed):this.window.width()-(y.pageX-this.document.scrollLeft())<D.scrollSensitivity&&(I=this.document.scrollLeft(this.document.scrollLeft()+D.scrollSpeed))),!1!==I&&m.ui.ddmanager&&!D.dropBehaviour&&m.ui.ddmanager.prepareOffsets(this,y)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),b=this.items.length-1;b>=0;b--)if($=(_=this.items[b]).item[0],(C=this._intersectsWithPointer(_))&&_.instance===this.currentContainer&&!($===this.currentItem[0]||this.placeholder[1===C?"next":"prev"]()[0]===$||m.contains(this.placeholder[0],$)||"semi-dynamic"===this.options.type&&m.contains(this.element[0],$))){if(this.direction=1===C?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(_))break;this._rearrange(y,_),this._trigger("change",y,this._uiHash());break}return this._contactContainers(y),m.ui.ddmanager&&m.ui.ddmanager.drag(this,y),this._trigger("sort",y,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function _mouseStop(y,b){if(y){if(m.ui.ddmanager&&!this.options.dropBehaviour&&m.ui.ddmanager.drop(this,y),this.options.revert){var _=this,$=this.placeholder.offset(),C=this.options.axis,D={};C&&"x"!==C||(D.left=$.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),C&&"y"!==C||(D.top=$.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,m(this.helper).animate(D,parseInt(this.options.revert,10)||500,(function(){_._clear(y)}))}else this._clear(y,b);return!1}},cancel:function cancel(){if(this.dragging){this._mouseUp(new m.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var y=this.containers.length-1;y>=0;y--)this.containers[y]._trigger("deactivate",null,this._uiHash(this)),this.containers[y].containerCache.over&&(this.containers[y]._trigger("out",null,this._uiHash(this)),this.containers[y].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),m.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?m(this.domPosition.prev).after(this.currentItem):m(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function serialize(y){var b=this._getItemsAsjQuery(y&&y.connected),_=[];return y=y||{},m(b).each((function(){var b=(m(y.item||this).attr(y.attribute||"id")||"").match(y.expression||/(.+)[\-=_](.+)/);b&&_.push((y.key||b[1]+"[]")+"="+(y.key&&y.expression?b[1]:b[2]))})),!_.length&&y.key&&_.push(y.key+"="),_.join("&")},toArray:function toArray(y){var b=this._getItemsAsjQuery(y&&y.connected),_=[];return y=y||{},b.each((function(){_.push(m(y.item||this).attr(y.attribute||"id")||"")})),_},_intersectsWith:function _intersectsWith(m){var y=this.positionAbs.left,b=y+this.helperProportions.width,_=this.positionAbs.top,$=_+this.helperProportions.height,C=m.left,D=C+m.width,I=m.top,M=I+m.height,P=this.offset.click.top,R=this.offset.click.left,N="x"===this.options.axis||_+P>I&&_+P<M,U="y"===this.options.axis||y+R>C&&y+R<D,H=N&&U;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>m[this.floating?"width":"height"]?H:C<y+this.helperProportions.width/2&&b-this.helperProportions.width/2<D&&I<_+this.helperProportions.height/2&&$-this.helperProportions.height/2<M},_intersectsWithPointer:function _intersectsWithPointer(m){var y,b,_="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,m.top,m.height),$="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,m.left,m.width);return!(!_||!$)&&(y=this._getDragVerticalDirection(),b=this._getDragHorizontalDirection(),this.floating?"right"===b||"down"===y?2:1:y&&("down"===y?2:1))},_intersectsWithSides:function _intersectsWithSides(m){var y=this._isOverAxis(this.positionAbs.top+this.offset.click.top,m.top+m.height/2,m.height),b=this._isOverAxis(this.positionAbs.left+this.offset.click.left,m.left+m.width/2,m.width),_=this._getDragVerticalDirection(),$=this._getDragHorizontalDirection();return this.floating&&$?"right"===$&&b||"left"===$&&!b:_&&("down"===_&&y||"up"===_&&!y)},_getDragVerticalDirection:function _getDragVerticalDirection(){var m=this.positionAbs.top-this.lastPositionAbs.top;return 0!==m&&(m>0?"down":"up")},_getDragHorizontalDirection:function _getDragHorizontalDirection(){var m=this.positionAbs.left-this.lastPositionAbs.left;return 0!==m&&(m>0?"right":"left")},refresh:function refresh(m){return this._refreshItems(m),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function _connectWith(){var m=this.options;return m.connectWith.constructor===String?[m.connectWith]:m.connectWith},_getItemsAsjQuery:function _getItemsAsjQuery(y){var b,_,$,C,D=[],I=[],M=this._connectWith();if(M&&y)for(b=M.length-1;b>=0;b--)for(_=($=m(M[b],this.document[0])).length-1;_>=0;_--)(C=m.data($[_],this.widgetFullName))&&C!==this&&!C.options.disabled&&I.push([m.isFunction(C.options.items)?C.options.items.call(C.element):m(C.options.items,C.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),C]);function addItems(){D.push(this)}for(I.push([m.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):m(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),b=I.length-1;b>=0;b--)I[b][0].each(addItems);return m(D)},_removeCurrentsFromItems:function _removeCurrentsFromItems(){var y=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=m.grep(this.items,(function(m){for(var b=0;b<y.length;b++)if(y[b]===m.item[0])return!1;return!0}))},_refreshItems:function _refreshItems(y){this.items=[],this.containers=[this];var b,_,$,C,D,I,M,P,R=this.items,N=[[m.isFunction(this.options.items)?this.options.items.call(this.element[0],y,{item:this.currentItem}):m(this.options.items,this.element),this]],U=this._connectWith();if(U&&this.ready)for(b=U.length-1;b>=0;b--)for(_=($=m(U[b],this.document[0])).length-1;_>=0;_--)(C=m.data($[_],this.widgetFullName))&&C!==this&&!C.options.disabled&&(N.push([m.isFunction(C.options.items)?C.options.items.call(C.element[0],y,{item:this.currentItem}):m(C.options.items,C.element),C]),this.containers.push(C));for(b=N.length-1;b>=0;b--)for(D=N[b][1],_=0,P=(I=N[b][0]).length;_<P;_++)(M=m(I[_])).data(this.widgetName+"-item",D),R.push({item:M,instance:D,width:0,height:0,left:0,top:0})},refreshPositions:function refreshPositions(y){var b,_,$,C;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),b=this.items.length-1;b>=0;b--)(_=this.items[b]).instance!==this.currentContainer&&this.currentContainer&&_.item[0]!==this.currentItem[0]||($=this.options.toleranceElement?m(this.options.toleranceElement,_.item):_.item,y||(_.width=$.outerWidth(),_.height=$.outerHeight()),C=$.offset(),_.left=C.left,_.top=C.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(b=this.containers.length-1;b>=0;b--)C=this.containers[b].element.offset(),this.containers[b].containerCache.left=C.left,this.containers[b].containerCache.top=C.top,this.containers[b].containerCache.width=this.containers[b].element.outerWidth(),this.containers[b].containerCache.height=this.containers[b].element.outerHeight();return this},_createPlaceholder:function _createPlaceholder(y){var b,_=(y=y||this).options;_.placeholder&&_.placeholder.constructor!==String||(b=_.placeholder,_.placeholder={element:function element(){var _=y.currentItem[0].nodeName.toLowerCase(),element=m("<"+_+">",y.document[0]);return y._addClass(element,"ui-sortable-placeholder",b||y.currentItem[0].className)._removeClass(element,"ui-sortable-helper"),"tbody"===_?y._createTrPlaceholder(y.currentItem.find("tr").eq(0),m("<tr>",y.document[0]).appendTo(element)):"tr"===_?y._createTrPlaceholder(y.currentItem,element):"img"===_&&element.attr("src",y.currentItem.attr("src")),b||element.css("visibility","hidden"),element},update:function update(m,$){b&&!_.forcePlaceholderSize||($.height()||$.height(y.currentItem.innerHeight()-parseInt(y.currentItem.css("paddingTop")||0,10)-parseInt(y.currentItem.css("paddingBottom")||0,10)),$.width()||$.width(y.currentItem.innerWidth()-parseInt(y.currentItem.css("paddingLeft")||0,10)-parseInt(y.currentItem.css("paddingRight")||0,10)))}}),y.placeholder=m(_.placeholder.element.call(y.element,y.currentItem)),y.currentItem.after(y.placeholder),_.placeholder.update(y,y.placeholder)},_createTrPlaceholder:function _createTrPlaceholder(y,b){var _=this;y.children().each((function(){m("<td>&#160;</td>",_.document[0]).attr("colspan",m(this).attr("colspan")||1).appendTo(b)}))},_contactContainers:function _contactContainers(y){var b,_,$,C,D,I,M,P,R,N,U=null,H=null;for(b=this.containers.length-1;b>=0;b--)if(!m.contains(this.currentItem[0],this.containers[b].element[0]))if(this._intersectsWith(this.containers[b].containerCache)){if(U&&m.contains(this.containers[b].element[0],U.element[0]))continue;U=this.containers[b],H=b}else this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",y,this._uiHash(this)),this.containers[b].containerCache.over=0);if(U)if(1===this.containers.length)this.containers[H].containerCache.over||(this.containers[H]._trigger("over",y,this._uiHash(this)),this.containers[H].containerCache.over=1);else{for($=1e4,C=null,D=(R=U.floating||this._isFloating(this.currentItem))?"left":"top",I=R?"width":"height",N=R?"pageX":"pageY",_=this.items.length-1;_>=0;_--)m.contains(this.containers[H].element[0],this.items[_].item[0])&&this.items[_].item[0]!==this.currentItem[0]&&(M=this.items[_].item.offset()[D],P=!1,y[N]-M>this.items[_][I]/2&&(P=!0),Math.abs(y[N]-M)<$&&($=Math.abs(y[N]-M),C=this.items[_],this.direction=P?"up":"down"));if(!C&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[H])return void(this.currentContainer.containerCache.over||(this.containers[H]._trigger("over",y,this._uiHash()),this.currentContainer.containerCache.over=1));C?this._rearrange(y,C,null,!0):this._rearrange(y,null,this.containers[H].element,!0),this._trigger("change",y,this._uiHash()),this.containers[H]._trigger("change",y,this._uiHash(this)),this.currentContainer=this.containers[H],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[H]._trigger("over",y,this._uiHash(this)),this.containers[H].containerCache.over=1}},_createHelper:function _createHelper(y){var b=this.options,_=m.isFunction(b.helper)?m(b.helper.apply(this.element[0],[y,this.currentItem])):"clone"===b.helper?this.currentItem.clone():this.currentItem;return _.parents("body").length||m("parent"!==b.appendTo?b.appendTo:this.currentItem[0].parentNode)[0].appendChild(_[0]),_[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),_[0].style.width&&!b.forceHelperSize||_.width(this.currentItem.width()),_[0].style.height&&!b.forceHelperSize||_.height(this.currentItem.height()),_},_adjustOffsetFromHelper:function _adjustOffsetFromHelper(y){"string"==typeof y&&(y=y.split(" ")),m.isArray(y)&&(y={left:+y[0],top:+y[1]||0}),"left"in y&&(this.offset.click.left=y.left+this.margins.left),"right"in y&&(this.offset.click.left=this.helperProportions.width-y.right+this.margins.left),"top"in y&&(this.offset.click.top=y.top+this.margins.top),"bottom"in y&&(this.offset.click.top=this.helperProportions.height-y.bottom+this.margins.top)},_getParentOffset:function _getParentOffset(){this.offsetParent=this.helper.offsetParent();var y=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&m.contains(this.scrollParent[0],this.offsetParent[0])&&(y.left+=this.scrollParent.scrollLeft(),y.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&m.ui.ie)&&(y={top:0,left:0}),{top:y.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:y.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function _getRelativeOffset(){if("relative"===this.cssPosition){var m=this.currentItem.position();return{top:m.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:m.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function _cacheMargins(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function _cacheHelperProportions(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function _setContainment(){var y,b,_,$=this.options;"parent"===$.containment&&($.containment=this.helper[0].parentNode),"document"!==$.containment&&"window"!==$.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===$.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===$.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test($.containment)||(y=m($.containment)[0],b=m($.containment).offset(),_="hidden"!==m(y).css("overflow"),this.containment=[b.left+(parseInt(m(y).css("borderLeftWidth"),10)||0)+(parseInt(m(y).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(m(y).css("borderTopWidth"),10)||0)+(parseInt(m(y).css("paddingTop"),10)||0)-this.margins.top,b.left+(_?Math.max(y.scrollWidth,y.offsetWidth):y.offsetWidth)-(parseInt(m(y).css("borderLeftWidth"),10)||0)-(parseInt(m(y).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(_?Math.max(y.scrollHeight,y.offsetHeight):y.offsetHeight)-(parseInt(m(y).css("borderTopWidth"),10)||0)-(parseInt(m(y).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function _convertPositionTo(y,b){b||(b=this.position);var _="absolute"===y?1:-1,$="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&m.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,C=/(html|body)/i.test($[0].tagName);return{top:b.top+this.offset.relative.top*_+this.offset.parent.top*_-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():C?0:$.scrollTop())*_,left:b.left+this.offset.relative.left*_+this.offset.parent.left*_-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():C?0:$.scrollLeft())*_}},_generatePosition:function _generatePosition(y){var b,_,$=this.options,C=y.pageX,D=y.pageY,I="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&m.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,M=/(html|body)/i.test(I[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(y.pageX-this.offset.click.left<this.containment[0]&&(C=this.containment[0]+this.offset.click.left),y.pageY-this.offset.click.top<this.containment[1]&&(D=this.containment[1]+this.offset.click.top),y.pageX-this.offset.click.left>this.containment[2]&&(C=this.containment[2]+this.offset.click.left),y.pageY-this.offset.click.top>this.containment[3]&&(D=this.containment[3]+this.offset.click.top)),$.grid&&(b=this.originalPageY+Math.round((D-this.originalPageY)/$.grid[1])*$.grid[1],D=this.containment?b-this.offset.click.top>=this.containment[1]&&b-this.offset.click.top<=this.containment[3]?b:b-this.offset.click.top>=this.containment[1]?b-$.grid[1]:b+$.grid[1]:b,_=this.originalPageX+Math.round((C-this.originalPageX)/$.grid[0])*$.grid[0],C=this.containment?_-this.offset.click.left>=this.containment[0]&&_-this.offset.click.left<=this.containment[2]?_:_-this.offset.click.left>=this.containment[0]?_-$.grid[0]:_+$.grid[0]:_)),{top:D-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():M?0:I.scrollTop()),left:C-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():M?0:I.scrollLeft())}},_rearrange:function _rearrange(m,y,b,_){b?b[0].appendChild(this.placeholder[0]):y.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?y.item[0]:y.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var $=this.counter;this._delay((function(){$===this.counter&&this.refreshPositions(!_)}))},_clear:function _clear(m,y){this.reverting=!1;var b,_=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(b in this._storedCSS)"auto"!==this._storedCSS[b]&&"static"!==this._storedCSS[b]||(this._storedCSS[b]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function delayEvent(m,y,b){return function(_){b._trigger(m,_,y._uiHash(y))}}for(this.fromOutside&&!y&&_.push((function(m){this._trigger("receive",m,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||y||_.push((function(m){this._trigger("update",m,this._uiHash())})),this!==this.currentContainer&&(y||(_.push((function(m){this._trigger("remove",m,this._uiHash())})),_.push(function(m){return function(y){m._trigger("receive",y,this._uiHash(this))}}.call(this,this.currentContainer)),_.push(function(m){return function(y){m._trigger("update",y,this._uiHash(this))}}.call(this,this.currentContainer)))),b=this.containers.length-1;b>=0;b--)y||_.push(delayEvent("deactivate",this,this.containers[b])),this.containers[b].containerCache.over&&(_.push(delayEvent("out",this,this.containers[b])),this.containers[b].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,y||this._trigger("beforeStop",m,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!y){for(b=0;b<_.length;b++)_[b].call(this,m);this._trigger("stop",m,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function _trigger(){!1===m.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function _uiHash(y){var b=y||this;return{helper:b.helper,placeholder:b.placeholder||m([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:y?y.element:null}}}),
/*!
   * jQuery UI Datepicker 1.12.1
   * http://jqueryui.com
   *
   * Copyright jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   */
m.extend(m.ui,{datepicker:{version:"1.12.1"}}),m.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function _widgetDatepicker(){return this.dpDiv},setDefaults:function setDefaults(m){return datepicker_extendRemove(this._defaults,m||{}),this},_attachDatepicker:function _attachDatepicker(y,b){var _,$,C;$="div"===(_=y.nodeName.toLowerCase())||"span"===_,y.id||(this.uuid+=1,y.id="dp"+this.uuid),(C=this._newInst(m(y),$)).settings=m.extend({},b||{}),"input"===_?this._connectDatepicker(y,C):$&&this._inlineDatepicker(y,C)},_newInst:function _newInst(y,b){return{id:y[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:y,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?datepicker_bindHover(m("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function _connectDatepicker(y,b){var _=m(y);b.append=m([]),b.trigger=m([]),_.hasClass(this.markerClassName)||(this._attachments(_,b),_.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(b),m.data(y,"datepicker",b),b.settings.disabled&&this._disableDatepicker(y))},_attachments:function _attachments(y,b){var _,$,C,D=this._get(b,"appendText"),I=this._get(b,"isRTL");b.append&&b.append.remove(),D&&(b.append=m("<span class='"+this._appendClass+"'>"+D+"</span>"),y[I?"before":"after"](b.append)),y.off("focus",this._showDatepicker),b.trigger&&b.trigger.remove(),"focus"!==(_=this._get(b,"showOn"))&&"both"!==_||y.on("focus",this._showDatepicker),"button"!==_&&"both"!==_||($=this._get(b,"buttonText"),C=this._get(b,"buttonImage"),b.trigger=m(this._get(b,"buttonImageOnly")?m("<img/>").addClass(this._triggerClass).attr({src:C,alt:$,title:$}):m("<button type='button'></button>").addClass(this._triggerClass).html(C?m("<img/>").attr({src:C,alt:$,title:$}):$)),y[I?"before":"after"](b.trigger),b.trigger.on("click",(function(){return m.datepicker._datepickerShowing&&m.datepicker._lastInput===y[0]?m.datepicker._hideDatepicker():m.datepicker._datepickerShowing&&m.datepicker._lastInput!==y[0]?(m.datepicker._hideDatepicker(),m.datepicker._showDatepicker(y[0])):m.datepicker._showDatepicker(y[0]),!1})))},_autoSize:function _autoSize(m){if(this._get(m,"autoSize")&&!m.inline){var y,b,_,$,C=new Date(2009,11,20),D=this._get(m,"dateFormat");D.match(/[DM]/)&&(y=function findMax(m){for(b=0,_=0,$=0;$<m.length;$++)m[$].length>b&&(b=m[$].length,_=$);return _},C.setMonth(y(this._get(m,D.match(/MM/)?"monthNames":"monthNamesShort"))),C.setDate(y(this._get(m,D.match(/DD/)?"dayNames":"dayNamesShort"))+20-C.getDay())),m.input.attr("size",this._formatDate(m,C).length)}},_inlineDatepicker:function _inlineDatepicker(y,b){var _=m(y);_.hasClass(this.markerClassName)||(_.addClass(this.markerClassName).append(b.dpDiv),m.data(y,"datepicker",b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(y),b.dpDiv.css("display","block"))},_dialogDatepicker:function _dialogDatepicker(y,b,_,$,C){var D,I,M,P,R,N=this._dialogInst;return N||(this.uuid+=1,D="dp"+this.uuid,this._dialogInput=m("<input type='text' id='"+D+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),m("body").append(this._dialogInput),(N=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},m.data(this._dialogInput[0],"datepicker",N)),datepicker_extendRemove(N.settings,$||{}),b=b&&b.constructor===Date?this._formatDate(N,b):b,this._dialogInput.val(b),this._pos=C?C.length?C:[C.pageX,C.pageY]:null,this._pos||(I=document.documentElement.clientWidth,M=document.documentElement.clientHeight,P=document.documentElement.scrollLeft||document.body.scrollLeft,R=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[I/2-100+P,M/2-150+R]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),N.settings.onSelect=_,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),m.blockUI&&m.blockUI(this.dpDiv),m.data(this._dialogInput[0],"datepicker",N),this},_destroyDatepicker:function _destroyDatepicker(y){var b,_=m(y),$=m.data(y,"datepicker");_.hasClass(this.markerClassName)&&(b=y.nodeName.toLowerCase(),m.removeData(y,"datepicker"),"input"===b?($.append.remove(),$.trigger.remove(),_.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==b&&"span"!==b||_.removeClass(this.markerClassName).empty(),C===$&&(C=null))},_enableDatepicker:function _enableDatepicker(y){var b,_,$=m(y),C=m.data(y,"datepicker");$.hasClass(this.markerClassName)&&("input"===(b=y.nodeName.toLowerCase())?(y.disabled=!1,C.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==b&&"span"!==b||((_=$.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),_.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=m.map(this._disabledInputs,(function(m){return m===y?null:m})))},_disableDatepicker:function _disableDatepicker(y){var b,_,$=m(y),C=m.data(y,"datepicker");$.hasClass(this.markerClassName)&&("input"===(b=y.nodeName.toLowerCase())?(y.disabled=!0,C.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==b&&"span"!==b||((_=$.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),_.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=m.map(this._disabledInputs,(function(m){return m===y?null:m})),this._disabledInputs[this._disabledInputs.length]=y)},_isDisabledDatepicker:function _isDisabledDatepicker(m){if(!m)return!1;for(var y=0;y<this._disabledInputs.length;y++)if(this._disabledInputs[y]===m)return!0;return!1},_getInst:function _getInst(y){try{return m.data(y,"datepicker")}catch(m){throw"Missing instance data for this datepicker"}},_optionDatepicker:function _optionDatepicker(y,b,_){var $,C,D,I,M=this._getInst(y);if(2===arguments.length&&"string"==typeof b)return"defaults"===b?m.extend({},m.datepicker._defaults):M?"all"===b?m.extend({},M.settings):this._get(M,b):null;$=b||{},"string"==typeof b&&(($={})[b]=_),M&&(this._curInst===M&&this._hideDatepicker(),C=this._getDateDatepicker(y,!0),D=this._getMinMaxDate(M,"min"),I=this._getMinMaxDate(M,"max"),datepicker_extendRemove(M.settings,$),null!==D&&void 0!==$.dateFormat&&void 0===$.minDate&&(M.settings.minDate=this._formatDate(M,D)),null!==I&&void 0!==$.dateFormat&&void 0===$.maxDate&&(M.settings.maxDate=this._formatDate(M,I)),"disabled"in $&&($.disabled?this._disableDatepicker(y):this._enableDatepicker(y)),this._attachments(m(y),M),this._autoSize(M),this._setDate(M,C),this._updateAlternate(M),this._updateDatepicker(M))},_changeDatepicker:function _changeDatepicker(m,y,b){this._optionDatepicker(m,y,b)},_refreshDatepicker:function _refreshDatepicker(m){var y=this._getInst(m);y&&this._updateDatepicker(y)},_setDateDatepicker:function _setDateDatepicker(m,y){var b=this._getInst(m);b&&(this._setDate(b,y),this._updateDatepicker(b),this._updateAlternate(b))},_getDateDatepicker:function _getDateDatepicker(m,y){var b=this._getInst(m);return b&&!b.inline&&this._setDateFromField(b,y),b?this._getDate(b):null},_doKeyDown:function _doKeyDown(y){var b,_,$,C=m.datepicker._getInst(y.target),D=!0,I=C.dpDiv.is(".ui-datepicker-rtl");if(C._keyEvent=!0,m.datepicker._datepickerShowing)switch(y.keyCode){case 9:m.datepicker._hideDatepicker(),D=!1;break;case 13:return($=m("td."+m.datepicker._dayOverClass+":not(."+m.datepicker._currentClass+")",C.dpDiv))[0]&&m.datepicker._selectDay(y.target,C.selectedMonth,C.selectedYear,$[0]),(b=m.datepicker._get(C,"onSelect"))?(_=m.datepicker._formatDate(C),b.apply(C.input?C.input[0]:null,[_,C])):m.datepicker._hideDatepicker(),!1;case 27:m.datepicker._hideDatepicker();break;case 33:m.datepicker._adjustDate(y.target,y.ctrlKey?-m.datepicker._get(C,"stepBigMonths"):-m.datepicker._get(C,"stepMonths"),"M");break;case 34:m.datepicker._adjustDate(y.target,y.ctrlKey?+m.datepicker._get(C,"stepBigMonths"):+m.datepicker._get(C,"stepMonths"),"M");break;case 35:(y.ctrlKey||y.metaKey)&&m.datepicker._clearDate(y.target),D=y.ctrlKey||y.metaKey;break;case 36:(y.ctrlKey||y.metaKey)&&m.datepicker._gotoToday(y.target),D=y.ctrlKey||y.metaKey;break;case 37:(y.ctrlKey||y.metaKey)&&m.datepicker._adjustDate(y.target,I?1:-1,"D"),D=y.ctrlKey||y.metaKey,y.originalEvent.altKey&&m.datepicker._adjustDate(y.target,y.ctrlKey?-m.datepicker._get(C,"stepBigMonths"):-m.datepicker._get(C,"stepMonths"),"M");break;case 38:(y.ctrlKey||y.metaKey)&&m.datepicker._adjustDate(y.target,-7,"D"),D=y.ctrlKey||y.metaKey;break;case 39:(y.ctrlKey||y.metaKey)&&m.datepicker._adjustDate(y.target,I?-1:1,"D"),D=y.ctrlKey||y.metaKey,y.originalEvent.altKey&&m.datepicker._adjustDate(y.target,y.ctrlKey?+m.datepicker._get(C,"stepBigMonths"):+m.datepicker._get(C,"stepMonths"),"M");break;case 40:(y.ctrlKey||y.metaKey)&&m.datepicker._adjustDate(y.target,7,"D"),D=y.ctrlKey||y.metaKey;break;default:D=!1}else 36===y.keyCode&&y.ctrlKey?m.datepicker._showDatepicker(this):D=!1;D&&(y.preventDefault(),y.stopPropagation())},_doKeyPress:function _doKeyPress(y){var b,_,$=m.datepicker._getInst(y.target);if(m.datepicker._get($,"constrainInput"))return b=m.datepicker._possibleChars(m.datepicker._get($,"dateFormat")),_=String.fromCharCode(null==y.charCode?y.keyCode:y.charCode),y.ctrlKey||y.metaKey||_<" "||!b||b.indexOf(_)>-1},_doKeyUp:function _doKeyUp(y){var b=m.datepicker._getInst(y.target);if(b.input.val()!==b.lastVal)try{m.datepicker.parseDate(m.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,m.datepicker._getFormatConfig(b))&&(m.datepicker._setDateFromField(b),m.datepicker._updateAlternate(b),m.datepicker._updateDatepicker(b))}catch(m){}return!0},_showDatepicker:function _showDatepicker(y){var b,_,$,C,D,I,M;"input"!==(y=y.target||y).nodeName.toLowerCase()&&(y=m("input",y.parentNode)[0]),m.datepicker._isDisabledDatepicker(y)||m.datepicker._lastInput===y||(b=m.datepicker._getInst(y),m.datepicker._curInst&&m.datepicker._curInst!==b&&(m.datepicker._curInst.dpDiv.stop(!0,!0),b&&m.datepicker._datepickerShowing&&m.datepicker._hideDatepicker(m.datepicker._curInst.input[0])),!1!==($=(_=m.datepicker._get(b,"beforeShow"))?_.apply(y,[y,b]):{})&&(datepicker_extendRemove(b.settings,$),b.lastVal=null,m.datepicker._lastInput=y,m.datepicker._setDateFromField(b),m.datepicker._inDialog&&(y.value=""),m.datepicker._pos||(m.datepicker._pos=m.datepicker._findPos(y),m.datepicker._pos[1]+=y.offsetHeight),C=!1,m(y).parents().each((function(){return!(C|="fixed"===m(this).css("position"))})),D={left:m.datepicker._pos[0],top:m.datepicker._pos[1]},m.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),m.datepicker._updateDatepicker(b),D=m.datepicker._checkOffset(b,D,C),b.dpDiv.css({position:m.datepicker._inDialog&&m.blockUI?"static":C?"fixed":"absolute",display:"none",left:D.left+"px",top:D.top+"px"}),b.inline||(I=m.datepicker._get(b,"showAnim"),M=m.datepicker._get(b,"duration"),b.dpDiv.css("z-index",function datepicker_getZindex(m){for(var y,b;m.length&&m[0]!==document;){if(("absolute"===(y=m.css("position"))||"relative"===y||"fixed"===y)&&(b=parseInt(m.css("zIndex"),10),!isNaN(b)&&0!==b))return b;m=m.parent()}return 0}(m(y))+1),m.datepicker._datepickerShowing=!0,m.effects&&m.effects.effect[I]?b.dpDiv.show(I,m.datepicker._get(b,"showOptions"),M):b.dpDiv[I||"show"](I?M:null),m.datepicker._shouldFocusInput(b)&&b.input.trigger("focus"),m.datepicker._curInst=b)))},_updateDatepicker:function _updateDatepicker(y){this.maxRows=4,C=y,y.dpDiv.empty().append(this._generateHTML(y)),this._attachHandlers(y);var b,_=this._getNumberOfMonths(y),$=_[1],D=y.dpDiv.find("."+this._dayOverClass+" a");D.length>0&&datepicker_handleMouseover.apply(D.get(0)),y.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),$>1&&y.dpDiv.addClass("ui-datepicker-multi-"+$).css("width",17*$+"em"),y.dpDiv[(1!==_[0]||1!==_[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),y.dpDiv[(this._get(y,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),y===m.datepicker._curInst&&m.datepicker._datepickerShowing&&m.datepicker._shouldFocusInput(y)&&y.input.trigger("focus"),y.yearshtml&&(b=y.yearshtml,setTimeout((function(){b===y.yearshtml&&y.yearshtml&&y.dpDiv.find("select.ui-datepicker-year:first").replaceWith(y.yearshtml),b=y.yearshtml=null}),0))},_shouldFocusInput:function _shouldFocusInput(m){return m.input&&m.input.is(":visible")&&!m.input.is(":disabled")&&!m.input.is(":focus")},_checkOffset:function _checkOffset(y,b,_){var $=y.dpDiv.outerWidth(),C=y.dpDiv.outerHeight(),D=y.input?y.input.outerWidth():0,I=y.input?y.input.outerHeight():0,M=document.documentElement.clientWidth+(_?0:m(document).scrollLeft()),P=document.documentElement.clientHeight+(_?0:m(document).scrollTop());return b.left-=this._get(y,"isRTL")?$-D:0,b.left-=_&&b.left===y.input.offset().left?m(document).scrollLeft():0,b.top-=_&&b.top===y.input.offset().top+I?m(document).scrollTop():0,b.left-=Math.min(b.left,b.left+$>M&&M>$?Math.abs(b.left+$-M):0),b.top-=Math.min(b.top,b.top+C>P&&P>C?Math.abs(C+I):0),b},_findPos:function _findPos(y){for(var b,_=this._getInst(y),$=this._get(_,"isRTL");y&&("hidden"===y.type||1!==y.nodeType||m.expr.filters.hidden(y));)y=y[$?"previousSibling":"nextSibling"];return[(b=m(y).offset()).left,b.top]},_hideDatepicker:function _hideDatepicker(y){var b,_,$,C,D=this._curInst;!D||y&&D!==m.data(y,"datepicker")||this._datepickerShowing&&(b=this._get(D,"showAnim"),_=this._get(D,"duration"),$=function postProcess(){m.datepicker._tidyDialog(D)},m.effects&&(m.effects.effect[b]||m.effects[b])?D.dpDiv.hide(b,m.datepicker._get(D,"showOptions"),_,$):D.dpDiv["slideDown"===b?"slideUp":"fadeIn"===b?"fadeOut":"hide"](b?_:null,$),b||$(),this._datepickerShowing=!1,(C=this._get(D,"onClose"))&&C.apply(D.input?D.input[0]:null,[D.input?D.input.val():"",D]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),m.blockUI&&(m.unblockUI(),m("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function _tidyDialog(m){m.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function _checkExternalClick(y){if(m.datepicker._curInst){var b=m(y.target),_=m.datepicker._getInst(b[0]);(b[0].id===m.datepicker._mainDivId||0!==b.parents("#"+m.datepicker._mainDivId).length||b.hasClass(m.datepicker.markerClassName)||b.closest("."+m.datepicker._triggerClass).length||!m.datepicker._datepickerShowing||m.datepicker._inDialog&&m.blockUI)&&(!b.hasClass(m.datepicker.markerClassName)||m.datepicker._curInst===_)||m.datepicker._hideDatepicker()}},_adjustDate:function _adjustDate(y,b,_){var $=m(y),C=this._getInst($[0]);this._isDisabledDatepicker($[0])||(this._adjustInstDate(C,b+("M"===_?this._get(C,"showCurrentAtPos"):0),_),this._updateDatepicker(C))},_gotoToday:function _gotoToday(y){var b,_=m(y),$=this._getInst(_[0]);this._get($,"gotoCurrent")&&$.currentDay?($.selectedDay=$.currentDay,$.drawMonth=$.selectedMonth=$.currentMonth,$.drawYear=$.selectedYear=$.currentYear):(b=new Date,$.selectedDay=b.getDate(),$.drawMonth=$.selectedMonth=b.getMonth(),$.drawYear=$.selectedYear=b.getFullYear()),this._notifyChange($),this._adjustDate(_)},_selectMonthYear:function _selectMonthYear(y,b,_){var $=m(y),C=this._getInst($[0]);C["selected"+("M"===_?"Month":"Year")]=C["draw"+("M"===_?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(C),this._adjustDate($)},_selectDay:function _selectDay(y,b,_,$){var C,D=m(y);m($).hasClass(this._unselectableClass)||this._isDisabledDatepicker(D[0])||((C=this._getInst(D[0])).selectedDay=C.currentDay=m("a",$).html(),C.selectedMonth=C.currentMonth=b,C.selectedYear=C.currentYear=_,this._selectDate(y,this._formatDate(C,C.currentDay,C.currentMonth,C.currentYear)))},_clearDate:function _clearDate(y){var b=m(y);this._selectDate(b,"")},_selectDate:function _selectDate(y,b){var $,C=m(y),D=this._getInst(C[0]);b=null!=b?b:this._formatDate(D),D.input&&D.input.val(b),this._updateAlternate(D),($=this._get(D,"onSelect"))?$.apply(D.input?D.input[0]:null,[b,D]):D.input&&D.input.trigger("change"),D.inline?this._updateDatepicker(D):(this._hideDatepicker(),this._lastInput=D.input[0],"object"!==_(D.input[0])&&D.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function _updateAlternate(y){var b,_,$,C=this._get(y,"altField");C&&(b=this._get(y,"altFormat")||this._get(y,"dateFormat"),_=this._getDate(y),$=this.formatDate(b,_,this._getFormatConfig(y)),m(C).val($))},noWeekends:function noWeekends(m){var y=m.getDay();return[y>0&&y<6,""]},iso8601Week:function iso8601Week(m){var y,b=new Date(m.getTime());return b.setDate(b.getDate()+4-(b.getDay()||7)),y=b.getTime(),b.setMonth(0),b.setDate(1),Math.floor(Math.round((y-b)/864e5)/7)+1},parseDate:function parseDate(y,b,$){if(null==y||null==b)throw"Invalid arguments";if(""===(b="object"===_(b)?b.toString():b+""))return null;var C,D,I,M,P=0,R=($?$.shortYearCutoff:null)||this._defaults.shortYearCutoff,N="string"!=typeof R?R:(new Date).getFullYear()%100+parseInt(R,10),U=($?$.dayNamesShort:null)||this._defaults.dayNamesShort,H=($?$.dayNames:null)||this._defaults.dayNames,B=($?$.monthNamesShort:null)||this._defaults.monthNamesShort,z=($?$.monthNames:null)||this._defaults.monthNames,q=-1,W=-1,X=-1,V=-1,G=!1,Y=function lookAhead(m){var b=C+1<y.length&&y.charAt(C+1)===m;return b&&C++,b},K=function getNumber(m){var y=Y(m),_="@"===m?14:"!"===m?20:"y"===m&&y?4:"o"===m?3:2,$=new RegExp("^\\d{"+("y"===m?_:1)+","+_+"}"),C=b.substring(P).match($);if(!C)throw"Missing number at position "+P;return P+=C[0].length,parseInt(C[0],10)},Q=function getName(y,_,$){var C=-1,D=m.map(Y(y)?$:_,(function(m,y){return[[y,m]]})).sort((function(m,y){return-(m[1].length-y[1].length)}));if(m.each(D,(function(m,y){var _=y[1];if(b.substr(P,_.length).toLowerCase()===_.toLowerCase())return C=y[0],P+=_.length,!1})),-1!==C)return C+1;throw"Unknown name at position "+P},J=function checkLiteral(){if(b.charAt(P)!==y.charAt(C))throw"Unexpected literal at position "+P;P++};for(C=0;C<y.length;C++)if(G)"'"!==y.charAt(C)||Y("'")?J():G=!1;else switch(y.charAt(C)){case"d":X=K("d");break;case"D":Q("D",U,H);break;case"o":V=K("o");break;case"m":W=K("m");break;case"M":W=Q("M",B,z);break;case"y":q=K("y");break;case"@":q=(M=new Date(K("@"))).getFullYear(),W=M.getMonth()+1,X=M.getDate();break;case"!":q=(M=new Date((K("!")-this._ticksTo1970)/1e4)).getFullYear(),W=M.getMonth()+1,X=M.getDate();break;case"'":Y("'")?J():G=!0;break;default:J()}if(P<b.length&&(I=b.substr(P),!/^\s+/.test(I)))throw"Extra/unparsed characters found in date: "+I;if(-1===q?q=(new Date).getFullYear():q<100&&(q+=(new Date).getFullYear()-(new Date).getFullYear()%100+(q<=N?0:-100)),V>-1)for(W=1,X=V;!(X<=(D=this._getDaysInMonth(q,W-1)));)W++,X-=D;if((M=this._daylightSavingAdjust(new Date(q,W-1,X))).getFullYear()!==q||M.getMonth()+1!==W||M.getDate()!==X)throw"Invalid date";return M},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function formatDate(m,y,b){if(!y)return"";var _,$=(b?b.dayNamesShort:null)||this._defaults.dayNamesShort,C=(b?b.dayNames:null)||this._defaults.dayNames,D=(b?b.monthNamesShort:null)||this._defaults.monthNamesShort,I=(b?b.monthNames:null)||this._defaults.monthNames,M=function lookAhead(y){var b=_+1<m.length&&m.charAt(_+1)===y;return b&&_++,b},P=function formatNumber(m,y,b){var _=""+y;if(M(m))for(;_.length<b;)_="0"+_;return _},R=function formatName(m,y,b,_){return M(m)?_[y]:b[y]},N="",U=!1;if(y)for(_=0;_<m.length;_++)if(U)"'"!==m.charAt(_)||M("'")?N+=m.charAt(_):U=!1;else switch(m.charAt(_)){case"d":N+=P("d",y.getDate(),2);break;case"D":N+=R("D",y.getDay(),$,C);break;case"o":N+=P("o",Math.round((new Date(y.getFullYear(),y.getMonth(),y.getDate()).getTime()-new Date(y.getFullYear(),0,0).getTime())/864e5),3);break;case"m":N+=P("m",y.getMonth()+1,2);break;case"M":N+=R("M",y.getMonth(),D,I);break;case"y":N+=M("y")?y.getFullYear():(y.getFullYear()%100<10?"0":"")+y.getFullYear()%100;break;case"@":N+=y.getTime();break;case"!":N+=1e4*y.getTime()+this._ticksTo1970;break;case"'":M("'")?N+="'":U=!0;break;default:N+=m.charAt(_)}return N},_possibleChars:function _possibleChars(m){var y,b="",_=!1,$=function lookAhead(b){var _=y+1<m.length&&m.charAt(y+1)===b;return _&&y++,_};for(y=0;y<m.length;y++)if(_)"'"!==m.charAt(y)||$("'")?b+=m.charAt(y):_=!1;else switch(m.charAt(y)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":$("'")?b+="'":_=!0;break;default:b+=m.charAt(y)}return b},_get:function _get(m,y){return void 0!==m.settings[y]?m.settings[y]:this._defaults[y]},_setDateFromField:function _setDateFromField(m,y){if(m.input.val()!==m.lastVal){var b=this._get(m,"dateFormat"),_=m.lastVal=m.input?m.input.val():null,$=this._getDefaultDate(m),C=$,D=this._getFormatConfig(m);try{C=this.parseDate(b,_,D)||$}catch(m){_=y?"":_}m.selectedDay=C.getDate(),m.drawMonth=m.selectedMonth=C.getMonth(),m.drawYear=m.selectedYear=C.getFullYear(),m.currentDay=_?C.getDate():0,m.currentMonth=_?C.getMonth():0,m.currentYear=_?C.getFullYear():0,this._adjustInstDate(m)}},_getDefaultDate:function _getDefaultDate(m){return this._restrictMinMax(m,this._determineDate(m,this._get(m,"defaultDate"),new Date))},_determineDate:function _determineDate(y,b,_){var $=null==b||""===b?_:"string"==typeof b?function offsetString(b){try{return m.datepicker.parseDate(m.datepicker._get(y,"dateFormat"),b,m.datepicker._getFormatConfig(y))}catch(m){}for(var _=(b.toLowerCase().match(/^c/)?m.datepicker._getDate(y):null)||new Date,$=_.getFullYear(),C=_.getMonth(),D=_.getDate(),I=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,M=I.exec(b);M;){switch(M[2]||"d"){case"d":case"D":D+=parseInt(M[1],10);break;case"w":case"W":D+=7*parseInt(M[1],10);break;case"m":case"M":C+=parseInt(M[1],10),D=Math.min(D,m.datepicker._getDaysInMonth($,C));break;case"y":case"Y":$+=parseInt(M[1],10),D=Math.min(D,m.datepicker._getDaysInMonth($,C))}M=I.exec(b)}return new Date($,C,D)}(b):"number"==typeof b?isNaN(b)?_:function offsetNumeric(m){var y=new Date;return y.setDate(y.getDate()+m),y}(b):new Date(b.getTime());return($=$&&"Invalid Date"===$.toString()?_:$)&&($.setHours(0),$.setMinutes(0),$.setSeconds(0),$.setMilliseconds(0)),this._daylightSavingAdjust($)},_daylightSavingAdjust:function _daylightSavingAdjust(m){return m?(m.setHours(m.getHours()>12?m.getHours()+2:0),m):null},_setDate:function _setDate(m,y,b){var _=!y,$=m.selectedMonth,C=m.selectedYear,D=this._restrictMinMax(m,this._determineDate(m,y,new Date));m.selectedDay=m.currentDay=D.getDate(),m.drawMonth=m.selectedMonth=m.currentMonth=D.getMonth(),m.drawYear=m.selectedYear=m.currentYear=D.getFullYear(),$===m.selectedMonth&&C===m.selectedYear||b||this._notifyChange(m),this._adjustInstDate(m),m.input&&m.input.val(_?"":this._formatDate(m))},_getDate:function _getDate(m){return!m.currentYear||m.input&&""===m.input.val()?null:this._daylightSavingAdjust(new Date(m.currentYear,m.currentMonth,m.currentDay))},_attachHandlers:function _attachHandlers(y){var b=this._get(y,"stepMonths"),_="#"+y.id.replace(/\\\\/g,"\\");y.dpDiv.find("[data-handler]").map((function(){var y={prev:function prev(){m.datepicker._adjustDate(_,-b,"M")},next:function next(){m.datepicker._adjustDate(_,+b,"M")},hide:function hide(){m.datepicker._hideDatepicker()},today:function today(){m.datepicker._gotoToday(_)},selectDay:function selectDay(){return m.datepicker._selectDay(_,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function selectMonth(){return m.datepicker._selectMonthYear(_,this,"M"),!1},selectYear:function selectYear(){return m.datepicker._selectMonthYear(_,this,"Y"),!1}};m(this).on(this.getAttribute("data-event"),y[this.getAttribute("data-handler")])}))},_generateHTML:function _generateHTML(m){var y,b,_,$,C,D,I,M,P,R,N,U,H,B,z,q,W,X,V,G,Y,K,Q,J,Z,ee,te,ie,oe,re,ae,le,ce,de,ue,he,pe,fe,ge,me=new Date,ve=this._daylightSavingAdjust(new Date(me.getFullYear(),me.getMonth(),me.getDate())),ye=this._get(m,"isRTL"),be=this._get(m,"showButtonPanel"),_e=this._get(m,"hideIfNoPrevNext"),we=this._get(m,"navigationAsDateFormat"),$e=this._getNumberOfMonths(m),Ce=this._get(m,"showCurrentAtPos"),ke=this._get(m,"stepMonths"),xe=1!==$e[0]||1!==$e[1],Se=this._daylightSavingAdjust(m.currentDay?new Date(m.currentYear,m.currentMonth,m.currentDay):new Date(9999,9,9)),Te=this._getMinMaxDate(m,"min"),Ee=this._getMinMaxDate(m,"max"),Ae=m.drawMonth-Ce,De=m.drawYear;if(Ae<0&&(Ae+=12,De--),Ee)for(y=this._daylightSavingAdjust(new Date(Ee.getFullYear(),Ee.getMonth()-$e[0]*$e[1]+1,Ee.getDate())),y=Te&&y<Te?Te:y;this._daylightSavingAdjust(new Date(De,Ae,1))>y;)--Ae<0&&(Ae=11,De--);for(m.drawMonth=Ae,m.drawYear=De,b=this._get(m,"prevText"),b=we?this.formatDate(b,this._daylightSavingAdjust(new Date(De,Ae-ke,1)),this._getFormatConfig(m)):b,_=this._canAdjustMonth(m,-1,De,Ae)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(ye?"e":"w")+"'>"+b+"</span></a>":_e?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(ye?"e":"w")+"'>"+b+"</span></a>",$=this._get(m,"nextText"),$=we?this.formatDate($,this._daylightSavingAdjust(new Date(De,Ae+ke,1)),this._getFormatConfig(m)):$,C=this._canAdjustMonth(m,1,De,Ae)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+$+"'><span class='ui-icon ui-icon-circle-triangle-"+(ye?"w":"e")+"'>"+$+"</span></a>":_e?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+$+"'><span class='ui-icon ui-icon-circle-triangle-"+(ye?"w":"e")+"'>"+$+"</span></a>",D=this._get(m,"currentText"),I=this._get(m,"gotoCurrent")&&m.currentDay?Se:ve,D=we?this.formatDate(D,I,this._getFormatConfig(m)):D,M=m.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(m,"closeText")+"</button>",P=be?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(ye?M:"")+(this._isInRange(m,I)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+D+"</button>":"")+(ye?"":M)+"</div>":"",R=parseInt(this._get(m,"firstDay"),10),R=isNaN(R)?0:R,N=this._get(m,"showWeek"),U=this._get(m,"dayNames"),H=this._get(m,"dayNamesMin"),B=this._get(m,"monthNames"),z=this._get(m,"monthNamesShort"),q=this._get(m,"beforeShowDay"),W=this._get(m,"showOtherMonths"),X=this._get(m,"selectOtherMonths"),V=this._getDefaultDate(m),G="",K=0;K<$e[0];K++){for(Q="",this.maxRows=4,J=0;J<$e[1];J++){if(Z=this._daylightSavingAdjust(new Date(De,Ae,m.selectedDay)),ee=" ui-corner-all",te="",xe){if(te+="<div class='ui-datepicker-group",$e[1]>1)switch(J){case 0:te+=" ui-datepicker-group-first",ee=" ui-corner-"+(ye?"right":"left");break;case $e[1]-1:te+=" ui-datepicker-group-last",ee=" ui-corner-"+(ye?"left":"right");break;default:te+=" ui-datepicker-group-middle",ee=""}te+="'>"}for(te+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+ee+"'>"+(/all|left/.test(ee)&&0===K?ye?C:_:"")+(/all|right/.test(ee)&&0===K?ye?_:C:"")+this._generateMonthYearHeader(m,Ae,De,Te,Ee,K>0||J>0,B,z)+"</div><table class='ui-datepicker-calendar'><thead><tr>",ie=N?"<th class='ui-datepicker-week-col'>"+this._get(m,"weekHeader")+"</th>":"",Y=0;Y<7;Y++)ie+="<th scope='col'"+((Y+R+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+U[oe=(Y+R)%7]+"'>"+H[oe]+"</span></th>";for(te+=ie+"</tr></thead><tbody>",re=this._getDaysInMonth(De,Ae),De===m.selectedYear&&Ae===m.selectedMonth&&(m.selectedDay=Math.min(m.selectedDay,re)),ae=(this._getFirstDayOfMonth(De,Ae)-R+7)%7,le=Math.ceil((ae+re)/7),ce=xe&&this.maxRows>le?this.maxRows:le,this.maxRows=ce,de=this._daylightSavingAdjust(new Date(De,Ae,1-ae)),ue=0;ue<ce;ue++){for(te+="<tr>",he=N?"<td class='ui-datepicker-week-col'>"+this._get(m,"calculateWeek")(de)+"</td>":"",Y=0;Y<7;Y++)pe=q?q.apply(m.input?m.input[0]:null,[de]):[!0,""],ge=(fe=de.getMonth()!==Ae)&&!X||!pe[0]||Te&&de<Te||Ee&&de>Ee,he+="<td class='"+((Y+R+6)%7>=5?" ui-datepicker-week-end":"")+(fe?" ui-datepicker-other-month":"")+(de.getTime()===Z.getTime()&&Ae===m.selectedMonth&&m._keyEvent||V.getTime()===de.getTime()&&V.getTime()===Z.getTime()?" "+this._dayOverClass:"")+(ge?" "+this._unselectableClass+" ui-state-disabled":"")+(fe&&!W?"":" "+pe[1]+(de.getTime()===Se.getTime()?" "+this._currentClass:"")+(de.getTime()===ve.getTime()?" ui-datepicker-today":""))+"'"+(fe&&!W||!pe[2]?"":" title='"+pe[2].replace(/'/g,"&#39;")+"'")+(ge?"":" data-handler='selectDay' data-event='click' data-month='"+de.getMonth()+"' data-year='"+de.getFullYear()+"'")+">"+(fe&&!W?"&#xa0;":ge?"<span class='ui-state-default'>"+de.getDate()+"</span>":"<a class='ui-state-default"+(de.getTime()===ve.getTime()?" ui-state-highlight":"")+(de.getTime()===Se.getTime()?" ui-state-active":"")+(fe?" ui-priority-secondary":"")+"' href='#'>"+de.getDate()+"</a>")+"</td>",de.setDate(de.getDate()+1),de=this._daylightSavingAdjust(de);te+=he+"</tr>"}++Ae>11&&(Ae=0,De++),Q+=te+="</tbody></table>"+(xe?"</div>"+($e[0]>0&&J===$e[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}G+=Q}return G+=P,m._keyEvent=!1,G},_generateMonthYearHeader:function _generateMonthYearHeader(m,y,b,_,$,C,D,I){var M,P,R,N,U,H,B,z,q=this._get(m,"changeMonth"),W=this._get(m,"changeYear"),X=this._get(m,"showMonthAfterYear"),V="<div class='ui-datepicker-title'>",G="";if(C||!q)G+="<span class='ui-datepicker-month'>"+D[y]+"</span>";else{for(M=_&&_.getFullYear()===b,P=$&&$.getFullYear()===b,G+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",R=0;R<12;R++)(!M||R>=_.getMonth())&&(!P||R<=$.getMonth())&&(G+="<option value='"+R+"'"+(R===y?" selected='selected'":"")+">"+I[R]+"</option>");G+="</select>"}if(X||(V+=G+(!C&&q&&W?"":"&#xa0;")),!m.yearshtml)if(m.yearshtml="",C||!W)V+="<span class='ui-datepicker-year'>"+b+"</span>";else{for(N=this._get(m,"yearRange").split(":"),U=(new Date).getFullYear(),B=(H=function determineYear(m){var y=m.match(/c[+\-].*/)?b+parseInt(m.substring(1),10):m.match(/[+\-].*/)?U+parseInt(m,10):parseInt(m,10);return isNaN(y)?U:y})(N[0]),z=Math.max(B,H(N[1]||"")),B=_?Math.max(B,_.getFullYear()):B,z=$?Math.min(z,$.getFullYear()):z,m.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";B<=z;B++)m.yearshtml+="<option value='"+B+"'"+(B===b?" selected='selected'":"")+">"+B+"</option>";m.yearshtml+="</select>",V+=m.yearshtml,m.yearshtml=null}return V+=this._get(m,"yearSuffix"),X&&(V+=(!C&&q&&W?"":"&#xa0;")+G),V+="</div>"},_adjustInstDate:function _adjustInstDate(m,y,b){var _=m.selectedYear+("Y"===b?y:0),$=m.selectedMonth+("M"===b?y:0),C=Math.min(m.selectedDay,this._getDaysInMonth(_,$))+("D"===b?y:0),D=this._restrictMinMax(m,this._daylightSavingAdjust(new Date(_,$,C)));m.selectedDay=D.getDate(),m.drawMonth=m.selectedMonth=D.getMonth(),m.drawYear=m.selectedYear=D.getFullYear(),"M"!==b&&"Y"!==b||this._notifyChange(m)},_restrictMinMax:function _restrictMinMax(m,y){var b=this._getMinMaxDate(m,"min"),_=this._getMinMaxDate(m,"max"),$=b&&y<b?b:y;return _&&$>_?_:$},_notifyChange:function _notifyChange(m){var y=this._get(m,"onChangeMonthYear");y&&y.apply(m.input?m.input[0]:null,[m.selectedYear,m.selectedMonth+1,m])},_getNumberOfMonths:function _getNumberOfMonths(m){var y=this._get(m,"numberOfMonths");return null==y?[1,1]:"number"==typeof y?[1,y]:y},_getMinMaxDate:function _getMinMaxDate(m,y){return this._determineDate(m,this._get(m,y+"Date"),null)},_getDaysInMonth:function _getDaysInMonth(m,y){return 32-this._daylightSavingAdjust(new Date(m,y,32)).getDate()},_getFirstDayOfMonth:function _getFirstDayOfMonth(m,y){return new Date(m,y,1).getDay()},_canAdjustMonth:function _canAdjustMonth(m,y,b,_){var $=this._getNumberOfMonths(m),C=this._daylightSavingAdjust(new Date(b,_+(y<0?y:$[0]*$[1]),1));return y<0&&C.setDate(this._getDaysInMonth(C.getFullYear(),C.getMonth())),this._isInRange(m,C)},_isInRange:function _isInRange(m,y){var b,_,$=this._getMinMaxDate(m,"min"),C=this._getMinMaxDate(m,"max"),D=null,I=null,M=this._get(m,"yearRange");return M&&(b=M.split(":"),_=(new Date).getFullYear(),D=parseInt(b[0],10),I=parseInt(b[1],10),b[0].match(/[+\-].*/)&&(D+=_),b[1].match(/[+\-].*/)&&(I+=_)),(!$||y.getTime()>=$.getTime())&&(!C||y.getTime()<=C.getTime())&&(!D||y.getFullYear()>=D)&&(!I||y.getFullYear()<=I)},_getFormatConfig:function _getFormatConfig(m){var y=this._get(m,"shortYearCutoff");return{shortYearCutoff:y="string"!=typeof y?y:(new Date).getFullYear()%100+parseInt(y,10),dayNamesShort:this._get(m,"dayNamesShort"),dayNames:this._get(m,"dayNames"),monthNamesShort:this._get(m,"monthNamesShort"),monthNames:this._get(m,"monthNames")}},_formatDate:function _formatDate(m,y,b,$){y||(m.currentDay=m.selectedDay,m.currentMonth=m.selectedMonth,m.currentYear=m.selectedYear);var C=y?"object"===_(y)?y:this._daylightSavingAdjust(new Date($,b,y)):this._daylightSavingAdjust(new Date(m.currentYear,m.currentMonth,m.currentDay));return this.formatDate(this._get(m,"dateFormat"),C,this._getFormatConfig(m))}}),m.fn.datepicker=function(y){if(!this.length)return this;m.datepicker.initialized||(m(document).on("mousedown",m.datepicker._checkExternalClick),m.datepicker.initialized=!0),0===m("#"+m.datepicker._mainDivId).length&&m("body").append(m.datepicker.dpDiv);var b=Array.prototype.slice.call(arguments,1);return"string"!=typeof y||"isDisabled"!==y&&"getDate"!==y&&"widget"!==y?"option"===y&&2===arguments.length&&"string"==typeof arguments[1]?m.datepicker["_"+y+"Datepicker"].apply(m.datepicker,[this[0]].concat(b)):this.each((function(){"string"==typeof y?m.datepicker["_"+y+"Datepicker"].apply(m.datepicker,[this].concat(b)):m.datepicker._attachDatepicker(this,y)})):m.datepicker["_"+y+"Datepicker"].apply(m.datepicker,[this[0]].concat(b))},m.datepicker=new Datepicker,m.datepicker.initialized=!1,m.datepicker.uuid=(new Date).getTime(),m.datepicker.version="1.12.1",m.datepicker,m.widget("ui.slider",m.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function _create(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function _refresh(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function _createHandles(){var y,b,_=this.options,$=this.element.find(".ui-slider-handle"),C=[];for(b=_.values&&_.values.length||1,$.length>b&&($.slice(b).remove(),$=$.slice(0,b)),y=$.length;y<b;y++)C.push("<span tabindex='0'></span>");this.handles=$.add(m(C.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each((function(y){m(this).data("ui-slider-handle-index",y).attr("tabIndex",0)}))},_createRange:function _createRange(){var y=this.options;y.range?(!0===y.range&&(y.values?y.values.length&&2!==y.values.length?y.values=[y.values[0],y.values[0]]:m.isArray(y.values)&&(y.values=y.values.slice(0)):y.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=m("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==y.range&&"max"!==y.range||this._addClass(this.range,"ui-slider-range-"+y.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function _setupEvents(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function _destroy(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function _mouseCapture(y){var b,_,$,C,D,I,M,P=this,R=this.options;return!R.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),b={x:y.pageX,y:y.pageY},_=this._normValueFromMouse(b),$=this._valueMax()-this._valueMin()+1,this.handles.each((function(y){var b=Math.abs(_-P.values(y));($>b||$===b&&(y===P._lastChangedValue||P.values(y)===R.min))&&($=b,C=m(this),D=y)})),!1!==this._start(y,D)&&(this._mouseSliding=!0,this._handleIndex=D,this._addClass(C,null,"ui-state-active"),C.trigger("focus"),I=C.offset(),M=!m(y.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=M?{left:0,top:0}:{left:y.pageX-I.left-C.width()/2,top:y.pageY-I.top-C.height()/2-(parseInt(C.css("borderTopWidth"),10)||0)-(parseInt(C.css("borderBottomWidth"),10)||0)+(parseInt(C.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(y,D,_),this._animateOff=!0,!0))},_mouseStart:function _mouseStart(){return!0},_mouseDrag:function _mouseDrag(m){var y={x:m.pageX,y:m.pageY},b=this._normValueFromMouse(y);return this._slide(m,this._handleIndex,b),!1},_mouseStop:function _mouseStop(m){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(m,this._handleIndex),this._change(m,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function _detectOrientation(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function _normValueFromMouse(m){var y,b,_,$,C;return"horizontal"===this.orientation?(y=this.elementSize.width,b=m.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(y=this.elementSize.height,b=m.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(_=b/y)>1&&(_=1),_<0&&(_=0),"vertical"===this.orientation&&(_=1-_),$=this._valueMax()-this._valueMin(),C=this._valueMin()+_*$,this._trimAlignValue(C)},_uiHash:function _uiHash(m,y,b){var _={handle:this.handles[m],handleIndex:m,value:void 0!==y?y:this.value()};return this._hasMultipleValues()&&(_.value=void 0!==y?y:this.values(m),_.values=b||this.values()),_},_hasMultipleValues:function _hasMultipleValues(){return this.options.values&&this.options.values.length},_start:function _start(m,y){return this._trigger("start",m,this._uiHash(y))},_slide:function _slide(m,y,b){var _,$=this.value(),C=this.values();this._hasMultipleValues()&&(_=this.values(y?0:1),$=this.values(y),2===this.options.values.length&&!0===this.options.range&&(b=0===y?Math.min(_,b):Math.max(_,b)),C[y]=b),b!==$&&!1!==this._trigger("slide",m,this._uiHash(y,b,C))&&(this._hasMultipleValues()?this.values(y,b):this.value(b))},_stop:function _stop(m,y){this._trigger("stop",m,this._uiHash(y))},_change:function _change(m,y){this._keySliding||this._mouseSliding||(this._lastChangedValue=y,this._trigger("change",m,this._uiHash(y)))},value:function value(m){return arguments.length?(this.options.value=this._trimAlignValue(m),this._refreshValue(),void this._change(null,0)):this._value()},values:function values(y,b){var _,$,C;if(arguments.length>1)return this.options.values[y]=this._trimAlignValue(b),this._refreshValue(),void this._change(null,y);if(!arguments.length)return this._values();if(!m.isArray(arguments[0]))return this._hasMultipleValues()?this._values(y):this.value();for(_=this.options.values,$=arguments[0],C=0;C<_.length;C+=1)_[C]=this._trimAlignValue($[C]),this._change(null,C);this._refreshValue()},_setOption:function _setOption(y,b){var _,$=0;switch("range"===y&&!0===this.options.range&&("min"===b?(this.options.value=this._values(0),this.options.values=null):"max"===b&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),m.isArray(this.options.values)&&($=this.options.values.length),this._super(y,b),y){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(b),this.handles.css("horizontal"===b?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),_=$-1;_>=0;_--)this._change(null,_);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function _setOptionDisabled(m){this._super(m),this._toggleClass(null,"ui-state-disabled",!!m)},_value:function _value(){var m=this.options.value;return m=this._trimAlignValue(m)},_values:function _values(m){var y,b,_;if(arguments.length)return y=this.options.values[m],y=this._trimAlignValue(y);if(this._hasMultipleValues()){for(b=this.options.values.slice(),_=0;_<b.length;_+=1)b[_]=this._trimAlignValue(b[_]);return b}return[]},_trimAlignValue:function _trimAlignValue(m){if(m<=this._valueMin())return this._valueMin();if(m>=this._valueMax())return this._valueMax();var y=this.options.step>0?this.options.step:1,b=(m-this._valueMin())%y,_=m-b;return 2*Math.abs(b)>=y&&(_+=b>0?y:-y),parseFloat(_.toFixed(5))},_calculateNewMax:function _calculateNewMax(){var m=this.options.max,y=this._valueMin(),b=this.options.step;(m=Math.round((m-y)/b)*b+y)>this.options.max&&(m-=b),this.max=parseFloat(m.toFixed(this._precision()))},_precision:function _precision(){var m=this._precisionOf(this.options.step);return null!==this.options.min&&(m=Math.max(m,this._precisionOf(this.options.min))),m},_precisionOf:function _precisionOf(m){var y=m.toString(),b=y.indexOf(".");return-1===b?0:y.length-b-1},_valueMin:function _valueMin(){return this.options.min},_valueMax:function _valueMax(){return this.max},_refreshRange:function _refreshRange(m){"vertical"===m&&this.range.css({width:"",left:""}),"horizontal"===m&&this.range.css({height:"",bottom:""})},_refreshValue:function _refreshValue(){var y,b,_,$,C,D=this.options.range,I=this.options,M=this,P=!this._animateOff&&I.animate,R={};this._hasMultipleValues()?this.handles.each((function(_){b=(M.values(_)-M._valueMin())/(M._valueMax()-M._valueMin())*100,R["horizontal"===M.orientation?"left":"bottom"]=b+"%",m(this).stop(1,1)[P?"animate":"css"](R,I.animate),!0===M.options.range&&("horizontal"===M.orientation?(0===_&&M.range.stop(1,1)[P?"animate":"css"]({left:b+"%"},I.animate),1===_&&M.range[P?"animate":"css"]({width:b-y+"%"},{queue:!1,duration:I.animate})):(0===_&&M.range.stop(1,1)[P?"animate":"css"]({bottom:b+"%"},I.animate),1===_&&M.range[P?"animate":"css"]({height:b-y+"%"},{queue:!1,duration:I.animate}))),y=b})):(_=this.value(),$=this._valueMin(),C=this._valueMax(),b=C!==$?(_-$)/(C-$)*100:0,R["horizontal"===this.orientation?"left":"bottom"]=b+"%",this.handle.stop(1,1)[P?"animate":"css"](R,I.animate),"min"===D&&"horizontal"===this.orientation&&this.range.stop(1,1)[P?"animate":"css"]({width:b+"%"},I.animate),"max"===D&&"horizontal"===this.orientation&&this.range.stop(1,1)[P?"animate":"css"]({width:100-b+"%"},I.animate),"min"===D&&"vertical"===this.orientation&&this.range.stop(1,1)[P?"animate":"css"]({height:b+"%"},I.animate),"max"===D&&"vertical"===this.orientation&&this.range.stop(1,1)[P?"animate":"css"]({height:100-b+"%"},I.animate))},_handleEvents:{keydown:function keydown(y){var b,_,$,C=m(y.target).data("ui-slider-handle-index");switch(y.keyCode){case m.ui.keyCode.HOME:case m.ui.keyCode.END:case m.ui.keyCode.PAGE_UP:case m.ui.keyCode.PAGE_DOWN:case m.ui.keyCode.UP:case m.ui.keyCode.RIGHT:case m.ui.keyCode.DOWN:case m.ui.keyCode.LEFT:if(y.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(m(y.target),null,"ui-state-active"),!1===this._start(y,C)))return}switch($=this.options.step,b=_=this._hasMultipleValues()?this.values(C):this.value(),y.keyCode){case m.ui.keyCode.HOME:_=this._valueMin();break;case m.ui.keyCode.END:_=this._valueMax();break;case m.ui.keyCode.PAGE_UP:_=this._trimAlignValue(b+(this._valueMax()-this._valueMin())/this.numPages);break;case m.ui.keyCode.PAGE_DOWN:_=this._trimAlignValue(b-(this._valueMax()-this._valueMin())/this.numPages);break;case m.ui.keyCode.UP:case m.ui.keyCode.RIGHT:if(b===this._valueMax())return;_=this._trimAlignValue(b+$);break;case m.ui.keyCode.DOWN:case m.ui.keyCode.LEFT:if(b===this._valueMin())return;_=this._trimAlignValue(b-$)}this._slide(y,C,_)},keyup:function keyup(y){var b=m(y.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(y,b),this._change(y,b),this._removeClass(m(y.target),null,"ui-state-active"))}}})}(jQuery)},function(m,y,b){var _,$=b(2);
/*!
 * @fileOverview TouchSwipe - jQuery Plugin
 * @version 1.6.18
 *
 * @author Matt Bryson http://www.github.com/mattbryson
 * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 * @see http://labs.rampinteractive.co.uk/touchSwipe/
 * @see http://plugins.jquery.com/project/touchSwipe
 * @license
 * Copyright (c) 2010-2015 Matt Bryson
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */_=function(m){"use strict";var y="left",b="up",_="ontouchstart"in window,C=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!_,D=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!_;function init(y){return!y||void 0!==y.allowPageScroll||void 0===y.swipe&&void 0===y.swipeStatus||(y.allowPageScroll="none"),void 0!==y.click&&void 0===y.tap&&(y.tap=y.click),y||(y={}),y=m.extend({},m.fn.swipe.defaults,y),this.each((function(){var b=m(this),_=b.data("TouchSwipe");_||(_=new TouchSwipe(this,y),b.data("TouchSwipe",_))}))}function TouchSwipe(I,M){M=m.extend({},M);var P=_||D||!M.fallbackToMouseEvents,R=P?D?C?"MSPointerDown":"pointerdown":"touchstart":"mousedown",N=P?D?C?"MSPointerMove":"pointermove":"touchmove":"mousemove",U=P?D?C?"MSPointerUp":"pointerup":"touchend":"mouseup",H=P?D?"mouseleave":null:"mouseleave",B=D?C?"MSPointerCancel":"pointercancel":"touchcancel",z=0,q=null,W=null,X=0,V=0,G=0,Y=1,K=0,Q=0,J=null,Z=m(I),ee="start",te=0,ie={},oe=0,re=0,ae=0,le=0,ce=0,de=null,ue=null;try{Z.bind(R,touchStart),Z.bind(B,touchCancel)}catch(y){m.error("events not supported "+R+","+B+" on jQuery.swipe")}function touchStart(_){if(!(function getTouchInProgress(){return!(!0!==Z.data("TouchSwipe_intouch"))}()||m(_.target).closest(M.excludedElements,Z).length>0)){var $=_.originalEvent?_.originalEvent:_;if(!$.pointerType||"mouse"!=$.pointerType||0!=M.fallbackToMouseEvents){var C,D=$.touches,I=D?D[0]:$;return ee="start",D?te=D.length:!1!==M.preventDefaultEvents&&_.preventDefault(),z=0,q=null,W=null,Q=null,X=0,V=0,G=0,Y=1,K=0,J=function createMaximumsData(){var m={};return m[y]=createMaximumVO(y),m.right=createMaximumVO("right"),m.up=createMaximumVO(b),m.down=createMaximumVO("down"),m}(),cancelMultiFingerRelease(),createFingerData(0,I),!D||te===M.fingers||"all"===M.fingers||hasPinches()?(oe=getTimeStamp(),2==te&&(createFingerData(1,D[1]),V=G=calculateTouchesDistance(ie[0].start,ie[1].start)),(M.swipeStatus||M.pinchStatus)&&(C=triggerHandler($,ee))):C=!1,!1===C?(triggerHandler($,ee="cancel"),C):(M.hold&&(ue=setTimeout(m.proxy((function(){Z.trigger("hold",[$.target]),M.hold&&(C=M.hold.call(Z,$,$.target))}),this),M.longTapThreshold)),setTouchInProgress(!0),null)}}}function touchMove(_){var $=_.originalEvent?_.originalEvent:_;if("end"!==ee&&"cancel"!==ee&&!inMultiFingerRelease()){var C,D=$.touches,I=updateFingerData(D?D[0]:$);if(re=getTimeStamp(),D&&(te=D.length),M.hold&&clearTimeout(ue),ee="move",2==te&&(0==V?(createFingerData(1,D[1]),V=G=calculateTouchesDistance(ie[0].start,ie[1].start)):(updateFingerData(D[1]),G=calculateTouchesDistance(ie[0].end,ie[1].end),Q=function calculatePinchDirection(){return Y<1?"out":"in"}(ie[0].end,ie[1].end)),Y=function calculatePinchZoom(m,y){return(y/m*1).toFixed(2)}(V,G),K=Math.abs(V-G)),te===M.fingers||"all"===M.fingers||!D||hasPinches()){if(q=calculateDirection(I.start,I.end),function validateDefaultEvent(m,_){if(!1!==M.preventDefaultEvents)if("none"===M.allowPageScroll)m.preventDefault();else{var $="auto"===M.allowPageScroll;switch(_){case y:(M.swipeLeft&&$||!$&&"horizontal"!=M.allowPageScroll)&&m.preventDefault();break;case"right":(M.swipeRight&&$||!$&&"horizontal"!=M.allowPageScroll)&&m.preventDefault();break;case b:(M.swipeUp&&$||!$&&"vertical"!=M.allowPageScroll)&&m.preventDefault();break;case"down":(M.swipeDown&&$||!$&&"vertical"!=M.allowPageScroll)&&m.preventDefault()}}}(_,W=calculateDirection(I.last,I.end)),z=function calculateDistance(m,y){return Math.round(Math.sqrt(Math.pow(y.x-m.x,2)+Math.pow(y.y-m.y,2)))}(I.start,I.end),X=calculateDuration(),function setMaxDistance(m,y){"none"!=m&&(y=Math.max(y,getMaxDistance(m)),J[m].distance=y)}(q,z),C=triggerHandler($,ee),!M.triggerOnTouchEnd||M.triggerOnTouchLeave){var P=!0;if(M.triggerOnTouchLeave){var R=function getbounds(y){var b=(y=m(y)).offset();return{left:b.left,right:b.left+y.outerWidth(),top:b.top,bottom:b.top+y.outerHeight()}}(this);P=function isInBounds(m,y){return m.x>y.left&&m.x<y.right&&m.y>y.top&&m.y<y.bottom}(I.end,R)}!M.triggerOnTouchEnd&&P?ee=getNextPhase("move"):M.triggerOnTouchLeave&&!P&&(ee=getNextPhase("end")),"cancel"!=ee&&"end"!=ee||triggerHandler($,ee)}}else triggerHandler($,ee="cancel");!1===C&&triggerHandler($,ee="cancel")}}function touchEnd(m){var y=m.originalEvent?m.originalEvent:m,b=y.touches;if(b){if(b.length&&!inMultiFingerRelease())return function startMultiFingerRelease(m){ae=getTimeStamp(),le=m.touches.length+1}(y),!0;if(b.length&&inMultiFingerRelease())return!0}return inMultiFingerRelease()&&(te=le),re=getTimeStamp(),X=calculateDuration(),didSwipeBackToCancel()||!validateSwipeDistance()?triggerHandler(y,ee="cancel"):M.triggerOnTouchEnd||!1===M.triggerOnTouchEnd&&"move"===ee?(!1!==M.preventDefaultEvents&&m.preventDefault(),triggerHandler(y,ee="end")):!M.triggerOnTouchEnd&&hasTap()?triggerHandlerForGesture(y,ee="end","tap"):"move"===ee&&triggerHandler(y,ee="cancel"),setTouchInProgress(!1),null}function touchCancel(){te=0,re=0,oe=0,V=0,G=0,Y=1,cancelMultiFingerRelease(),setTouchInProgress(!1)}function touchLeave(m){var y=m.originalEvent?m.originalEvent:m;M.triggerOnTouchLeave&&triggerHandler(y,ee=getNextPhase("end"))}function removeListeners(){Z.unbind(R,touchStart),Z.unbind(B,touchCancel),Z.unbind(N,touchMove),Z.unbind(U,touchEnd),H&&Z.unbind(H,touchLeave),setTouchInProgress(!1)}function getNextPhase(m){var y=m,b=validateSwipeTime(),_=validateSwipeDistance(),$=didSwipeBackToCancel();return!b||$?y="cancel":!_||"move"!=m||M.triggerOnTouchEnd&&!M.triggerOnTouchLeave?!_&&"end"==m&&M.triggerOnTouchLeave&&(y="cancel"):y="end",y}function triggerHandler(m,y){var b,$=m.touches;return(function didSwipe(){return!(!validateSwipe()||!hasSwipes())}()||hasSwipes())&&(b=triggerHandlerForGesture(m,y,"swipe")),(function didPinch(){return!(!validatePinch()||!hasPinches())}()||hasPinches())&&!1!==b&&(b=triggerHandlerForGesture(m,y,"pinch")),function didDoubleTap(){return!(!validateDoubleTap()||!hasDoubleTap())}()&&!1!==b?b=triggerHandlerForGesture(m,y,"doubletap"):function didLongTap(){return!(!function validateLongTap(){return X>M.longTapThreshold&&z<10}()||!function hasLongTap(){return!!M.longTap}())}()&&!1!==b?b=triggerHandlerForGesture(m,y,"longtap"):function didTap(){return!(!function validateTap(){return(1===te||!_)&&(isNaN(z)||z<M.threshold)}()||!hasTap())}()&&!1!==b&&(b=triggerHandlerForGesture(m,y,"tap")),"cancel"===y&&touchCancel(),"end"===y&&($&&$.length||touchCancel()),b}function triggerHandlerForGesture(_,$,C){var D;if("swipe"==C){if(Z.trigger("swipeStatus",[$,q||null,z||0,X||0,te,ie,W]),M.swipeStatus&&!1===(D=M.swipeStatus.call(Z,_,$,q||null,z||0,X||0,te,ie,W)))return!1;if("end"==$&&validateSwipe()){if(clearTimeout(de),clearTimeout(ue),Z.trigger("swipe",[q,z,X,te,ie,W]),M.swipe&&!1===(D=M.swipe.call(Z,_,q,z,X,te,ie,W)))return!1;switch(q){case y:Z.trigger("swipeLeft",[q,z,X,te,ie,W]),M.swipeLeft&&(D=M.swipeLeft.call(Z,_,q,z,X,te,ie,W));break;case"right":Z.trigger("swipeRight",[q,z,X,te,ie,W]),M.swipeRight&&(D=M.swipeRight.call(Z,_,q,z,X,te,ie,W));break;case b:Z.trigger("swipeUp",[q,z,X,te,ie,W]),M.swipeUp&&(D=M.swipeUp.call(Z,_,q,z,X,te,ie,W));break;case"down":Z.trigger("swipeDown",[q,z,X,te,ie,W]),M.swipeDown&&(D=M.swipeDown.call(Z,_,q,z,X,te,ie,W))}}}if("pinch"==C){if(Z.trigger("pinchStatus",[$,Q||null,K||0,X||0,te,Y,ie]),M.pinchStatus&&!1===(D=M.pinchStatus.call(Z,_,$,Q||null,K||0,X||0,te,Y,ie)))return!1;if("end"==$&&validatePinch())switch(Q){case"in":Z.trigger("pinchIn",[Q||null,K||0,X||0,te,Y,ie]),M.pinchIn&&(D=M.pinchIn.call(Z,_,Q||null,K||0,X||0,te,Y,ie));break;case"out":Z.trigger("pinchOut",[Q||null,K||0,X||0,te,Y,ie]),M.pinchOut&&(D=M.pinchOut.call(Z,_,Q||null,K||0,X||0,te,Y,ie))}}return"tap"==C?"cancel"!==$&&"end"!==$||(clearTimeout(de),clearTimeout(ue),hasDoubleTap()&&!function inDoubleTap(){return validateDoubleTap()}()?(ce=getTimeStamp(),de=setTimeout(m.proxy((function(){ce=null,Z.trigger("tap",[_.target]),M.tap&&(D=M.tap.call(Z,_,_.target))}),this),M.doubleTapThreshold)):(ce=null,Z.trigger("tap",[_.target]),M.tap&&(D=M.tap.call(Z,_,_.target)))):"doubletap"==C?"cancel"!==$&&"end"!==$||(clearTimeout(de),clearTimeout(ue),ce=null,Z.trigger("doubletap",[_.target]),M.doubleTap&&(D=M.doubleTap.call(Z,_,_.target))):"longtap"==C&&("cancel"!==$&&"end"!==$||(clearTimeout(de),ce=null,Z.trigger("longtap",[_.target]),M.longTap&&(D=M.longTap.call(Z,_,_.target)))),D}function validateSwipeDistance(){var m=!0;return null!==M.threshold&&(m=z>=M.threshold),m}function didSwipeBackToCancel(){var m=!1;return null!==M.cancelThreshold&&null!==q&&(m=getMaxDistance(q)-z>=M.cancelThreshold),m}function validateSwipeTime(){return!(M.maxTimeThreshold&&X>=M.maxTimeThreshold)}function validatePinch(){var m=validateFingers(),y=validateEndPoint(),b=function validatePinchDistance(){return null===M.pinchThreshold||K>=M.pinchThreshold}();return m&&y&&b}function hasPinches(){return!!(M.pinchStatus||M.pinchIn||M.pinchOut)}function validateSwipe(){var m=validateSwipeTime(),y=validateSwipeDistance(),b=validateFingers(),_=validateEndPoint();return!didSwipeBackToCancel()&&_&&b&&y&&m}function hasSwipes(){return!!(M.swipe||M.swipeStatus||M.swipeLeft||M.swipeRight||M.swipeUp||M.swipeDown)}function validateFingers(){return te===M.fingers||"all"===M.fingers||!_}function validateEndPoint(){return 0!==ie[0].end.x}function hasTap(){return!!M.tap}function hasDoubleTap(){return!!M.doubleTap}function validateDoubleTap(){if(null==ce)return!1;var m=getTimeStamp();return hasDoubleTap()&&m-ce<=M.doubleTapThreshold}function cancelMultiFingerRelease(){ae=0,le=0}function inMultiFingerRelease(){var m=!1;return ae&&getTimeStamp()-ae<=M.fingerReleaseThreshold&&(m=!0),m}function setTouchInProgress(m){Z&&(!0===m?(Z.bind(N,touchMove),Z.bind(U,touchEnd),H&&Z.bind(H,touchLeave)):(Z.unbind(N,touchMove,!1),Z.unbind(U,touchEnd,!1),H&&Z.unbind(H,touchLeave,!1)),Z.data("TouchSwipe_intouch",!0===m))}function createFingerData(m,y){var b={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return b.start.x=b.last.x=b.end.x=y.pageX||y.clientX,b.start.y=b.last.y=b.end.y=y.pageY||y.clientY,ie[m]=b,b}function updateFingerData(m){var y=void 0!==m.identifier?m.identifier:0,b=function getFingerData(m){return ie[m]||null}(y);return null===b&&(b=createFingerData(y,m)),b.last.x=b.end.x,b.last.y=b.end.y,b.end.x=m.pageX||m.clientX,b.end.y=m.pageY||m.clientY,b}function getMaxDistance(m){if(J[m])return J[m].distance}function createMaximumVO(m){return{direction:m,distance:0}}function calculateDuration(){return re-oe}function calculateTouchesDistance(m,y){var b=Math.abs(m.x-y.x),_=Math.abs(m.y-y.y);return Math.round(Math.sqrt(b*b+_*_))}function calculateDirection(m,_){if(function comparePoints(m,y){return m.x==y.x&&m.y==y.y}(m,_))return"none";var $=function calculateAngle(m,y){var b=m.x-y.x,_=y.y-m.y,$=Math.atan2(_,b),C=Math.round(180*$/Math.PI);return C<0&&(C=360-Math.abs(C)),C}(m,_);return $<=45&&$>=0||$<=360&&$>=315?y:$>=135&&$<=225?"right":$>45&&$<135?"down":b}function getTimeStamp(){return(new Date).getTime()}this.enable=function(){return this.disable(),Z.bind(R,touchStart),Z.bind(B,touchCancel),Z},this.disable=function(){return removeListeners(),Z},this.destroy=function(){removeListeners(),Z.data("TouchSwipe",null),Z=null},this.option=function(y,b){if("object"===$(y))M=m.extend(M,y);else if(void 0!==M[y]){if(void 0===b)return M[y];M[y]=b}else{if(!y)return M;m.error("Option "+y+" does not exist on jQuery.swipe.options")}return null}}m.fn.swipe=function(y){var b=m(this),_=b.data("TouchSwipe");if(_&&"string"==typeof y){if(_[y])return _[y].apply(_,Array.prototype.slice.call(arguments,1));m.error("Method "+y+" does not exist on jQuery.swipe")}else if(_&&"object"===$(y))_.option.apply(_,arguments);else if(!(_||"object"!==$(y)&&y))return init.apply(this,arguments);return b},m.fn.swipe.version="1.6.18",m.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},m.fn.swipe.phases={PHASE_START:"start",PHASE_MOVE:"move",PHASE_END:"end",PHASE_CANCEL:"cancel"},m.fn.swipe.directions={LEFT:y,RIGHT:"right",UP:b,DOWN:"down",IN:"in",OUT:"out"},m.fn.swipe.pageScroll={NONE:"none",HORIZONTAL:"horizontal",VERTICAL:"vertical",AUTO:"auto"},m.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:"all"}},m.exports?_(b(0)):_(jQuery)},function(m,y){
/*!
 * enquire.js v2.1.2 - Awesome Media Queries in JavaScript
 * Copyright (c) 2014 Nick Williams - http://wicky.nillia.ms/enquire.js
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
var b,_;b=window,_=window.matchMedia,b.enquire=function(m){"use strict";function each(m,y){for(var b=0,_=m.length;b<_&&!1!==y(m[b],b);b++);}function isFunction(m){return"function"==typeof m}function QueryHandler(m){this.options=m,!m.deferSetup&&this.setup()}function MediaQuery(y,b){this.query=y,this.isUnconditional=b,this.handlers=[],this.mql=m(y);var _=this;this.listener=function(m){_.mql=m,_.assess()},this.mql.addListener(this.listener)}function MediaQueryDispatch(){if(!m)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!m("only all").matches}return QueryHandler.prototype={setup:function setup(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function on(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function off(){this.options.unmatch&&this.options.unmatch()},destroy:function destroy(){this.options.destroy?this.options.destroy():this.off()},equals:function equals(m){return this.options===m||this.options.match===m}},MediaQuery.prototype={addHandler:function addHandler(m){var y=new QueryHandler(m);this.handlers.push(y),this.matches()&&y.on()},removeHandler:function removeHandler(m){var y=this.handlers;each(y,(function(b,_){if(b.equals(m))return b.destroy(),!y.splice(_,1)}))},matches:function matches(){return this.mql.matches||this.isUnconditional},clear:function clear(){each(this.handlers,(function(m){m.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function assess(){var m=this.matches()?"on":"off";each(this.handlers,(function(y){y[m]()}))}},MediaQueryDispatch.prototype={register:function register(m,y,b){var _=this.queries,$=b&&this.browserIsIncapable;return _[m]||(_[m]=new MediaQuery(m,$)),isFunction(y)&&(y={match:y}),function isArray(m){return"[object Array]"===Object.prototype.toString.apply(m)}(y)||(y=[y]),each(y,(function(y){isFunction(y)&&(y={match:y}),_[m].addHandler(y)})),this},unregister:function unregister(m,y){var b=this.queries[m];return b&&(y?b.removeHandler(y):(b.clear(),delete this.queries[m])),this}},new MediaQueryDispatch}(_)},function(m,y){var b;b={$body:$("body"),active:null,escape:27,enabled:!1,$activeComponent:null,$container:null,$target:null,init:function init(){b.control(),b.extra(),b.check(),b.extra()},control:function control(){$(document).on("keydown",(function(m){(m.keyCode||m.which)===b.escape&&b.check(m)}))},check:function check(m){b.active=b.$body.attr("data-active"),null!=b.active&&b.disable(m)},disable:function disable(m){void 0!==UX[b.active].$controller&&UX[b.active].$controller.focus(),UX[b.active].on.hide(m)},extra:function extra(){b.$body.on("click focusout",(function(m){"focusout"===m.type&&m.target!==m.relatedTarget&&null!==m.relatedTarget&&(m.target=m.relatedTarget),b.active=b.$body.attr("data-active"),b.$activeComponent=void 0!==UX[b.active]?UX[b.active]:"undefined",void 0!==b.$activeComponent&&void 0!==b.$activeComponent.$section&&void 0!==b.$activeComponent.$controller&&(b.$container=b.$activeComponent.$section,b.$target=b.$activeComponent.$controller,b.checkToHide(m))}))},checkToHide:function checkToHide(m){b.$container.is(m.target)||0!==b.$container.has(m.target).length||b.$target.is(m.target)||0!==b.$target.has(m.target).length||$(m.target).closest(".ui-autocomplete").length||b.$activeComponent.on.hide(m)}},UX.controller=b},function(m,y){m.exports=function _arrayWithHoles(m){if(Array.isArray(m))return m},m.exports.__esModule=!0,m.exports.default=m.exports},function(m,y){m.exports=function _iterableToArrayLimit(m,y){var b=null==m?null:"undefined"!=typeof Symbol&&m[Symbol.iterator]||m["@@iterator"];if(null!=b){var _,$,C,D,I=[],M=!0,P=!1;try{if(C=(b=b.call(m)).next,0===y){if(Object(b)!==b)return;M=!1}else for(;!(M=(_=C.call(b)).done)&&(I.push(_.value),I.length!==y);M=!0);}catch(m){P=!0,$=m}finally{try{if(!M&&null!=b.return&&(D=b.return(),Object(D)!==D))return}finally{if(P)throw $}}return I}},m.exports.__esModule=!0,m.exports.default=m.exports},function(m,y){m.exports=function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},m.exports.__esModule=!0,m.exports.default=m.exports},function(m,y,b){var _=b(2).default;m.exports=function toPrimitive(m,y){if("object"!=_(m)||!m)return m;var b=m[Symbol.toPrimitive];if(void 0!==b){var $=b.call(m,y||"default");if("object"!=_($))return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===y?String:Number)(m)},m.exports.__esModule=!0,m.exports.default=m.exports},function(m,y,b){var _,$,C,D=b(2);!function(m,y,b,_){function e(y,b){this.settings=null,this.options=m.extend({},e.Defaults,b),this.$element=m(y),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},m.each(["onResize","onThrottledResize"],m.proxy((function(y,b){this._handlers[b]=m.proxy(this[b],this)}),this)),m.each(e.Plugins,m.proxy((function(m,y){this._plugins[m.charAt(0).toLowerCase()+m.slice(1)]=new y(this)}),this)),m.each(e.Workers,m.proxy((function(y,b){this._pipe.push({filter:b.filter,run:m.proxy(b.run,this)})}),this)),this.setup(),this.initialize()}e.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:y,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},e.Width={Default:"default",Inner:"inner",Outer:"outer"},e.Type={Event:"event",State:"state"},e.Plugins={},e.Workers=[{filter:["width","settings"],run:function run(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function run(m){m.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function run(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function run(m){var y=this.settings.margin||"",b=!this.settings.autoWidth,_=this.settings.rtl,$={width:"auto","margin-left":_?y:"","margin-right":_?"":y};!b&&this.$stage.children().css($),m.css=$}},{filter:["width","items","settings"],run:function run(m){var y=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,b=null,_=this._items.length,$=!this.settings.autoWidth,C=[];for(m.items={merge:!1,width:y};_--;)b=this._mergers[_],b=this.settings.mergeFit&&Math.min(b,this.settings.items)||b,m.items.merge=b>1||m.items.merge,C[_]=$?y*b:this._items[_].width();this._widths=C}},{filter:["items","settings"],run:function run(){var y=[],b=this._items,_=this.settings,$=Math.max(2*_.items,4),C=2*Math.ceil(b.length/2),D=_.loop&&b.length?_.rewind?$:Math.max($,C):0,I="",M="";for(D/=2;D>0;)y.push(this.normalize(y.length/2,!0)),I+=b[y[y.length-1]][0].outerHTML,y.push(this.normalize(b.length-1-(y.length-1)/2,!0)),M=b[y[y.length-1]][0].outerHTML+M,D-=1;this._clones=y,m(I).addClass("cloned").appendTo(this.$stage),m(M).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function run(){for(var m=this.settings.rtl?1:-1,y=this._clones.length+this._items.length,b=-1,_=0,$=0,C=[];++b<y;)_=C[b-1]||0,$=this._widths[this.relative(b)]+this.settings.margin,C.push(_+$*m);this._coordinates=C}},{filter:["width","items","settings"],run:function run(){var m=this.settings.stagePadding,y=this._coordinates,b={width:Math.ceil(Math.abs(y[y.length-1]))+2*m,"padding-left":m||"","padding-right":m||""};this.$stage.css(b)}},{filter:["width","items","settings"],run:function run(m){var y=this._coordinates.length,b=!this.settings.autoWidth,_=this.$stage.children();if(b&&m.items.merge)for(;y--;)m.css.width=this._widths[this.relative(y)],_.eq(y).css(m.css);else b&&(m.css.width=m.items.width,_.css(m.css))}},{filter:["items"],run:function run(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function run(m){m.current=m.current?this.$stage.children().index(m.current):0,m.current=Math.max(this.minimum(),Math.min(this.maximum(),m.current)),this.reset(m.current)}},{filter:["position"],run:function run(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function run(){var m,y,b,_,$=this.settings.rtl?1:-1,C=2*this.settings.stagePadding,D=this.coordinates(this.current())+C,I=D+this.width()*$,M=[];for(b=0,_=this._coordinates.length;b<_;b++)m=this._coordinates[b-1]||0,y=Math.abs(this._coordinates[b])+C*$,(this.op(m,"<=",D)&&this.op(m,">",I)||this.op(y,"<",D)&&this.op(y,">",I))&&M.push(b);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+M.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],e.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=m("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(m("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},e.prototype.initializeItems=function(){var y=this.$element.find(".owl-item");if(y.length)return this._items=y.get().map((function(y){return m(y)})),this._mergers=this._items.map((function(){return 1})),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},e.prototype.initialize=function(){var m,y,b;(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading"))&&(m=this.$element.find("img"),y=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:_,b=this.$element.children(y).width(),m.length&&b<=0&&this.preloadAutoWidthImages(m));this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},e.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},e.prototype.setup=function(){var y=this.viewport(),b=this.options.responsive,_=-1,$=null;b?(m.each(b,(function(m){m<=y&&m>_&&(_=Number(m))})),"function"==typeof($=m.extend({},this.options,b[_])).stagePadding&&($.stagePadding=$.stagePadding()),delete $.responsive,$.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+_))):$=m.extend({},this.options),this.trigger("change",{property:{name:"settings",value:$}}),this._breakpoint=_,this.settings=$,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},e.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},e.prototype.prepare=function(y){var b=this.trigger("prepare",{content:y});return b.data||(b.data=m("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(y)),this.trigger("prepared",{content:b.data}),b.data},e.prototype.update=function(){for(var y=0,b=this._pipe.length,_=m.proxy((function(m){return this[m]}),this._invalidated),$={};y<b;)(this._invalidated.all||m.grep(this._pipe[y].filter,_).length>0)&&this._pipe[y].run($),y++;this._invalidated={},!this.is("valid")&&this.enter("valid")},e.prototype.width=function(m){switch(m=m||e.Width.Default){case e.Width.Inner:case e.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},e.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},e.prototype.onThrottledResize=function(){y.clearTimeout(this.resizeTimer),this.resizeTimer=y.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},e.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))},e.prototype.registerEventHandlers=function(){m.support.transition&&this.$stage.on(m.support.transition.end+".owl.core",m.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(y,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",m.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",(function(){return!1}))),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",m.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",m.proxy(this.onDragEnd,this)))},e.prototype.onDragStart=function(y){var _=null;3!==y.which&&(m.support.transform?_={x:(_=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===_.length?12:4],y:_[16===_.length?13:5]}:(_=this.$stage.position(),_={x:this.settings.rtl?_.left+this.$stage.width()-this.width()+this.settings.margin:_.left,y:_.top}),this.is("animating")&&(m.support.transform?this.animate(_.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===y.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=m(y.target),this._drag.stage.start=_,this._drag.stage.current=_,this._drag.pointer=this.pointer(y),m(b).on("mouseup.owl.core touchend.owl.core",m.proxy(this.onDragEnd,this)),m(b).one("mousemove.owl.core touchmove.owl.core",m.proxy((function(y){var _=this.difference(this._drag.pointer,this.pointer(y));m(b).on("mousemove.owl.core touchmove.owl.core",m.proxy(this.onDragMove,this)),Math.abs(_.x)<Math.abs(_.y)&&this.is("valid")||(y.preventDefault(),this.enter("dragging"),this.trigger("drag"))}),this)))},e.prototype.onDragMove=function(m){var y=null,b=null,_=null,$=this.difference(this._drag.pointer,this.pointer(m)),C=this.difference(this._drag.stage.start,$);this.is("dragging")&&(m.preventDefault(),this.settings.loop?(y=this.coordinates(this.minimum()),b=this.coordinates(this.maximum()+1)-y,C.x=((C.x-y)%b+b)%b+y):(y=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),b=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),_=this.settings.pullDrag?-1*$.x/5:0,C.x=Math.max(Math.min(C.x,y+_),b+_)),this._drag.stage.current=C,this.animate(C.x))},e.prototype.onDragEnd=function(y){var _=this.difference(this._drag.pointer,this.pointer(y)),$=this._drag.stage.current,C=_.x>0^this.settings.rtl?"left":"right";m(b).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==_.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest($.x,0!==_.x?C:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=C,(Math.abs(_.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",(function(){return!1}))),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},e.prototype.closest=function(y,b){var $=-1,C=this.width(),D=this.coordinates();return this.settings.freeDrag||m.each(D,m.proxy((function(m,I){return"left"===b&&y>I-30&&y<I+30?$=m:"right"===b&&y>I-C-30&&y<I-C+30?$=m+1:this.op(y,"<",I)&&this.op(y,">",D[m+1]!==_?D[m+1]:I-C)&&($="left"===b?m+1:m),-1===$}),this)),this.settings.loop||(this.op(y,">",D[this.minimum()])?$=y=this.minimum():this.op(y,"<",D[this.maximum()])&&($=y=this.maximum())),$},e.prototype.animate=function(y){var b=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),b&&(this.enter("animating"),this.trigger("translate")),m.support.transform3d&&m.support.transition?this.$stage.css({transform:"translate3d("+y+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):b?this.$stage.animate({left:y+"px"},this.speed(),this.settings.fallbackEasing,m.proxy(this.onTransitionEnd,this)):this.$stage.css({left:y+"px"})},e.prototype.is=function(m){return this._states.current[m]&&this._states.current[m]>0},e.prototype.current=function(m){if(m===_)return this._current;if(0===this._items.length)return _;if(m=this.normalize(m),this._current!==m){var y=this.trigger("change",{property:{name:"position",value:m}});y.data!==_&&(m=this.normalize(y.data)),this._current=m,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},e.prototype.invalidate=function(y){return"string"===m.type(y)&&(this._invalidated[y]=!0,this.is("valid")&&this.leave("valid")),m.map(this._invalidated,(function(m,y){return y}))},e.prototype.reset=function(m){(m=this.normalize(m))!==_&&(this._speed=0,this._current=m,this.suppress(["translate","translated"]),this.animate(this.coordinates(m)),this.release(["translate","translated"]))},e.prototype.normalize=function(m,y){var b=this._items.length,$=y?0:this._clones.length;return!this.isNumeric(m)||b<1?m=_:(m<0||m>=b+$)&&(m=((m-$/2)%b+b)%b+$/2),m},e.prototype.relative=function(m){return m-=this._clones.length/2,this.normalize(m,!0)},e.prototype.maximum=function(m){var y,b,_,$=this.settings,C=this._coordinates.length;if($.loop)C=this._clones.length/2+this._items.length-1;else if($.autoWidth||$.merge){if(y=this._items.length)for(b=this._items[--y].width(),_=this.$element.width();y--&&!((b+=this._items[y].width()+this.settings.margin)>_););C=y+1}else C=$.center?this._items.length-1:this._items.length-$.items;return m&&(C-=this._clones.length/2),Math.max(C,0)},e.prototype.minimum=function(m){return m?0:this._clones.length/2},e.prototype.items=function(m){return m===_?this._items.slice():(m=this.normalize(m,!0),this._items[m])},e.prototype.mergers=function(m){return m===_?this._mergers.slice():(m=this.normalize(m,!0),this._mergers[m])},e.prototype.clones=function(y){var b=this._clones.length/2,$=b+this._items.length,C=function f(m){return m%2==0?$+m/2:b-(m+1)/2};return y===_?m.map(this._clones,(function(m,y){return C(y)})):m.map(this._clones,(function(m,b){return m===y?C(b):null}))},e.prototype.speed=function(m){return m!==_&&(this._speed=m),this._speed},e.prototype.coordinates=function(y){var b,$=1,C=y-1;return y===_?m.map(this._coordinates,m.proxy((function(m,y){return this.coordinates(y)}),this)):(this.settings.center?(this.settings.rtl&&($=-1,C=y+1),b=this._coordinates[y],b+=(this.width()-b+(this._coordinates[C]||0))/2*$):b=this._coordinates[C]||0,b=Math.ceil(b))},e.prototype.duration=function(m,y,b){return 0===b?0:Math.min(Math.max(Math.abs(y-m),1),6)*Math.abs(b||this.settings.smartSpeed)},e.prototype.to=function(m,y){var b=this.current(),_=null,$=m-this.relative(b),C=($>0)-($<0),D=this._items.length,I=this.minimum(),M=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs($)>D/2&&($+=-1*C*D),(_=(((m=b+$)-I)%D+D)%D+I)!==m&&_-$<=M&&_-$>0&&(b=_-$,m=_,this.reset(b))):this.settings.rewind?m=(m%(M+=1)+M)%M:m=Math.max(I,Math.min(M,m)),this.speed(this.duration(b,m,y)),this.current(m),this.isVisible()&&this.update()},e.prototype.next=function(m){m=m||!1,this.to(this.relative(this.current())+1,m)},e.prototype.prev=function(m){m=m||!1,this.to(this.relative(this.current())-1,m)},e.prototype.onTransitionEnd=function(m){if(m!==_&&(m.stopPropagation(),(m.target||m.srcElement||m.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},e.prototype.viewport=function(){var _;return this.options.responsiveBaseElement!==y?_=m(this.options.responsiveBaseElement).width():y.innerWidth?_=y.innerWidth:b.documentElement&&b.documentElement.clientWidth?_=b.documentElement.clientWidth:console.warn("Can not detect viewport width."),_},e.prototype.replace=function(y){this.$stage.empty(),this._items=[],y&&(y=y instanceof jQuery?y:m(y)),this.settings.nestedItemSelector&&(y=y.find("."+this.settings.nestedItemSelector)),y.filter((function(){return 1===this.nodeType})).each(m.proxy((function(m,y){y=this.prepare(y),this.$stage.append(y),this._items.push(y),this._mergers.push(1*y.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)}),this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},e.prototype.add=function(y,b){var $=this.relative(this._current);b=b===_?this._items.length:this.normalize(b,!0),y=y instanceof jQuery?y:m(y),this.trigger("add",{content:y,position:b}),y=this.prepare(y),0===this._items.length||b===this._items.length?(0===this._items.length&&this.$stage.append(y),0!==this._items.length&&this._items[b-1].after(y),this._items.push(y),this._mergers.push(1*y.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[b].before(y),this._items.splice(b,0,y),this._mergers.splice(b,0,1*y.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[$]&&this.reset(this._items[$].index()),this.invalidate("items"),this.trigger("added",{content:y,position:b})},e.prototype.remove=function(m){(m=this.normalize(m,!0))!==_&&(this.trigger("remove",{content:this._items[m],position:m}),this._items[m].remove(),this._items.splice(m,1),this._mergers.splice(m,1),this.invalidate("items"),this.trigger("removed",{content:null,position:m}))},e.prototype.preloadAutoWidthImages=function(y){y.each(m.proxy((function(y,b){this.enter("pre-loading"),b=m(b),m(new Image).one("load",m.proxy((function(m){b.attr("src",m.target.src),b.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()}),this)).attr("src",b.attr("src")||b.attr("data-src")||b.attr("data-src-retina"))}),this))},e.prototype.destroy=function(){for(var _ in this.$element.off(".owl.core"),this.$stage.off(".owl.core"),m(b).off(".owl.core"),!1!==this.settings.responsive&&(y.clearTimeout(this.resizeTimer),this.off(y,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[_].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},e.prototype.op=function(m,y,b){var _=this.settings.rtl;switch(y){case"<":return _?m>b:m<b;case">":return _?m<b:m>b;case">=":return _?m<=b:m>=b;case"<=":return _?m>=b:m<=b}},e.prototype.on=function(m,y,b,_){m.addEventListener?m.addEventListener(y,b,_):m.attachEvent&&m.attachEvent("on"+y,b)},e.prototype.off=function(m,y,b,_){m.removeEventListener?m.removeEventListener(y,b,_):m.detachEvent&&m.detachEvent("on"+y,b)},e.prototype.trigger=function(y,b,_,$,C){var D={item:{count:this._items.length,index:this.current()}},I=m.camelCase(m.grep(["on",y,_],(function(m){return m})).join("-").toLowerCase()),M=m.Event([y,"owl",_||"carousel"].join(".").toLowerCase(),m.extend({relatedTarget:this},D,b));return this._supress[y]||(m.each(this._plugins,(function(m,y){y.onTrigger&&y.onTrigger(M)})),this.register({type:e.Type.Event,name:y}),this.$element.trigger(M),this.settings&&"function"==typeof this.settings[I]&&this.settings[I].call(this,M)),M},e.prototype.enter=function(y){m.each([y].concat(this._states.tags[y]||[]),m.proxy((function(m,y){this._states.current[y]===_&&(this._states.current[y]=0),this._states.current[y]++}),this))},e.prototype.leave=function(y){m.each([y].concat(this._states.tags[y]||[]),m.proxy((function(m,y){this._states.current[y]--}),this))},e.prototype.register=function(y){if(y.type===e.Type.Event){if(m.event.special[y.name]||(m.event.special[y.name]={}),!m.event.special[y.name].owl){var b=m.event.special[y.name]._default;m.event.special[y.name]._default=function(m){return!b||!b.apply||m.namespace&&-1!==m.namespace.indexOf("owl")?m.namespace&&m.namespace.indexOf("owl")>-1:b.apply(this,arguments)},m.event.special[y.name].owl=!0}}else y.type===e.Type.State&&(this._states.tags[y.name]?this._states.tags[y.name]=this._states.tags[y.name].concat(y.tags):this._states.tags[y.name]=y.tags,this._states.tags[y.name]=m.grep(this._states.tags[y.name],m.proxy((function(b,_){return m.inArray(b,this._states.tags[y.name])===_}),this)))},e.prototype.suppress=function(y){m.each(y,m.proxy((function(m,y){this._supress[y]=!0}),this))},e.prototype.release=function(y){m.each(y,m.proxy((function(m,y){delete this._supress[y]}),this))},e.prototype.pointer=function(m){var b={x:null,y:null};return(m=(m=m.originalEvent||m||y.event).touches&&m.touches.length?m.touches[0]:m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:m).pageX?(b.x=m.pageX,b.y=m.pageY):(b.x=m.clientX,b.y=m.clientY),b},e.prototype.isNumeric=function(m){return!isNaN(parseFloat(m))},e.prototype.difference=function(m,y){return{x:m.x-y.x,y:m.y-y.y}},m.fn.owlCarousel=function(y){var b=Array.prototype.slice.call(arguments,1);return this.each((function(){var _=m(this),$=_.data("owl.carousel");$||($=new e(this,"object"==D(y)&&y),_.data("owl.carousel",$),m.each(["next","prev","to","destroy","refresh","replace","add","remove"],(function(y,b){$.register({type:e.Type.Event,name:b}),$.$element.on(b+".owl.carousel.core",m.proxy((function(m){m.namespace&&m.relatedTarget!==this&&(this.suppress([b]),$[b].apply(this,[].slice.call(arguments,1)),this.release([b]))}),$))}))),"string"==typeof y&&"_"!==y.charAt(0)&&$[y].apply($,b)}))},m.fn.owlCarousel.Constructor=e}(window.Zepto||window.jQuery,window,document),_=window.Zepto||window.jQuery,$=window,document,(C=function e(m){this._core=m,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":_.proxy((function(m){m.namespace&&this._core.settings.autoRefresh&&this.watch()}),this)},this._core.options=_.extend({},C.Defaults,this._core.options),this._core.$element.on(this._handlers)}).Defaults={autoRefresh:!0,autoRefreshInterval:500},C.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=$.setInterval(_.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},C.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},C.prototype.destroy=function(){var m,y;for(m in $.clearInterval(this._interval),this._handlers)this._core.$element.off(m,this._handlers[m]);for(y in Object.getOwnPropertyNames(this))"function"!=typeof this[y]&&(this[y]=null)},_.fn.owlCarousel.Constructor.Plugins.AutoRefresh=C,function(m,y,b,_){var $=function e(y){this._core=y,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":m.proxy((function(y){if(y.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(y.property&&"position"==y.property.name||"initialized"==y.type)){var b=this._core.settings,_=b.center&&Math.ceil(b.items/2)||b.items,$=b.center&&-1*_||0,C=(y.property&&void 0!==y.property.value?y.property.value:this._core.current())+$,D=this._core.clones().length,I=m.proxy((function(m,y){this.load(y)}),this);for(b.lazyLoadEager>0&&(_+=b.lazyLoadEager,b.loop&&(C-=b.lazyLoadEager,_++));$++<_;)this.load(D/2+this._core.relative(C)),D&&m.each(this._core.clones(this._core.relative(C)),I),C++}}),this)},this._core.options=m.extend({},$.Defaults,this._core.options),this._core.$element.on(this._handlers)};$.Defaults={lazyLoad:!1,lazyLoadEager:0},$.prototype.load=function(b){var _=this._core.$stage.children().eq(b),$=_&&_.find(".owl-lazy");!$||m.inArray(_.get(0),this._loaded)>-1||($.each(m.proxy((function(b,_){var $,C=m(_),D=y.devicePixelRatio>1&&C.attr("data-src-retina")||C.attr("data-src")||C.attr("data-srcset");this._core.trigger("load",{element:C,url:D},"lazy"),C.is("img")?C.one("load.owl.lazy",m.proxy((function(){C.css("opacity",1),this._core.trigger("loaded",{element:C,url:D},"lazy")}),this)).attr("src",D):C.is("source")?C.one("load.owl.lazy",m.proxy((function(){this._core.trigger("loaded",{element:C,url:D},"lazy")}),this)).attr("srcset",D):(($=new Image).onload=m.proxy((function(){C.css({"background-image":'url("'+D+'")',opacity:"1"}),this._core.trigger("loaded",{element:C,url:D},"lazy")}),this),$.src=D)}),this)),this._loaded.push(_.get(0)))},$.prototype.destroy=function(){var m,y;for(m in this.handlers)this._core.$element.off(m,this.handlers[m]);for(y in Object.getOwnPropertyNames(this))"function"!=typeof this[y]&&(this[y]=null)},m.fn.owlCarousel.Constructor.Plugins.Lazy=$}(window.Zepto||window.jQuery,window,document),function(m,y,b,_){var $=function e(b){this._core=b,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":m.proxy((function(m){m.namespace&&this._core.settings.autoHeight&&this.update()}),this),"changed.owl.carousel":m.proxy((function(m){m.namespace&&this._core.settings.autoHeight&&"position"===m.property.name&&this.update()}),this),"loaded.owl.lazy":m.proxy((function(m){m.namespace&&this._core.settings.autoHeight&&m.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()}),this)},this._core.options=m.extend({},$.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var _=this;m(y).on("load",(function(){_._core.settings.autoHeight&&_.update()})),m(y).resize((function(){_._core.settings.autoHeight&&(null!=_._intervalId&&clearTimeout(_._intervalId),_._intervalId=setTimeout((function(){_.update()}),250))}))};$.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},$.prototype.update=function(){var y=this._core._current,b=y+this._core.settings.items,_=this._core.settings.lazyLoad,$=this._core.$stage.children().toArray().slice(y,b),C=[],D=0;m.each($,(function(y,b){C.push(m(b).height())})),(D=Math.max.apply(null,C))<=1&&_&&this._previousHeight&&(D=this._previousHeight),this._previousHeight=D,this._core.$stage.parent().height(D).addClass(this._core.settings.autoHeightClass)},$.prototype.destroy=function(){var m,y;for(m in this._handlers)this._core.$element.off(m,this._handlers[m]);for(y in Object.getOwnPropertyNames(this))"function"!=typeof this[y]&&(this[y]=null)},m.fn.owlCarousel.Constructor.Plugins.AutoHeight=$}(window.Zepto||window.jQuery,window,document),function(m,y,b,_){var $=function e(y){this._core=y,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":m.proxy((function(m){m.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})}),this),"resize.owl.carousel":m.proxy((function(m){m.namespace&&this._core.settings.video&&this.isInFullScreen()&&m.preventDefault()}),this),"refreshed.owl.carousel":m.proxy((function(m){m.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()}),this),"changed.owl.carousel":m.proxy((function(m){m.namespace&&"position"===m.property.name&&this._playing&&this.stop()}),this),"prepared.owl.carousel":m.proxy((function(y){if(y.namespace){var b=m(y.content).find(".owl-video");b.length&&(b.css("display","none"),this.fetch(b,m(y.content)))}}),this)},this._core.options=m.extend({},$.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",m.proxy((function(m){this.play(m)}),this))};$.Defaults={video:!1,videoHeight:!1,videoWidth:!1},$.prototype.fetch=function(m,y){var b=m.attr("data-vimeo-id")?"vimeo":m.attr("data-vzaar-id")?"vzaar":"youtube",_=m.attr("data-vimeo-id")||m.attr("data-youtube-id")||m.attr("data-vzaar-id"),$=m.attr("data-width")||this._core.settings.videoWidth,C=m.attr("data-height")||this._core.settings.videoHeight,D=m.attr("href");if(!D)throw new Error("Missing video URL.");if((_=D.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)b="youtube";else if(_[3].indexOf("vimeo")>-1)b="vimeo";else{if(!(_[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");b="vzaar"}_=_[6],this._videos[D]={type:b,id:_,width:$,height:C},y.attr("data-video",D),this.thumbnail(m,this._videos[D])},$.prototype.thumbnail=function(y,b){var _,$,C=b.width&&b.height?"width:"+b.width+"px;height:"+b.height+"px;":"",D=y.find("img"),I="src",M="",P=this._core.settings,R=function l(b){'<div class="owl-video-play-icon"></div>',_=P.lazyLoad?m("<div/>",{class:"owl-video-tn "+M,srcType:b}):m("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+b+")"}),y.after(_),y.after('<div class="owl-video-play-icon"></div>')};if(y.wrap(m("<div/>",{class:"owl-video-wrapper",style:C})),this._core.settings.lazyLoad&&(I="data-src",M="owl-lazy"),D.length)return R(D.attr(I)),D.remove(),!1;"youtube"===b.type?($="//img.youtube.com/vi/"+b.id+"/hqdefault.jpg",R($)):"vimeo"===b.type?m.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+b.id+".json",jsonp:"callback",dataType:"jsonp",success:function success(m){$=m[0].thumbnail_large,R($)}}):"vzaar"===b.type&&m.ajax({type:"GET",url:"//vzaar.com/api/videos/"+b.id+".json",jsonp:"callback",dataType:"jsonp",success:function success(m){$=m.framegrab_url,R($)}})},$.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},$.prototype.play=function(y){var b,_=m(y.target).closest("."+this._core.settings.itemClass),$=this._videos[_.attr("data-video")],C=$.width||"100%",D=$.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),_=this._core.items(this._core.relative(_.index())),this._core.reset(_.index()),(b=m('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>')).attr("height",D),b.attr("width",C),"youtube"===$.type?b.attr("src","//www.youtube.com/embed/"+$.id+"?autoplay=1&rel=0&v="+$.id):"vimeo"===$.type?b.attr("src","//player.vimeo.com/video/"+$.id+"?autoplay=1"):"vzaar"===$.type&&b.attr("src","//view.vzaar.com/"+$.id+"/player?autoplay=true"),m(b).wrap('<div class="owl-video-frame" />').insertAfter(_.find(".owl-video")),this._playing=_.addClass("owl-video-playing"))},$.prototype.isInFullScreen=function(){var y=b.fullscreenElement||b.mozFullScreenElement||b.webkitFullscreenElement;return y&&m(y).parent().hasClass("owl-video-frame")},$.prototype.destroy=function(){var m,y;for(m in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(m,this._handlers[m]);for(y in Object.getOwnPropertyNames(this))"function"!=typeof this[y]&&(this[y]=null)},m.fn.owlCarousel.Constructor.Plugins.Video=$}(window.Zepto||window.jQuery,window,document),function(m,y,b,_){var $=function e(y){this.core=y,this.core.options=m.extend({},$.Defaults,this.core.options),this.swapping=!0,this.previous=_,this.next=_,this.handlers={"change.owl.carousel":m.proxy((function(m){m.namespace&&"position"==m.property.name&&(this.previous=this.core.current(),this.next=m.property.value)}),this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":m.proxy((function(m){m.namespace&&(this.swapping="translated"==m.type)}),this),"translate.owl.carousel":m.proxy((function(m){m.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()}),this)},this.core.$element.on(this.handlers)};$.Defaults={animateOut:!1,animateIn:!1},$.prototype.swap=function(){if(1===this.core.settings.items&&m.support.animation&&m.support.transition){this.core.speed(0);var y,b=m.proxy(this.clear,this),_=this.core.$stage.children().eq(this.previous),$=this.core.$stage.children().eq(this.next),C=this.core.settings.animateIn,D=this.core.settings.animateOut;this.core.current()!==this.previous&&(D&&(y=this.core.coordinates(this.previous)-this.core.coordinates(this.next),_.one(m.support.animation.end,b).css({left:y+"px"}).addClass("animated owl-animated-out").addClass(D)),C&&$.one(m.support.animation.end,b).addClass("animated owl-animated-in").addClass(C))}},$.prototype.clear=function(y){m(y.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},$.prototype.destroy=function(){var m,y;for(m in this.handlers)this.core.$element.off(m,this.handlers[m]);for(y in Object.getOwnPropertyNames(this))"function"!=typeof this[y]&&(this[y]=null)},m.fn.owlCarousel.Constructor.Plugins.Animate=$}(window.Zepto||window.jQuery,window,document),function(m,y,b,_){var $=function e(y){this._core=y,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":m.proxy((function(m){m.namespace&&"settings"===m.property.name?this._core.settings.autoplay?this.play():this.stop():m.namespace&&"position"===m.property.name&&this._paused&&(this._time=0)}),this),"initialized.owl.carousel":m.proxy((function(m){m.namespace&&this._core.settings.autoplay&&this.play()}),this),"play.owl.autoplay":m.proxy((function(m,y,b){m.namespace&&this.play(y,b)}),this),"stop.owl.autoplay":m.proxy((function(m){m.namespace&&this.stop()}),this),"mouseover.owl.autoplay":m.proxy((function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()}),this),"mouseleave.owl.autoplay":m.proxy((function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()}),this),"touchstart.owl.core":m.proxy((function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()}),this),"touchend.owl.core":m.proxy((function(){this._core.settings.autoplayHoverPause&&this.play()}),this)},this._core.$element.on(this._handlers),this._core.options=m.extend({},$.Defaults,this._core.options)};$.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},$.prototype._next=function(_){this._call=y.setTimeout(m.proxy(this._next,this,_),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||b.hidden||this._core.next(_||this._core.settings.autoplaySpeed)},$.prototype.read=function(){return(new Date).getTime()-this._time},$.prototype.play=function(b,_){var $;this._core.is("rotating")||this._core.enter("rotating"),b=b||this._core.settings.autoplayTimeout,$=Math.min(this._time%(this._timeout||b),b),this._paused?(this._time=this.read(),this._paused=!1):y.clearTimeout(this._call),this._time+=this.read()%b-$,this._timeout=b,this._call=y.setTimeout(m.proxy(this._next,this,_),b-$)},$.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,y.clearTimeout(this._call),this._core.leave("rotating"))},$.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,y.clearTimeout(this._call))},$.prototype.destroy=function(){var m,y;for(m in this.stop(),this._handlers)this._core.$element.off(m,this._handlers[m]);for(y in Object.getOwnPropertyNames(this))"function"!=typeof this[y]&&(this[y]=null)},m.fn.owlCarousel.Constructor.Plugins.autoplay=$}(window.Zepto||window.jQuery,window,document),function(m,y,b,_){"use strict";var $=function e(y){this._core=y,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":m.proxy((function(y){y.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+m(y.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")}),this),"added.owl.carousel":m.proxy((function(m){m.namespace&&this._core.settings.dotsData&&this._templates.splice(m.position,0,this._templates.pop())}),this),"remove.owl.carousel":m.proxy((function(m){m.namespace&&this._core.settings.dotsData&&this._templates.splice(m.position,1)}),this),"changed.owl.carousel":m.proxy((function(m){m.namespace&&"position"==m.property.name&&this.draw()}),this),"initialized.owl.carousel":m.proxy((function(m){m.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))}),this),"refreshed.owl.carousel":m.proxy((function(m){m.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))}),this)},this._core.options=m.extend({},$.Defaults,this._core.options),this.$element.on(this._handlers)};$.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},$.prototype.initialize=function(){var y,b=this._core.settings;for(y in this._controls.$relative=(b.navContainer?m(b.navContainer):m("<div>").addClass(b.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=m("<"+b.navElement+">").addClass(b.navClass[0]).html(b.navText[0]).prependTo(this._controls.$relative).on("click",m.proxy((function(m){this.prev(b.navSpeed)}),this)),this._controls.$next=m("<"+b.navElement+">").addClass(b.navClass[1]).html(b.navText[1]).appendTo(this._controls.$relative).on("click",m.proxy((function(m){this.next(b.navSpeed)}),this)),b.dotsData||(this._templates=[m('<button role="button">').addClass(b.dotClass).append(m("<span>")).prop("outerHTML")]),this._controls.$absolute=(b.dotsContainer?m(b.dotsContainer):m("<div>").addClass(b.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",m.proxy((function(y){var _=m(y.target).parent().is(this._controls.$absolute)?m(y.target).index():m(y.target).parent().index();y.preventDefault(),this.to(_,b.dotsSpeed)}),this)),this._overrides)this._core[y]=m.proxy(this[y],this)},$.prototype.destroy=function(){var m,y,b,_,$;for(m in $=this._core.settings,this._handlers)this.$element.off(m,this._handlers[m]);for(y in this._controls)"$relative"===y&&$.navContainer?this._controls[y].html(""):this._controls[y].remove();for(_ in this.overides)this._core[_]=this._overrides[_];for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},$.prototype.update=function(){var m,y,b=this._core.clones().length/2,_=b+this._core.items().length,$=this._core.maximum(!0),C=this._core.settings,D=C.center||C.autoWidth||C.dotsData?1:C.dotsEach||C.items;if("page"!==C.slideBy&&(C.slideBy=Math.min(C.slideBy,C.items)),C.dots||"page"==C.slideBy)for(this._pages=[],m=b,y=0,0;m<_;m++){if(y>=D||0===y){if(this._pages.push({start:Math.min($,m-b),end:m-b+D-1}),Math.min($,m-b)===$)break;y=0}y+=this._core.mergers(this._core.relative(m))}},$.prototype.draw=function(){var y,b=this._core.settings,_=this._core.items().length<=b.items,$=this._core.relative(this._core.current()),C=b.loop||b.rewind;this._controls.$relative.toggleClass("disabled",!b.nav||_),b.nav&&(this._controls.$previous.toggleClass("disabled",!C&&$<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!C&&$>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!b.dots||_),b.dots&&(y=this._pages.length-this._controls.$absolute.children().length,b.dotsData&&0!==y?this._controls.$absolute.html(this._templates.join("")):y>0?this._controls.$absolute.append(new Array(y+1).join(this._templates[0])):y<0&&this._controls.$absolute.children().slice(y).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(m.inArray(this.current(),this._pages)).addClass("active"))},$.prototype.onTrigger=function(y){var b=this._core.settings;y.page={index:m.inArray(this.current(),this._pages),count:this._pages.length,size:b&&(b.center||b.autoWidth||b.dotsData?1:b.dotsEach||b.items)}},$.prototype.current=function(){var y=this._core.relative(this._core.current());return m.grep(this._pages,m.proxy((function(m,b){return m.start<=y&&m.end>=y}),this)).pop()},$.prototype.getPosition=function(y){var b,_,$=this._core.settings;return"page"==$.slideBy?(b=m.inArray(this.current(),this._pages),_=this._pages.length,y?++b:--b,b=this._pages[(b%_+_)%_].start):(b=this._core.relative(this._core.current()),_=this._core.items().length,y?b+=$.slideBy:b-=$.slideBy),b},$.prototype.next=function(y){m.proxy(this._overrides.to,this._core)(this.getPosition(!0),y)},$.prototype.prev=function(y){m.proxy(this._overrides.to,this._core)(this.getPosition(!1),y)},$.prototype.to=function(y,b,_){var $;!_&&this._pages.length?($=this._pages.length,m.proxy(this._overrides.to,this._core)(this._pages[(y%$+$)%$].start,b)):m.proxy(this._overrides.to,this._core)(y,b)},m.fn.owlCarousel.Constructor.Plugins.Navigation=$}(window.Zepto||window.jQuery,window,document),function(m,y,b,_){"use strict";var $=function e(b){this._core=b,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":m.proxy((function(b){b.namespace&&"URLHash"===this._core.settings.startPosition&&m(y).trigger("hashchange.owl.navigation")}),this),"prepared.owl.carousel":m.proxy((function(y){if(y.namespace){var b=m(y.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!b)return;this._hashes[b]=y.content}}),this),"changed.owl.carousel":m.proxy((function(b){if(b.namespace&&"position"===b.property.name){var _=this._core.items(this._core.relative(this._core.current())),$=m.map(this._hashes,(function(m,y){return m===_?y:null})).join();if(!$||y.location.hash.slice(1)===$)return;y.location.hash=$}}),this)},this._core.options=m.extend({},$.Defaults,this._core.options),this.$element.on(this._handlers),m(y).on("hashchange.owl.navigation",m.proxy((function(m){var b=y.location.hash.substring(1),_=this._core.$stage.children(),$=this._hashes[b]&&_.index(this._hashes[b]);void 0!==$&&$!==this._core.current()&&this._core.to(this._core.relative($),!1,!0)}),this))};$.Defaults={URLhashListener:!1},$.prototype.destroy=function(){var b,_;for(b in m(y).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(b,this._handlers[b]);for(_ in Object.getOwnPropertyNames(this))"function"!=typeof this[_]&&(this[_]=null)},m.fn.owlCarousel.Constructor.Plugins.Hash=$}(window.Zepto||window.jQuery,window,document),function(m,y,b,_){function e(y,b){var _=!1,D=y.charAt(0).toUpperCase()+y.slice(1);return m.each((y+" "+C.join(D+" ")+D).split(" "),(function(m,y){if(void 0!==$[y])return _=!b||y,!1})),_}function f(m){return e(m,!0)}var $=m("<support>").get(0).style,C="Webkit Moz O ms".split(" "),D={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},I=function csstransforms(){return!!e("transform")},M=function csstransforms3d(){return!!e("perspective")},P=function cssanimations(){return!!e("animation")};(function csstransitions(){return!!e("transition")})()&&(m.support.transition=new String(f("transition")),m.support.transition.end=D.transition.end[m.support.transition]),P()&&(m.support.animation=new String(f("animation")),m.support.animation.end=D.animation.end[m.support.animation]),I()&&(m.support.transform=new String(f("transform")),m.support.transform3d=M())}(window.Zepto||window.jQuery,window,document)},function(m,y,b){var _=b(2);!function(m){var y;function seeMoreLink(){var y,b=' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "+this.settings.seeMoreText+' <i class=" '+this.settings.seeMoreIcon+' "></i>';return this.settings.seeMoreHtml?b=this.settings.seeMoreHtml:this.settings.isMobile&&(b=' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "+this.settings.seeMoreText+' <i class=" '+this.settings.seeMoreIconMobile+' "></i>'),y=this.settings.isMobile&&this.isSliding?'<a href="javascript:void(0)" class="read-more w-slide__btn slide-active" data-slide-target="'+this.settings.mobileTarget+'" aria-expanded="false">'+b+"</a>":'<a href="javascript:void(0)" class="read-more" aria-expanded="false">'+b+"</a>","UL"===this.parentTagName&&(y="<li>"+y+"</li>"),m(y)}function ellipsis(y){var b="<"+(y?'a href="#"':"span")+' class="ellipsis"> '+this.settings.ellipsisChar+" </"+(y?"a":"span")+">";return"UL"===this.parentTagName&&(b="<li>"+b+"</li>"),m(b)}function removeElements(y){var b,_,$,C=this,D=m(this),I=D.height(),M=this.settings.lines*Math.ceil(parseFloat(D.css("line-height")));if($=this.settings.seeMoreLink?seeMoreLink.call(this):ellipsis.call(this),y.get(0).nodeType===Node.ELEMENT_NODE){for(;I>M&&y.contents().length;)b=y.contents().last().remove(),I=D.height();if(I<=M&&b)""!==m.trim(b.text())?(y.append(b),(I=D.height())>M&&removeElements.call(this,b)):(D.append($),this.settings.addClass&&!D.hasClass(this.settings.addClass)&&setTimeout((function(){D.addClass(C.settings.addClass)}),0),D.data("truncationDone",!0),C.settings.onComplete());else if(""===m.trim(y.text()))if(_=y.parent(),y.remove(),I=D.height(),""===m.trim(_.text()))removeElements.call(this,_);else if(I<=M){if(D.children().length){var P=D.children().last();P.is("br")?P.after($):P.parent().append($)}else D.append($);this.settings.addClass&&!D.hasClass(this.settings.addClass)&&setTimeout((function(){D.addClass(C.settings.addClass)}),0),D.data("truncationDone",!0),C.settings.onComplete()}}else{var R=y.text(),N=0,U=R.length-1,H=Math.floor((N+U)/2);for(_=y.parent();N<U;){if(I>M?U=H+parseInt((U-H)*M/I,10):N=H+1,$.remove(),H=Math.floor((N+U)/2),y.get(0).textContent=R.substr(0,this.settings.midWordEnabled?H:Math.min(H,R.lastIndexOf(" ",H))),""===m.trim(_.text()))return void removeElements.call(this,_);y.parent().append($),I=D.height()}for(;I>M&&H>0;){if($.remove(),H-=1,y.get(0).textContent=R.substr(0,this.settings.midWordEnabled?H:Math.min(H,R.lastIndexOf(" ",H))),""===m.trim(_.text()))return void removeElements.call(this,_);y.parent().append($),I=D.height()}0===H&&($.remove(),""===m.trim(_.text())&&removeElements.call(this,_)),I<=M&&(this.settings.addClass&&!D.hasClass(this.settings.addClass)&&setTimeout((function(){D.addClass(C.settings.addClass)}),0),D.data("truncationDone",!0),C.settings.onComplete())}}function truncateText(){var y=this,b=m(this),_=b.height(),$=this.settings.lines*parseFloat(b.css("line-height"));b.closest(":not(:visible)").length||0!==_?_>$?removeElements.call(this,b):(setTimeout((function(){b.addClass(y.settings.addClass)}),0),b.data("truncationDone",!0),y.settings.onComplete()):setTimeout((function(){truncateText.call(y)}),30)}function seeMoreMiddleLink(){var y,b=' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "+this.settings.seeMoreText+' <i class=" '+this.settings.seeMoreIcon+' "></i> <span class="ellipsis">'+this.settings.ellipsisChar+"</span> ";return this.settings.seeMoreHtml?b=this.settings.seeMoreHtml:this.settings.isMobile&&(b=' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "+this.settings.seeMoreText+' <i class="'+this.settings.seeMoreIconMobile+'"></i> <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "),y=this.settings.isMobile?'<a href="javascript:void(0)" class="read-more w-slide__btn slide-active " data-slide-target="'+this.settings.mobileTarget+'" aria-expanded="false">'+b+"</a>":'<a href="javascript:void(0)" class="read-more" aria-expanded="false">'+b+"</a>","UL"===this.parentTagName&&(y="<li>"+y+"</li>"),m(y)}function removeListItemsMiddle(){var y,b,_,$,C=this,D=m(this),I=Math.ceil(Math.max(D.children().height(),parseFloat(D.css("line-height")))),M=this.settings.lines*I,P=0,R=!D.closest(":not(:visible)").length;b=this.settings.seeMoreLink?seeMoreMiddleLink.call(this):ellipsis.call(this,!0);var N=function removeItems(){if(y=D.height(),R)if(y>M){for(;y>M&&D.contents().length>2;){b.remove(),_&&D.find(_).length&&_.remove();var I=Math.floor(D.contents().length/2);($=m(D.contents().get(I)).remove())&&$.get(0).nodeType===Node.ELEMENT_NODE&&(null!==C.settings.ignoreCountList&&$.is(C.settings.ignoreCountList)||(P+=1)),I-=1,(y=D.height())>M&&D.contents().length>2&&(($=m(D.contents().get(I)).remove())&&$.get(0).nodeType===Node.ELEMENT_NODE&&(null!==C.settings.ignoreCountList&&$.is(C.settings.ignoreCountList)||(P+=1)),I-=1),C.settings.showRemovedCount&&P>0?(_=m.fn.truncate.removedCountMarkup(P)).insertAfter(m(D.contents().get(I))):b.insertAfter(m(D.contents().get(I))),y=D.height()}setTimeout(N,500)}else C.settings.addClass&&!D.hasClass(C.settings.addClass)&&setTimeout((function(){D.addClass(C.settings.addClass)}),0),D.data("truncationDone",!0),C.settings.onComplete()};N()}function removeListItemsEnd(){var y,b,_,$,C=this,D=m(this),I=Math.ceil(Math.max(D.children().height(),parseFloat(D.css("line-height")))),M=this.settings.lines*I,P=0,R=!D.closest(":not(:visible)").length;b=this.settings.seeMoreLink?seeMoreLink.call(this):ellipsis.call(this);var N=function removeItems(){if(y=D.height(),R)if(y>M){for(;y>M&&D.contents().length>1;)_&&D.find(_).length&&_.remove(),D.find(b).length?$=m(D.contents().get(D.contents().length-2)).remove():($=D.contents().last().remove(),C.settings.showRemovedCount||D.append(b)),$&&$.get(0).nodeType===Node.ELEMENT_NODE&&(null!==C.settings.ignoreCountList&&$.is(C.settings.ignoreCountList)||(P+=1)),C.settings.showRemovedCount&&P>0&&(_=m.fn.truncate.removedCountMarkup(P),D.append(_)),y=D.height();setTimeout(N,500)}else C.settings.addClass&&!D.hasClass(C.settings.addClass)&&setTimeout((function(){D.addClass(C.settings.addClass)}),0),D.data("truncationDone",!0),C.settings.onComplete()};N()}function removeListItemsBetweenFirstAndLast(){var y,b,_,$,C=this,D=m(this),I=D.children(),M=I.length-2;I.length>2&&(_=I.eq(0).clone(),$=I.eq(I.length-1).clone(),y=this.settings.seeMoreLink?seeMoreMiddleLink.call(this):ellipsis.call(this,!0),C.settings.showRemovedCount&&(b=m.fn.truncate.removedCountMarkup(M)),D.html(""),D.append(_),C.settings.showRemovedCount&&M>0?D.append(b):D.append(y),D.append($)),C.settings.addClass&&!D.hasClass(C.settings.addClass)&&setTimeout((function(){D.addClass(C.settings.addClass)}),0),D.data("truncationDone",!0),C.settings.onComplete()}function removeListItemsBeforeLast(){var y,b,_=this,$=m(this),C=$.height(),D=Math.ceil(Math.max($.children().height(),parseFloat($.css("line-height")))),I=this.settings.lines*D,M=seeMoreMiddleLink.call(this),P=0,R=!$.closest(":not(:visible)").length,N=function removeItems(){if(C=$.height(),R)if(C>I){for(var D=m("<div></div>");$.children().length>1&&D.children().length<_.settings.lastItemsCount||$.contents().last().get(0).nodeType===Node.TEXT_NODE;)D.prepend($.contents().last().remove());for(var U=D.contents();C>I&&$.children().length>2;)y&&$.find(y).length&&y.remove(),M.remove(),U.remove(),(b=$.contents().last().remove())&&b.get(0).nodeType===Node.ELEMENT_NODE&&(null!==_.settings.ignoreCountList&&b.is(_.settings.ignoreCountList)||(P+=1)),_.settings.showRemovedCount&&P>0?(y=m.fn.truncate.removedCountMarkup(P),$.append(y)):$.append(M),$.append(U),C=$.height();setTimeout(N,500)}else _.settings.addClass&&!$.hasClass(_.settings.addClass)&&setTimeout((function(){$.addClass(_.settings.addClass)}),0),$.data("truncationDone",!0),_.settings.onComplete()};N()}function truncateList(){var y=this,b=m(this),_=b.height(),$=Math.ceil(Math.max(b.children().height(),parseFloat(b.css("line-height")))),C=this.settings.lines*$,D=!b.closest(":not(:visible)").length;if(0===b.children().length)return b.addClass(y.settings.addClass),b.data("truncationDone",!0),void y.settings.onComplete();if(!D||0!==_&&0!==C)switch(this.settings.position){case"middle":_>C?removeListItemsMiddle.call(this,b):(this.settings.addClass&&!b.hasClass(this.settings.addClass)&&setTimeout((function(){b.addClass(y.settings.addClass)}),0),b.data("truncationDone",!0),y.settings.onComplete());break;case"end":_>C?removeListItemsEnd.call(this,b):(this.settings.addClass&&!b.hasClass(this.settings.addClass)&&setTimeout((function(){b.addClass(y.settings.addClass)}),0),b.data("truncationDone",!0),y.settings.onComplete());break;case"betweenFirstAndLast":removeListItemsBetweenFirstAndLast.call(this,b);break;case"beforeLast":_>C?removeListItemsBeforeLast.call(this,b):(this.settings.addClass&&!b.hasClass(this.settings.addClass)&&setTimeout((function(){b.addClass(y.settings.addClass)}),0),b.data("truncationDone",!0),y.settings.onComplete())}else setTimeout((function(){truncateList.call(y)}),30)}function seeLessLink(){var y,b=(this.settings.lessLinkEllipsis?' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> ":"&nbsp;")+this.settings.seeLessText+' <i class="'+this.settings.seeLessIcon+'"></i>';return this.settings.seeLessHtml&&(b=this.settings.seeLessHtml),y='<a href="javascript:void(0)" class="read-less" aria-expanded="true">'+b+"</a>","UL"===this.parentTagName&&(y="<li>"+y+"</li>"),m(y)}function addEventHandlers(){var y,b,_=this,$=m(this),C=[9,13],D=!0;_.settings.readMoreWithSpacebar&&(C=[9,13,32]),_.settings.animation&&(b=!0),$.on("touchend mousedown keydown",(function(I){function readMore(){I.preventDefault();var m=$.children().length;$.data("truncatedContent",$.html()),$.html($.data("originalContent"));var b=seeLessLink.call(_);if($.append(b),_.settings.animation){$.css("height","auto");var C=$.outerHeight(!0);$.height(y).animate({height:C},300),setTimeout((function(){$.css("height","auto")}),350)}"keydown"===I.type&&("UL"===$[0].parentTagName?$.children().eq(m-1).find("a").trigger("focus"):b.focus())}if(!("keydown"===I.type&&C.indexOf(I.keyCode)<0)&&(_.settings.readMoreWithSpacebar&&(D=9!==I.keyCode),_.settings.animation&&b&&(y=$.outerHeight(!0),b=!1),$.data("truncationDone")&&D)){var M=m(I.target);M.hasClass("ellipsis")&&M.is("a")&&readMore(),(M.hasClass("read-more")&&!M.hasClass("w-slide__btn")||M.parent().hasClass("read-more")&&!M.parent().hasClass("w-slide__btn")||M.hasClass("removed-items-count"))&&readMore(),(M.hasClass("read-less")||M.parent().hasClass("read-less"))&&function readLess(){9!==I.keyCode&&(I.preventDefault(),_.settings.animation?($.animate({height:y},300),setTimeout((function(){$.html($.data("truncatedContent"))}),250)):$.html($.data("truncatedContent")),$.find(".read-more").focus())}()}})),m(document).data("activeTabHandlerAdded")||(m(document).data("activeTabHandlerAdded","yes"),m(document).on("tabs:changeActiveTab",(function(y,b){setTimeout((function(){m(".truncate-delayed",b.tabId).truncate()}),10)})))}function restoreContent(){var y=m(this);y.data("originalContent")&&(y.html(y.data("originalContent")),this.settings&&this.settings.addClass&&y.removeClass(this.settings.addClass))}function truncateStart(){var y=m(this);this.settings.showRemovedCount&&y.truncate("destroy"),this.settings.isMobile&&"desktop"===this.settings.targetViewport||!this.settings.isMobile&&"mobile"===this.settings.targetViewport?restoreContent.call(this):!y.closest(".tab__pane").length||y.closest(".tab__pane").hasClass("active")?(y.removeClass("truncate-delayed"),this.settings&&"text"===this.settings.type?truncateText.call(this):this.settings&&"list"===this.settings.type&&(this.parentTagName=y.get(0).tagName,truncateList.call(this))):y.addClass("truncate-delayed")}function addResponsiveHandlers(){var y=this;function targetViewportOn(){y.settings.isMobile=!0,truncateStart.call(y)}function targetViewportOff(){y.settings.isMobile=!1,truncateStart.call(y)}this.prevVPort&&(m(document).off(this.prevVPort+"-on",targetViewportOn),m(document).off(this.prevVPort+"-off",targetViewportOff)),m(document).on(this.settings.vPort+"-on",targetViewportOn),m(document).on(this.settings.vPort+"-off",targetViewportOff),this.prevVPort=this.settings.vPort}y={init:function init(y){return this.each((function(){var b=m(this),_=!0;b.data("originalContent")?(b.data("settings")&&(this.settings=b.data("settings")),restoreContent.call(this),_=!1):b.data("originalContent",b.html());var $={};b.data("truncate-lines")&&($.lines=parseInt(b.data("truncate-lines"),10)),b.data("truncate-type")&&($.type=b.data("truncate-type")),b.data("truncate-position")&&($.position=b.data("truncate-position")),void 0!==b.data("truncate-show-removed-count")&&($.showRemovedCount=b.data("truncate-show-removed-count")),void 0!==b.data("truncate-see-more-link")&&($.seeMoreLink=b.data("truncate-see-more-link")),b.data("truncate-see-more-text")&&($.seeMoreText=b.data("truncate-see-more-text")),b.data("truncate-see-less-text")&&($.seeLessText=b.data("truncate-see-less-text")),b.data("truncate-see-more-html")&&($.seeMoreHtml=b.data("truncate-see-more-html")),b.data("truncate-see-less-html")&&($.seeLessHtml=b.data("truncate-see-less-html")),b.data("truncate-ellipsis-char")&&($.ellipsisChar=b.data("truncate-ellipsis-char")),b.data("truncate-last-items-count")&&($.lastItemsCount=parseInt(b.data("truncate-last-items-count"),10)),b.data("truncate-mobile-target")&&($.mobileTarget=b.data("truncate-mobile-target")),b.data("truncate-add-class")&&($.addClass=b.data("truncate-add-class")),b.data("truncate-vport")&&($.vPort=b.data("truncate-vport")),b.data("truncate-target-viewport")&&($.targetViewport=b.data("truncate-target-viewport")),void 0!==b.data("truncate-mid-word-enabled")&&($.midWordEnabled=b.data("truncate-mid-word-enabled")),void 0!==b.data("truncate-less-link-ellipsis")&&($.lessLinkEllipsis=b.data("truncate-less-link-ellipsis")),this.settings=m.extend({},this.settings||m.fn.truncate.defaults,$,y||{}),b.data("settings",this.settings),b.data("truncationDone",!1),truncateStart.call(this),_&&addEventHandlers.call(this),addResponsiveHandlers.call(this)}))},destroy:function destroy(){return this.each((function(){restoreContent.call(this)}))}},m.fn.truncate=function(b){return y[b]?y[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==_(b)&&b?void m.error("Method "+b+" does not exist on jQuery.truncate"):y.init.apply(this,arguments)},m.fn.truncate.removedCountMarkup=function(y){return m('<a href="javascript:void(0)" class="removed-items-count"> + '+y+" </a>")},m.fn.truncate.defaults={type:"text",position:"end",showRemovedCount:!1,lines:1,seeMoreLink:!1,seeMoreText:"See More",seeLessText:"See Less",seeMoreIcon:"icon-section_arrow_d",seeLessIcon:"icon-section_arrow_u",seeMoreIconMobile:"icon-arrow_r",seeMoreHtml:"",seeLessHtml:"",ellipsisChar:"&hellip;",lessLinkEllipsis:!1,lastItemsCount:1,isMobile:!1,isSliding:!0,mobileTarget:"",targetViewport:"all",addClass:"",vPort:"screen-sm",midWordEnabled:!1,animation:!1,ignoreCountList:null,readMoreWithSpacebar:!1,onComplete:function onComplete(){}}}(jQuery)},function(m,y){
/*!
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2015 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.9.7
 *
 */
!function(m,y,b,_){var $=m(y);m.fn.lazyload=function(_){var C,D=this,I={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:y,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};function update(){var y=0;D.each((function(){var b=m(this);if(!I.skip_invisible||b.is(":visible"))if(m.abovethetop(this,I)||m.leftofbegin(this,I));else if(m.belowthefold(this,I)||m.rightoffold(this,I)){if(++y>I.failure_limit)return!1}else b.trigger("appear"),y=0}))}return _&&(void 0!==_.failurelimit&&(_.failure_limit=_.failurelimit,delete _.failurelimit),void 0!==_.effectspeed&&(_.effect_speed=_.effectspeed,delete _.effectspeed),m.extend(I,_)),C=void 0===I.container||I.container===y?$:m(I.container),0===I.event.indexOf("scroll")&&C.bind(I.event,(function(){return update()})),this.each((function(){var y=this,b=m(y);y.loaded=!1,void 0!==b.attr("src")&&!1!==b.attr("src")||b.is("img")&&b.attr("src",I.placeholder),b.one("appear",(function(){if(!this.loaded){if(I.appear){var _=D.length;I.appear.call(y,_,I)}m("<img />").bind("load",(function(){var _=b.attr("data-"+I.data_attribute);b.hide(),b.is("img")?b.attr("src",_):b.css("background-image","url('"+_+"')"),b[I.effect](I.effect_speed),y.loaded=!0;var $=m.grep(D,(function(m){return!m.loaded}));if(D=m($),I.load){var C=D.length;I.load.call(y,C,I)}})).attr("src",b.attr("data-"+I.data_attribute))}})),0!==I.event.indexOf("scroll")&&b.bind(I.event,(function(){y.loaded||b.trigger("appear")}))})),$.bind("resize",(function(){update()})),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&$.bind("pageshow",(function(y){y.originalEvent&&y.originalEvent.persisted&&D.each((function(){m(this).trigger("appear")}))})),m(b).ready((function(){update()})),this},m.belowthefold=function(b,_){return(void 0===_.container||_.container===y?(y.innerHeight?y.innerHeight:$.height())+$.scrollTop():m(_.container).offset().top+m(_.container).height())<=m(b).offset().top-_.threshold},m.rightoffold=function(b,_){return(void 0===_.container||_.container===y?$.width()+$.scrollLeft():m(_.container).offset().left+m(_.container).width())<=m(b).offset().left-_.threshold},m.abovethetop=function(b,_){return(void 0===_.container||_.container===y?$.scrollTop():m(_.container).offset().top)>=m(b).offset().top+_.threshold+m(b).height()},m.leftofbegin=function(b,_){return(void 0===_.container||_.container===y?$.scrollLeft():m(_.container).offset().left)>=m(b).offset().left+_.threshold+m(b).width()},m.inviewport=function(y,b){return!(m.rightoffold(y,b)||m.leftofbegin(y,b)||m.belowthefold(y,b)||m.abovethetop(y,b))},m.extend(m.expr[":"],{"below-the-fold":function belowTheFold(y){return m.belowthefold(y,{threshold:0})},"above-the-top":function aboveTheTop(y){return!m.belowthefold(y,{threshold:0})},"right-of-screen":function rightOfScreen(y){return m.rightoffold(y,{threshold:0})},"left-of-screen":function leftOfScreen(y){return!m.rightoffold(y,{threshold:0})},"in-viewport":function inViewport(y){return m.inviewport(y,{threshold:0})},"above-the-fold":function aboveTheFold(y){return!m.belowthefold(y,{threshold:0})},"right-of-fold":function rightOfFold(y){return m.rightoffold(y,{threshold:0})},"left-of-fold":function leftOfFold(y){return!m.rightoffold(y,{threshold:0})}})}(jQuery,window,document)},function(m,y){var b,_;b=$("body"),_={$slide:null,$target:null,$contents:null,$slideinfo:null,$toggle:null,prev:null,isMobile:!1,vPort:"screen-sm",elementvPort:null,back:!1,nested:!1,multi:!1,activeSlide:0,oldInfo:[],off:null,clone:null,wait:!1,backLabel:"back",$elements:null,isQueue:!1,isRTL:!1,init:function init(){_.$slide='<div class="w-slide"><div class="w-slide_head"><a href="#" class="w-slide__back"><i class=" icon-arrow_l" aria-hidden="true"></i>'+_.backLabel+'</a><span class="w-slide__title"></span></span></div><div class="w-slide__content"></div></div>',_.$elements=$(_.$slide),_.displaySlideHtmlToPage(),_.$contents=_.$elements.find(".w-slide__content"),_.$slideinfo=_.$elements.find(".w-slide__title"),_.$back=_.$elements.find(".w-slide__back"),_.$toggle=$(".w-slide__btn"),_.elementvPort=_.vPort,_.vPort=[],_.customViewPorts(),_.$toggle.each((function(m){_.check.viewPort($(this),m),_.responsive(m)})),_.additionalInitialization(),_.control(),_.additionalControls(),"undefined"!=typeof facetDateChart&&facetDateChart.control(),UX.utils&&UX.utils.isRTL()&&(_.isRTL=!0)},displaySlideHtmlToPage:function displaySlideHtmlToPage(){var m=$("main");m.length>0?m.append(_.$elements):b.append(_.$elements)},additionalInitialization:function additionalInitialization(){},responsive:function responsive(m){$(document).on(_.vPort[m]+"-on",(function(){_.off=!1,$(".w-slide__btn").each((function(){$(this).data("ctrl-res")===_.vPort[m]&&$(this).addClass("slide-active")}))})),$(document).on(_.vPort[m]+"-off",(function(y){_.off=!0,_.on.off(y),$(".w-slide__btn").each((function(){$(this).data("ctrl-res")===_.vPort[m]&&$(this).removeClass("slide-active")}))})),$(document).on(_.elementvPort+"-on",(function(m){_.isMobile=!0,_.$elements.css("margin-top",0),$(".w-slide.js--open").length&&(_.back=!0,_.on.hide(m))})),$(document).on(_.elementvPort+"-off",(function(m){_.isMobile=!1,$(".w-slide.js--open").length&&(_.back=!0,_.on.hide(m))})),_.additionalResponsive()},additionalResponsive:function additionalResponsive(){},control:function control(){b.on("click",".w-slide__btn",(function(m){return _.isQueue&&_.isMobile?(m.stopImmediatePropagation(),$(this).off("click"),!1):(_.isQueue=!0,$(this).hasClass("disable")?(m.stopPropagation(),void m.preventDefault()):void($(this).hasClass("slide-active")&&(m.stopPropagation(),m.preventDefault(),_.addTransition(),_.$toggle=$(this),_.$target=$(_.$toggle.data("slide-target")),_.back=!1,$(this).is("[id*=pane-pcw]")&&UX.tab.check.empty($(this))?setTimeout((function(){_.on.show(m)}),3e3):_.on.show(m))))})),b.on("click",".w-slide__back, .w-slide__hide",(function(m){$(this).hasClass("w-slide__back")&&m.preventDefault(),_.back=!0,_.on.hide(m)}))},additionalControls:function additionalControls(){},addTransition:function addTransition(){$(".w-slide, .w-slide__content").css("transition","all 250ms")},removeTransition:function removeTransition(){$(".w-slide, .w-slide__content").css("transition","")},customViewPorts:function customViewPorts(){$(".journal-home").length&&(_.elementvPort="screen-md")},setBackLabel:function setBackLabel(){_.$back.html('<i class=" icon-arrow_l" aria-hidden="true"></i>'+_.backLabel)},on:{show:function show(m){$(document).trigger("UX-detach"),"undefined"!=typeof jcf&&jcf.destroy($(".range-slider__range"));var y=$.Event("slide:open");if($(document).trigger(y,[_]),!y.isDefaultPrevented()){"undefined"!==b.attr("data-active")&&UX.controller.check(m),!_.$toggle.is("[data-full-screen]")||_.$toggle.data("[full-screen]")||_.isMobile?b.removeClass("w-slide__not-fullWidth"):b.addClass("w-slide__not-fullWidth"),_.nested=_.$toggle.parents(".w-slide__content").length>0,_.multi=_.$toggle.closest(".pill-list").length>0||_.$toggle.is('[data-slide-target*="#pill"]'),_.$toggle.closest(".w-slide__pill").length>0&&(_.nested=!1,_.multi=!0),_.on.additionalShow(),_.$slideinfo.hide().removeClass("js--open"),_.backLabel="back",_.setBackLabel(),_.nested&&(_.activeSlide++,_.$contents.append('<div class="w-slide__content nested--'+_.activeSlide+'"></div>'),_.$contents=$(".nested--"+_.activeSlide)),_.multi&&(0!==_.activeSlide&&(_.back=!0,_.on.hide(m)),_.activeSlide++,_.$elements.addClass("w-slide__pill").find(".w-slide__content").append('<div class="w-slide__content nested--'+_.activeSlide+'"></div>'),_.$contents=$(".nested--"+_.activeSlide)),_.$contents.attr("original-target",_.$toggle.data("slide-target")),_.$target.hasClass("tab__pane")&&(_.$target.closest(".tab__content").find(".tab__pane").removeClass("active"),_.$target.addClass("active"));var C=_.$toggle.text();_.$toggle.is("[data-label]")&&(C=_.$toggle.data("label")),(_.$toggle.hasClass("loa")||_.$toggle.parents(".loa.mobile-authors").length>0)&&(C="AUTHORS");var D=_.$target.children();_.on.destroyJcf(D),_.$toggle.is("[data-slide-clone]")?(_.clone=_.$toggle.data("slide-clone"),"self"===_.clone&&(D=_.$target)):_.clone="",_.oldInfo.push(C),_.$slideinfo.html(C),_.$target.find(".loi").length>0?(_.$contents.append(D.html()),$(".dropBlock-loi__holder .loi").remove(),_.$contents.find(".loi__list").each((function(){UX.loi.on.recalculate($(this))}))):("self"===_.clone?_.nested||_.multi?_.$target.after('<div class="returnNestedDataSlideHere"></div>'):_.$target.after('<div class="returnDataSlideHere"></div>'):_.nested||_.multi?_.$target.append('<div class="returnNestedDataSlideHere"></div>'):_.$target.append('<div class="returnDataSlideHere"></div>'),D.appendTo(_.$contents),_.on.rebuildJcf(_.$contents)),"undefined"!=typeof googletag&&void 0!==googletag.pubads&&googletag.pubads().refresh(),b.addClass("lock-screen slide-is-active").attr("data-active","slide"),_.$back.focus();var I=$(".coolBar");I.length&&I.addClass("slide");var M=$.Event("slide:opened");_.wait?(setTimeout((function(){_.on._showSlide(),_.on.slidePill(),$(document).trigger(M,[_])}),150),_.wait=!1):(_.on._showSlide(),$(document).trigger(M,[_])),$(document).trigger("UX-attach")}},_showSlide:function _showSlide(){var m=_.$elements;(_.nested||_.multi)&&(m=_.$contents),!_.$elements.hasClass("js--open")&&_.multi&&(m=$("[class*=nested--], .w-slide"));var y="-".concat("100%");_.isRTL&&(y="100%"),m.css("transform","translateX(".concat(y,")")).off().one("transitionend webkitTransitionEnd oTransitionEnd",(function(m){m.stopPropagation(),_.isQueue=!1,_.removeTransition()})),_.$slideinfo.show().addClass("js--open"),_.$elements.addClass("js--open"),_.on.additionalShowSlide()},additionalShow:function additionalShow(){},additionalShowSlide:function additionalShowSlide(){},slidePill:function slidePill(){},hide:function hide(m){var y=$(m.target).closest(".w-slide").length,C=$.Event("slide:close");if($(document).trigger(C,[_]),!C.isDefaultPrevented()){if(void 0!==m&&$(".w-slide").hasClass("js--open")&&(y||(_.back=!0)),_.back){_.addTransition(),_.$slideinfo.hide().removeClass("js--open"),_.nested=!0,0===_.activeSlide?(_.nested=!1,_.$contents=_.$elements.children(".w-slide__content")):_.$contents=$(".nested--"+_.activeSlide),_.on.destroyJcf(_.$contents);var D=$(_.$contents.attr("original-target"));D||(D=b);var I=_.$elements.find(".loi").length>0;if(_.on.beforeReturnSlideContent(),I){var M=$(".dropBlock-loi__holder");M.append(_.$contents.html()),M.find(".loi__list").each((function(){UX.loi.on.recalculate($(this))}))}else{_.$contents.find("[class*=nested--]").length&&_.$contents.find("[class*=nested--]").remove();var P=_.nested||_.multi?".returnNestedDataSlideHere":".returnDataSlideHere",R="self"===_.clone?$(P):$(P,D);_.$contents.children().appendTo(R.parent()),R.remove(),_.on.rebuildJcf(D)}if(_.oldInfo.splice(_.activeSlide,1),_.$slideinfo.html(_.oldInfo[_.activeSlide-1]),_.$toggle&&_.$toggle.focus(),_.nested)_.activeSlide--,_.on._hideSlide(),_.multi&&_.$contents.remove(),_.$contents=$(".nested--"+_.activeSlide),0===_.activeSlide&&(_.$contents=_.$elements.children(".w-slide__content"));else{_.activeSlide=0,$("body, html").removeClass("lock-screen"),b.removeClass("lock-screen slide-is-active").removeAttr("data-active");var N=$(".coolBar");N.length&&N.removeClass("slide"),_.on._hideSlide(),_.$elements.removeClass("js--open")}if(_.$slideinfo.show().addClass("js--open"),_.backLabel="back",_.setBackLabel(),_.on.additionalHide(m),_.$elements.hasClass("w-slide__pill")){for(;_.activeSlide>0;)_.activeSlide--,_.on.hide(m);void 0!==m&&($(m.target).hasClass("w-slide__back")||$(m.currentTarget).hasClass("w-slide__back"))&&0===_.activeSlide&&_.on.off(m)}y||void 0!==m&&$(m.target).closest(".pill-list").length||_.on.off(m),_.removeTransition()}"undefined"!=typeof googletag&&void 0!==googletag.pubads&&googletag.pubads().refresh();var U=$.Event("slide:closed");$(document).trigger(U,[_])}},_hideSlide:function _hideSlide(){var m=_.$elements;_.nested&&(m=_.$contents),m.css("transform","translateX(0vw)").off().one("transitionend webkitTransitionEnd oTransitionEnd",(function(m){m.stopPropagation(),_.back&&(_.nested?$(this).remove():_.$contents.empty())}))},additionalHide:function additionalHide(m){},beforeReturnSlideContent:function beforeReturnSlideContent(){},off:function off(m){if(_.$slideinfo.hide().removeClass("js--open"),$(".pill-list li").removeClass("pill-active"),_.$elements.find(".loi").length>0){_.$contents=$(".loi").closest(".w-slide__content");var y=$(".dropBlock-loi__holder");y.append(_.$contents.html()),y.find(".loi__list").each((function(){UX.loi.on.recalculate($(this))}))}$("body, html").removeClass("lock-screen"),b.removeClass("lock-screen slide-is-active").removeAttr("data-active"),$(".coolBar").removeClass("slide"),_.$contents=_.$elements.children(".w-slide__content"),_.$elements.css("transform","translateX(0vw)").off().one("transitionend webkitTransitionEnd oTransitionEnd",(function(m){m.stopPropagation(),_.$elements.removeClass("js--open"),_.off&&($(".w-slide").removeClass("w-slide__pill"),_.$contents.empty())})),_.off=!1,_.on.additionalOff(m)},additionalOff:function additionalOff(m){},destroyJcf:function destroyJcf(m){"undefined"!=typeof jcf&&jcf.destroy(m.find(".jcf"))},rebuildJcf:function rebuildJcf(m){"undefined"!=typeof jcf&&jcf.replace(m.find(".jcf"))}},check:{viewPort:function viewPort(m,y){void 0!==m.data("ctrl-res")?_.vPort[y]=m.data("ctrl-res"):(m.data("ctrl-res",_.elementvPort),_.vPort[y]=_.elementvPort)}}},UX.slide=_},function(m,y,b){var _=b(2);!function(m){"use strict";var y=function MagicSuggest(y,b){var $=this,C=m.extend({},b),D=m.extend(!0,{},{allowFreeEntries:!0,allowDuplicates:!1,ajaxConfig:{},autoSelect:!0,selectFirst:!1,queryParam:"query",beforeSend:function beforeSend(){},cls:"",data:null,dataUrlParams:{},disabled:!1,disabledField:null,displayField:"name",editable:!0,expanded:!1,expandOnFocus:!1,groupBy:null,hideTrigger:!1,highlight:!0,id:null,infoMsgCls:"",inputCfg:{},invalidCls:"ms-inv",matchCase:!1,maxDropHeight:290,maxEntryLength:null,maxEntryRenderer:function maxEntryRenderer(m){return"Please reduce your entry by "+m+" character"+(m>1?"s":"")},maxSuggestions:null,maxSelection:10,maxSelectionRenderer:function maxSelectionRenderer(m){return"You cannot choose more than "+m+" item"+(m>1?"s":"")},method:"POST",minChars:0,minCharsRenderer:function minCharsRenderer(m){return"Please type "+m+" more character"+(m>1?"s":"")},mode:"local",name:null,noSuggestionText:"No suggestions",placeholder:"Type or click here",renderer:null,required:!1,resultAsString:!1,resultAsStringDelimiter:",",resultsField:"results",selectionCls:"",selectionContainer:null,selectionPosition:"inner",selectionRenderer:null,selectionStacked:!1,sortDir:"asc",sortOrder:null,strictSuggest:!1,style:"",toggleOnClick:!1,typeDelay:400,useTabKey:!1,useCommaKey:!0,useZebraStyle:!1,value:null,valueField:"id",vregex:null,vtype:null},C);this.addToSelection=function(y,b){if(!D.maxSelection||M.length<D.maxSelection){m.isArray(y)||(y=[y]);var _=!1;m.each(y,(function(y,b){(D.allowDuplicates||-1===m.inArray(b[D.valueField],$.getValue()))&&(M.push(b),_=!0)})),!0===_&&(Q._renderSelection(),this.empty(),!0!==b&&m(this).trigger("selectionchange",[this,this.getSelection()]))}this.input.attr("placeholder","inner"===D.selectionPosition&&this.getValue().length>0?"":D.placeholder)},this.clear=function(m){this.removeFromSelection(M.slice(0),m)},this.collapse=function(){!0===D.expanded&&(this.combobox.detach(),D.expanded=!1,m(this).trigger("collapse",[this]))},this.disable=function(){this.container.addClass("ms-ctn-disabled"),D.disabled=!0,$.input.attr("disabled",!0)},this.empty=function(){this.input.val("")},this.enable=function(){this.container.removeClass("ms-ctn-disabled"),D.disabled=!1,$.input.attr("disabled",!1)},this.expand=function(){!D.expanded&&(this.input.val().length>=D.minChars||this.combobox.children().size()>0)&&(this.combobox.appendTo(this.container),Q._processSuggestions(),D.expanded=!0,m(this).trigger("expand",[this]))},this.isDisabled=function(){return D.disabled},this.isValid=function(){var y=!1===D.required||M.length>0;return(D.vtype||D.vregex)&&m.each(M,(function(m,b){y=y&&Q._validateSingleItem(b[D.valueField])})),y},this.getDataUrlParams=function(){return D.dataUrlParams},this.getName=function(){return D.name},this.getSelection=function(){return M},this.getRawValue=function(){return $.input.val()},this.getValue=function(){return m.map(M,(function(m){return m[D.valueField]}))},this.removeFromSelection=function(y,b){m.isArray(y)||(y=[y]);var _=!1;m.each(y,(function(y,b){var C=m.inArray(b[D.valueField],$.getValue());C>-1&&(M.splice(C,1),_=!0)})),!0===_&&(Q._renderSelection(),!0!==b&&m(this).trigger("selectionchange",[this,this.getSelection()]),D.expandOnFocus&&$.expand(),D.expanded&&Q._processSuggestions()),this.input.attr("placeholder","inner"===D.selectionPosition&&this.getValue().length>0?"":D.placeholder)},this.getData=function(){return U},this.setData=function(m){D.data=m,Q._processSuggestions()},this.setName=function(y){D.name=y,y&&(D.name+=y.indexOf("[]")>0?"":"[]"),$._valueContainer&&m.each($._valueContainer.children(),(function(m,y){y.name=D.name}))},this.setSelection=function(m){this.clear(),this.addToSelection(m)},this.setValue=function(y){var b=[];m.each(y,(function(y,$){var C=!1;if(m.each(U,(function(m,y){if(y[D.valueField]===$)return b.push(y),C=!0,!1})),!C)if("object"===_($))b.push($);else{var I={};I[D.valueField]=$,I[D.displayField]=$,b.push(I)}})),b.length>0&&this.addToSelection(b)},this.setDataUrlParams=function(y){D.dataUrlParams=m.extend({},y)};var I,M=[],P=0,R=!1,N=null,U=[],H=!1,B=8,z=9,q=13,W=17,X=27,V=32,G=38,Y=40,K=188,Q={_displaySuggestions:function _displaySuggestions(y){$.combobox.show(),$.selectionContainer.attr("aria-expanded","true");var b=$.selectionContainer.children("input").attr("id");$.selectionContainer.attr("aria-controls",b),$.combobox.empty();var _=0,C=0;if(null===N)Q._renderComboItems(y),_=P*y.length;else{for(var I in N)C+=1,m("<div/>",{class:"ms-res-group",html:I}).appendTo($.combobox),Q._renderComboItems(N[I].items,!0);var M=$.combobox.find(".ms-res-group").outerHeight();if(null!==M){var R=C*M;_=P*y.length+R}else _=P*(y.length+C)}if(_<$.combobox.height()||_<=D.maxDropHeight?$.combobox.height(_):_>=$.combobox.height()&&_>D.maxDropHeight&&$.combobox.height(D.maxDropHeight),1===y.length&&!0===D.autoSelect&&($.combobox.children().filter(":not(.ms-res-item-disabled):last").addClass("ms-res-item-active").attr("aria-selected","true"),$.input.attr("aria-activedescendant",$.combobox.children().filter(":not(.ms-res-item-disabled):last").attr("id"))),!0===D.selectFirst&&($.combobox.children().filter(":not(.ms-res-item-disabled):first").addClass("ms-res-item-active").attr("aria-selected","true"),$.input.attr("aria-activedescendant",$.combobox.children().filter(":not(.ms-res-item-disabled):first").attr("id"))),0===y.length&&""!==$.getRawValue()){var U=D.noSuggestionText.replace(/\{\{.*\}\}/,$.input.val());Q._updateHelper('<div role="alert">'.concat(U,"</div>")),$.collapse()}!1===D.allowFreeEntries&&(0===y.length?(m($.input).addClass(D.invalidCls),$.combobox.hide()):m($.input).removeClass(D.invalidCls))},_getEntriesFromStringArray:function _getEntriesFromStringArray(y){var b=[];return m.each(y,(function(y,_){var $={};$[D.displayField]=$[D.valueField]=m.trim(_),b.push($)})),b},_highlightSuggestion:function _highlightSuggestion(y){var b=$.input.val();if(m.each(["^","$","*","+","?",".","(",")",":","!","|","{","}","[","]"],(function(m,y){b=b.replace(y,"\\"+y)})),0===b.length)return y;var _=!0===D.matchCase?"g":"gi";return y.replace(new RegExp("("+b+")(?!([^<]+)?>)",_),"<em>$1</em>")},_moveSelectedRow:function _moveSelectedRow(m){var y,b,_,C;D.expanded||$.expand(),y=$.combobox.find(".ms-res-item:not(.ms-res-item-disabled)"),b="down"===m?y.eq(0):y.filter(":last"),(_=$.combobox.find(".ms-res-item-active:not(.ms-res-item-disabled):first")).length>0&&("down"===m?(0===(b=_.nextAll(".ms-res-item:not(.ms-res-item-disabled)").first()).length&&(b=y.eq(0)),C=$.combobox.scrollTop(),$.combobox.scrollTop(0),b[0].offsetTop+b.outerHeight()>$.combobox.height()&&$.combobox.scrollTop(C+P)):(0===(b=_.prevAll(".ms-res-item:not(.ms-res-item-disabled)").first()).length&&(b=y.filter(":last"),$.combobox.scrollTop(P*y.length)),b[0].offsetTop<$.combobox.scrollTop()&&$.combobox.scrollTop($.combobox.scrollTop()-P))),y.removeClass("ms-res-item-active").attr("aria-selected","false"),b.addClass("ms-res-item-active").attr("aria-selected","true"),$.input.attr("aria-activedescendant",b.attr("id"))},_processSuggestions:function _processSuggestions(y){var b=null,_=y||D.data;if(null!==_){if("function"==typeof _&&(_=_.call($,$.getRawValue())),"string"==typeof _){m($).trigger("beforeload",[$]);var C={};C[D.queryParam]=$.input.val();var I=m.extend(C,D.dataUrlParams);return void m.ajax(m.extend({type:D.method,url:_,data:I,beforeSend:D.beforeSend,success:function success(y){b="string"==typeof y?JSON.parse(y):y,Q._processSuggestions(b),m($).trigger("load",[$,b]),Q._asyncValues&&($.setValue("string"==typeof Q._asyncValues?JSON.parse(Q._asyncValues):Q._asyncValues),Q._renderSelection(),delete Q._asyncValues)},error:function error(){throw"Could not reach server"}},D.ajaxConfig))}U=_.length>0&&"string"==typeof _[0]?Q._getEntriesFromStringArray(_):_[D.resultsField]||_;var M="remote"===D.mode?U:Q._sortAndTrim(U);Q._displaySuggestions(Q._group(M))}},_render:function _render(y){if($.setName(D.name),$.container=m("<div/>",{class:"ms-ctn form-control "+(D.resultAsString?"ms-as-string ":"")+D.cls+(m(y).hasClass("input-lg")?" input-lg":"")+(m(y).hasClass("input-sm")?" input-sm":"")+(!0===D.disabled?" ms-ctn-disabled":"")+(!0===D.editable?"":" ms-ctn-readonly")+(!1===D.hideTrigger?"":" ms-no-trigger"),style:D.style,id:D.id}),$.container.focus(m.proxy(J._onFocus,this)),$.container.blur(m.proxy(J._onBlur,this)),$.container.keydown(m.proxy(J._onKeyDown,this)),$.container.keyup(m.proxy(J._onKeyUp,this)),$.input=m("<input/>",m.extend({id:D.id,"aria-autocomplete":"list","aria-controls":m(y).closest("[data-list-id]").data("list-id"),type:"text",class:!0===D.editable?"":" ms-input-readonly",readonly:!D.editable,placeholder:D.placeholder,disabled:D.disabled},D.inputCfg)),$.input.attr("autocomplete","off"),$.input.focus(m.proxy(J._onInputFocus,this)),$.input.click(m.proxy(J._onInputClick,this)),$.combobox=m("<div/>",{id:m(y).closest("[data-list-id]").data("list-id"),"aria-labelledby":m(y).closest("[data-list-id]").find(".ms-label").attr("id"),role:"listbox",class:"ms-res-ctn dropdown-menu"}).height(D.maxDropHeight),$.combobox.on("click","div.ms-res-item",m.proxy(J._onComboItemSelected,this)),$.combobox.on("mouseover","div.ms-res-item",m.proxy(J._onComboItemMouseOver,this)),D.selectionContainer?($.selectionContainer=D.selectionContainer,m($.selectionContainer).addClass("ms-sel-ctn")):$.selectionContainer=m("<div/>",{class:"ms-sel-ctn"}),$.selectionContainer.attr({role:"combobox","aria-expanded":"false","aria-owns":m(y).closest("[data-list-id]").data("list-id"),"aria-haspopup":"listbox"}),$.selectionContainer.click(m.proxy(J._onFocus,this)),"inner"!==D.selectionPosition||D.selectionContainer?$.container.append($.input):$.selectionContainer.append($.input),$.helper=m("<span/>",{class:"ms-helper "+D.infoMsgCls}),Q._updateHelper(),$.container.append($.helper),m(y).replaceWith($.container),!D.selectionContainer)switch(D.selectionPosition){case"bottom":$.selectionContainer.insertAfter($.container),!0===D.selectionStacked&&($.selectionContainer.width($.container.width()),$.selectionContainer.addClass("ms-stacked"));break;case"right":$.selectionContainer.insertAfter($.container),$.container.css("float","left");break;default:$.container.append($.selectionContainer)}!1===D.hideTrigger&&($.trigger=m("<div/>",{class:"ms-trigger",html:'<div class="ms-trigger-ico"></div>'}),$.trigger.click(m.proxy(J._onTriggerClick,this)),$.container.append($.trigger)),m(window).resize(m.proxy(J._onWindowResized,this)),null===D.value&&null===D.data||("string"==typeof D.data?(Q._asyncValues=D.value,Q._processSuggestions()):(Q._processSuggestions(),null!==D.value&&($.setValue(D.value),Q._renderSelection()))),m("body").click((function(m){$.container.hasClass("ms-ctn-focus")&&0===$.container.has(m.target).length&&m.target.className.indexOf("ms-res-item")<0&&m.target.className.indexOf("ms-close-btn")<0&&$.container[0]!==m.target&&J._onBlur()})),!0===D.expanded&&(D.expanded=!1,$.expand())},_renderComboItems:function _renderComboItems(y,b){var _=this,C="";m.each(y,(function(y,$){var I=null!==D.renderer?D.renderer.call(_,$):$[D.displayField],M=null!==D.disabledField&&!0===$[D.disabledField],P=m("<div/>",{id:"result-item-".concat(y),role:"option","aria-selected":"false",class:"ms-res-item "+(b?"ms-res-item-grouped ":"")+(M?"ms-res-item-disabled ":"")+(y%2==1&&!0===D.useZebraStyle?"ms-res-odd":""),html:!0===D.highlight?Q._highlightSuggestion(I):I,"data-json":JSON.stringify($)});C+=m("<div/>").append(P).html()})),$.combobox.append(C),P=$.combobox.find(".ms-res-item:first").outerHeight()},_renderSelection:function _renderSelection(){var y=this,b=0,_=0,C=[],I=!0===D.resultAsString&&!R;$.selectionContainer.find(".ms-sel-item").remove(),void 0!==$._valueContainer&&$._valueContainer.remove(),m.each(M,(function(b,_){var P,R,N=null!==D.selectionRenderer?D.selectionRenderer.call(y,_):_[D.displayField],U=Q._validateSingleItem(_[D.displayField])?"":" ms-sel-invalid";!0===I?P=m("<div/>",{tabindex:"0","aria-label":"selected item",class:"ms-sel-item ms-sel-text "+D.selectionCls+U,html:N+(b===M.length-1?"":D.resultAsStringDelimiter)}).data("json",_):(P=m("<div/>",{tabindex:"0","aria-label":"selected item: ".concat(N),class:"ms-sel-item "+D.selectionCls+U,html:N}).data("json",_),$.selectionContainer.removeAttr("role"),!1===D.disabled&&((R=m('<span class="ms-close-btn" role="button" aria-label="Remove selected item" tabindex="0"><i aria-hidden="true" class="icon-tools_close"></i></span>').data("json",_).appendTo(P)).click(m.proxy(J._onTagTriggerClick,y)),R.on("keydown",(function(y){"Enter"===y.key&&(y.preventDefault(),m(y.target).trigger("click"),$.input.focus())})))),C.push(P)})),$.selectionContainer.prepend(C),$.selectionContainer.find(".ms-sel-item").last().focus(),$._valueContainer=m("<div/>",{style:"display: none;"}),m.each($.getValue(),(function(y,b){m("<input/>",{type:"hidden",name:D.name,value:b}).appendTo($._valueContainer)})),$._valueContainer.appendTo($.selectionContainer),"inner"!==D.selectionPosition||D.selectionContainer||($.input.width(0),_=$.input.offset().left-$.selectionContainer.offset().left,b=$.container.width()-_-42,$.input.width(b)),M.length===D.maxSelection?Q._updateHelper(D.maxSelectionRenderer.call(this,M.length)):$.helper.hide()},_selectItem:function _selectItem(m){1===D.maxSelection&&(M=[]),$.addToSelection(m.data("json")),m.removeClass("ms-res-item-active").attr("aria-selected","false"),!1!==D.expandOnFocus&&M.length!==D.maxSelection||($.collapse(),$.selectionContainer.attr("aria-expanded","false")),R?R&&(D.expandOnFocus||H)&&(Q._processSuggestions(),H&&$.expand()):$.input.focus()},_sortAndTrim:function _sortAndTrim(y){var b=$.getRawValue(),_=[],C=[],I=$.getValue();return b.length>0?m.each(y,(function(m,y){var $=y[D.displayField];(!0===D.matchCase&&$.indexOf(b)>-1||!1===D.matchCase&&$.toLowerCase().indexOf(b.toLowerCase())>-1)&&(!1!==D.strictSuggest&&0!==$.toLowerCase().indexOf(b.toLowerCase())||_.push(y))})):_=y,m.each(_,(function(y,b){(D.allowDuplicates||-1===m.inArray(b[D.valueField],I))&&C.push(b)})),null!==D.sortOrder&&C.sort((function(m,y){return m[D.sortOrder]<y[D.sortOrder]?"asc"===D.sortDir?-1:1:m[D.sortOrder]>y[D.sortOrder]?"asc"===D.sortDir?1:-1:0})),D.maxSuggestions&&D.maxSuggestions>0&&(C=C.slice(0,D.maxSuggestions)),C},_group:function _group(y){return null!==D.groupBy&&(N={},m.each(y,(function(m,y){var b=D.groupBy.indexOf(".")>-1?D.groupBy.split("."):D.groupBy,_=y[D.groupBy];if("string"!=typeof b)for(_=y;b.length>0;)_=_[b.shift()];void 0===N[_]?N[_]={title:_,items:[y]}:N[_].items.push(y)}))),y},_updateHelper:function _updateHelper(m){$.helper.html(m),$.helper.is(":visible")||$.helper.fadeIn()},_validateSingleItem:function _validateSingleItem(m){if(null!==D.vregex&&D.vregex instanceof RegExp)return D.vregex.test(m);if(null!==D.vtype)switch(D.vtype){case"alpha":return/^[a-zA-Z_]+$/.test(m);case"alphanum":return/^[a-zA-Z0-9_]+$/.test(m);case"email":return/^(\w+)([\-+.][\w]+)*@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/.test(m);case"url":return/(((^https?)|(^ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i.test(m);case"ipaddress":return/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(m)}return!0}},J={_onBlur:function _onBlur(){if($.container.removeClass("ms-ctn-focus"),$.collapse(),R=!1,""!==$.getRawValue()&&!0===D.allowFreeEntries){var y={};y[D.displayField]=y[D.valueField]=$.getRawValue().trim(),$.addToSelection(y)}Q._renderSelection(),!1===$.isValid()?$.container.addClass(D.invalidCls):""!==$.input.val()&&!1===D.allowFreeEntries&&($.empty(),Q._updateHelper("")),m($).trigger("blur",[$])},_onComboItemMouseOver:function _onComboItemMouseOver(y){var b=m(y.currentTarget);b.hasClass("ms-res-item-disabled")||($.combobox.children().removeClass("ms-res-item-active").attr("aria-selected","false"),b.addClass("ms-res-item-active").attr("aria-selected","true"),$.input.attr("aria-activedescendant",b.attr("id")))},_onComboItemSelected:function _onComboItemSelected(y){m(y.currentTarget).hasClass("ms-res-item-disabled")||Q._selectItem(m(y.currentTarget))},_onFocus:function _onFocus(){$.input.focus()},_onInputClick:function _onInputClick(){!1===$.isDisabled()&&R&&!0===D.toggleOnClick&&(D.expanded?$.collapse():$.expand())},_onInputFocus:function _onInputFocus(){if(!1===$.isDisabled()&&!R){R=!0,$.container.addClass("ms-ctn-focus"),$.container.removeClass(D.invalidCls);var y=$.getRawValue().length;!0===D.expandOnFocus&&$.expand(),M.length===D.maxSelection?Q._updateHelper(D.maxSelectionRenderer.call(this,M.length)):y<D.minChars&&Q._updateHelper(D.minCharsRenderer.call(this,D.minChars-y)),Q._renderSelection(),m($).trigger("focus",[$])}},_onKeyDown:function _onKeyDown(y){var b=$.combobox.find(".ms-res-item-active:not(.ms-res-item-disabled):first"),_=$.input.val();if(m($).trigger("keydown",[$,y]),y.keyCode!==z||!1!==D.useTabKey&&(!0!==D.useTabKey||0!==b.length||0!==$.input.val().length))switch(y.keyCode){case B:0===_.length&&$.getSelection().length>0&&"inner"===D.selectionPosition&&(M.pop(),Q._renderSelection(),m($).trigger("selectionchange",[$,$.getSelection()]),$.input.attr("placeholder","inner"===D.selectionPosition&&$.getValue().length>0?"":D.placeholder),$.input.focus(),y.preventDefault());break;case z:case X:y.preventDefault();break;case q:(""!==_||D.expanded)&&y.preventDefault();break;case K:!0===D.useCommaKey&&y.preventDefault();break;case W:H=!0;break;case Y:y.preventDefault(),$.combobox.show(),$.selectionContainer.attr("aria-expanded","true"),Q._moveSelectedRow("down");break;case G:y.preventDefault(),Q._moveSelectedRow("up");break;default:M.length===D.maxSelection&&y.preventDefault()}else J._onBlur()},_onKeyUp:function _onKeyUp(y){var b,_=$.getRawValue(),C=m.trim($.input.val()).length>0&&(!D.maxEntryLength||m.trim($.input.val()).length<=D.maxEntryLength),P={};if(!/(^\s$)|(\s\s+)/g.test(_))if(m($).trigger("keyup",[$,y]),clearTimeout(I),y.keyCode===X&&D.expanded&&($.combobox.hide(),$.selectionContainer.attr("aria-expanded","false"),$.input.attr("aria-activedescendant","")),y.keyCode===z&&!1===D.useTabKey||y.keyCode>q&&y.keyCode<V)y.keyCode===W&&(H=!1);else switch(y.keyCode){case G:case Y:y.preventDefault();break;case q:case z:case K:if(y.keyCode!==K||!0===D.useCommaKey){if(y.preventDefault(),!0===D.expanded&&(b=$.combobox.find(".ms-res-item-active:not(.ms-res-item-disabled):first")).length>0)return void Q._selectItem(b);!0===C&&!0===D.allowFreeEntries&&(P[D.displayField]=P[D.valueField]=_.trim(),$.addToSelection(P),$.collapse(),$.input.focus());break}default:M.length===D.maxSelection?Q._updateHelper(D.maxSelectionRenderer.call(this,M.length)):_.length<D.minChars?(Q._updateHelper(D.minCharsRenderer.call(this,D.minChars-_.length)),!0===D.expanded&&$.collapse()):D.maxEntryLength&&_.length>D.maxEntryLength?(Q._updateHelper(D.maxEntryRenderer.call(this,_.length-D.maxEntryLength)),!0===D.expanded&&$.collapse()):($.helper.hide(),D.minChars<=_.length&&(I=setTimeout((function(){!0===D.expanded?Q._processSuggestions():$.expand()}),D.typeDelay)))}},_onTagTriggerClick:function _onTagTriggerClick(y){$.selectionContainer.attr("role","combobox"),$.removeFromSelection(m(y.currentTarget).data("json"))},_onTriggerClick:function _onTriggerClick(){if(!1===$.isDisabled()&&(!0!==D.expandOnFocus||M.length!==D.maxSelection))if(m($).trigger("triggerclick",[$]),!0===D.expanded)$.collapse();else{var y=$.getRawValue().length;y>=D.minChars?($.input.focus(),$.expand()):Q._updateHelper(D.minCharsRenderer.call(this,D.minChars-y))}},_onWindowResized:function _onWindowResized(){Q._renderSelection()}};null!==y&&Q._render(y)};m.fn.magicSuggest=function(b){var _=m(this);return 1===_.size()&&_.data("magicSuggest")?_.data("magicSuggest"):(_.each((function(_){var $=m(this);if(!$.data("magicSuggest")){"select"===this.nodeName.toLowerCase()&&(b.data=[],b.value=[],m.each(this.children,(function(y,_){_.nodeName&&"option"===_.nodeName.toLowerCase()&&(b.data.push({id:_.value,name:_.text}),m(_).attr("selected")&&b.value.push(_.value))})));var C={};m.each(this.attributes,(function(m,y){C[y.name]="value"===y.name&&""!==y.value?JSON.parse(y.value):y.value}));var D=new y(this,m.extend([],m.fn.magicSuggest.defaults,b,C));$.data("magicSuggest",D),D.container.data("magicSuggest",D)}})),1===_.size()?_.data("magicSuggest"):_)},m.fn.magicSuggest.defaults={}}(jQuery)},function(m,y){var b;b={getItem:function getItem(m){return m&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(m).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function setItem(m,y,b,_,$,C){if(!m||/^(?:expires|max\-age|path|domain|secure)$/i.test(m))return!1;var D="";if(b)switch(b.constructor){case Number:D=b===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+b;break;case String:D="; expires="+b;break;case Date:D="; expires="+b.toUTCString()}return document.cookie=encodeURIComponent(m)+"="+encodeURIComponent(y)+D+($?"; domain="+$:"")+(_?"; path="+_:"")+(C?"; secure":""),!0},removeItem:function removeItem(m,y,b){return!!this.hasItem(m)&&(document.cookie=encodeURIComponent(m)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(b?"; domain="+b:"")+(y?"; path="+y:""),!0)},hasItem:function hasItem(m){return!!m&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(m).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function keys(){for(var m=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),y=m.length,b=0;b<y;b++)m[b]=decodeURIComponent(m[b]);return m}},UX.cookies=b},function(m,y,b){var _,$,C;
/*! jQuery UI - v1.12.1 - 2018-09-05
* http://jqueryui.com
* Includes: widget.js, position.js, disable-selection.js, keycode.js, unique-id.js, widgets/resizable.js, widgets/autocomplete.js, widgets/menu.js, widgets/mouse.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */$=[b(0)],void 0===(C="function"==typeof(_=function(m){m.ui=m.ui||{},m.ui.version="1.12.1";var y,b=0,_=Array.prototype.slice;
/*!
  * jQuery UI Widget 1.12.1
  * http://jqueryui.com
  *
  * Copyright jQuery Foundation and other contributors
  * Released under the MIT license.
  * http://jquery.org/license
  */m.cleanData=(y=m.cleanData,function(b){var _,$,C;for(C=0;null!=($=b[C]);C++)try{(_=m._data($,"events"))&&_.remove&&m($).triggerHandler("remove")}catch(m){}y(b)}),m.widget=function(y,b,_){var $,C,D,I={},M=y.split(".")[0],P=M+"-"+(y=y.split(".")[1]);return _||(_=b,b=m.Widget),m.isArray(_)&&(_=m.extend.apply(null,[{}].concat(_))),m.expr[":"][P.toLowerCase()]=function(y){return!!m.data(y,P)},m[M]=m[M]||{},$=m[M][y],C=m[M][y]=function(m,y){if(!this._createWidget)return new C(m,y);arguments.length&&this._createWidget(m,y)},m.extend(C,$,{version:_.version,_proto:m.extend({},_),_childConstructors:[]}),(D=new b).options=m.widget.extend({},D.options),m.each(_,(function(y,_){m.isFunction(_)?I[y]=function(){function _super(){return b.prototype[y].apply(this,arguments)}function _superApply(m){return b.prototype[y].apply(this,m)}return function(){var m,y=this._super,b=this._superApply;return this._super=_super,this._superApply=_superApply,m=_.apply(this,arguments),this._super=y,this._superApply=b,m}}():I[y]=_})),C.prototype=m.widget.extend(D,{widgetEventPrefix:$&&D.widgetEventPrefix||y},I,{constructor:C,namespace:M,widgetName:y,widgetFullName:P}),$?(m.each($._childConstructors,(function(y,b){var _=b.prototype;m.widget(_.namespace+"."+_.widgetName,C,b._proto)})),delete $._childConstructors):b._childConstructors.push(C),m.widget.bridge(y,C),C},m.widget.extend=function(y){for(var b,$,C=_.call(arguments,1),D=0,I=C.length;D<I;D++)for(b in C[D])$=C[D][b],C[D].hasOwnProperty(b)&&void 0!==$&&(m.isPlainObject($)?y[b]=m.isPlainObject(y[b])?m.widget.extend({},y[b],$):m.widget.extend({},$):y[b]=$);return y},m.widget.bridge=function(y,b){var $=b.prototype.widgetFullName||y;m.fn[y]=function(C){var D="string"==typeof C,I=_.call(arguments,1),M=this;return D?this.length||"instance"!==C?this.each((function(){var b,_=m.data(this,$);return"instance"===C?(M=_,!1):_?m.isFunction(_[C])&&"_"!==C.charAt(0)?(b=_[C].apply(_,I))!==_&&void 0!==b?(M=b&&b.jquery?M.pushStack(b.get()):b,!1):void 0:m.error("no such method '"+C+"' for "+y+" widget instance"):m.error("cannot call methods on "+y+" prior to initialization; attempted to call method '"+C+"'")})):M=void 0:(I.length&&(C=m.widget.extend.apply(null,[C].concat(I))),this.each((function(){var y=m.data(this,$);y?(y.option(C||{}),y._init&&y._init()):m.data(this,$,new b(C,this))}))),M}},m.Widget=function(){},m.Widget._childConstructors=[],m.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function _createWidget(y,_){_=m(_||this.defaultElement||this)[0],this.element=m(_),this.uuid=b++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=m(),this.hoverable=m(),this.focusable=m(),this.classesElementLookup={},_!==this&&(m.data(_,this.widgetFullName,this),this._on(!0,this.element,{remove:function remove(m){m.target===_&&this.destroy()}}),this.document=m(_.style?_.ownerDocument:_.document||_),this.window=m(this.document[0].defaultView||this.document[0].parentWindow)),this.options=m.widget.extend({},this.options,this._getCreateOptions(),y),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function _getCreateOptions(){return{}},_getCreateEventData:m.noop,_create:m.noop,_init:m.noop,destroy:function destroy(){var y=this;this._destroy(),m.each(this.classesElementLookup,(function(m,b){y._removeClass(b,m)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:m.noop,widget:function widget(){return this.element},option:function option(y,b){var _,$,C,D=y;if(0===arguments.length)return m.widget.extend({},this.options);if("string"==typeof y)if(D={},_=y.split("."),y=_.shift(),_.length){for($=D[y]=m.widget.extend({},this.options[y]),C=0;C<_.length-1;C++)$[_[C]]=$[_[C]]||{},$=$[_[C]];if(y=_.pop(),1===arguments.length)return void 0===$[y]?null:$[y];$[y]=b}else{if(1===arguments.length)return void 0===this.options[y]?null:this.options[y];D[y]=b}return this._setOptions(D),this},_setOptions:function _setOptions(m){var y;for(y in m)this._setOption(y,m[y]);return this},_setOption:function _setOption(m,y){return"classes"===m&&this._setOptionClasses(y),this.options[m]=y,"disabled"===m&&this._setOptionDisabled(y),this},_setOptionClasses:function _setOptionClasses(y){var b,_,$;for(b in y)$=this.classesElementLookup[b],y[b]!==this.options.classes[b]&&$&&$.length&&(_=m($.get()),this._removeClass($,b),_.addClass(this._classes({element:_,keys:b,classes:y,add:!0})))},_setOptionDisabled:function _setOptionDisabled(m){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!m),m&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function enable(){return this._setOptions({disabled:!1})},disable:function disable(){return this._setOptions({disabled:!0})},_classes:function _classes(y){var b=[],_=this;function processClassString($,C){var D,I;for(I=0;I<$.length;I++)D=_.classesElementLookup[$[I]]||m(),D=y.add?m(m.unique(D.get().concat(y.element.get()))):m(D.not(y.element).get()),_.classesElementLookup[$[I]]=D,b.push($[I]),C&&y.classes[$[I]]&&b.push(y.classes[$[I]])}return y=m.extend({element:this.element,classes:this.options.classes||{}},y),this._on(y.element,{remove:"_untrackClassesElement"}),y.keys&&processClassString(y.keys.match(/\S+/g)||[],!0),y.extra&&processClassString(y.extra.match(/\S+/g)||[]),b.join(" ")},_untrackClassesElement:function _untrackClassesElement(y){var b=this;m.each(b.classesElementLookup,(function(_,$){-1!==m.inArray(y.target,$)&&(b.classesElementLookup[_]=m($.not(y.target).get()))}))},_removeClass:function _removeClass(m,y,b){return this._toggleClass(m,y,b,!1)},_addClass:function _addClass(m,y,b){return this._toggleClass(m,y,b,!0)},_toggleClass:function _toggleClass(m,y,b,_){_="boolean"==typeof _?_:b;var $="string"==typeof m||null===m,C={extra:$?y:b,keys:$?m:y,element:$?this.element:m,add:_};return C.element.toggleClass(this._classes(C),_),this},_on:function _on(y,b,_){var $,C=this;"boolean"!=typeof y&&(_=b,b=y,y=!1),_?(b=$=m(b),this.bindings=this.bindings.add(b)):(_=b,b=this.element,$=this.widget()),m.each(_,(function(_,D){function handlerProxy(){if(y||!0!==C.options.disabled&&!m(this).hasClass("ui-state-disabled"))return("string"==typeof D?C[D]:D).apply(C,arguments)}"string"!=typeof D&&(handlerProxy.guid=D.guid=D.guid||handlerProxy.guid||m.guid++);var I=_.match(/^([\w:-]*)\s*(.*)$/),M=I[1]+C.eventNamespace,P=I[2];P?$.on(M,P,handlerProxy):b.on(M,handlerProxy)}))},_off:function _off(y,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,y.off(b).off(b),this.bindings=m(this.bindings.not(y).get()),this.focusable=m(this.focusable.not(y).get()),this.hoverable=m(this.hoverable.not(y).get())},_delay:function _delay(m,y){var b=this;return setTimeout((function handlerProxy(){return("string"==typeof m?b[m]:m).apply(b,arguments)}),y||0)},_hoverable:function _hoverable(y){this.hoverable=this.hoverable.add(y),this._on(y,{mouseenter:function mouseenter(y){this._addClass(m(y.currentTarget),null,"ui-state-hover")},mouseleave:function mouseleave(y){this._removeClass(m(y.currentTarget),null,"ui-state-hover")}})},_focusable:function _focusable(y){this.focusable=this.focusable.add(y),this._on(y,{focusin:function focusin(y){this._addClass(m(y.currentTarget),null,"ui-state-focus")},focusout:function focusout(y){this._removeClass(m(y.currentTarget),null,"ui-state-focus")}})},_trigger:function _trigger(y,b,_){var $,C,D=this.options[y];if(_=_||{},(b=m.Event(b)).type=(y===this.widgetEventPrefix?y:this.widgetEventPrefix+y).toLowerCase(),b.target=this.element[0],C=b.originalEvent)for($ in C)$ in b||(b[$]=C[$]);return this.element.trigger(b,_),!(m.isFunction(D)&&!1===D.apply(this.element[0],[b].concat(_))||b.isDefaultPrevented())}},m.each({show:"fadeIn",hide:"fadeOut"},(function(y,b){m.Widget.prototype["_"+y]=function(_,$,C){var D;"string"==typeof $&&($={effect:$});var I=$?!0===$||"number"==typeof $?b:$.effect||b:y;"number"==typeof($=$||{})&&($={duration:$}),D=!m.isEmptyObject($),$.complete=C,$.delay&&_.delay($.delay),D&&m.effects&&m.effects.effect[I]?_[y]($):I!==y&&_[I]?_[I]($.duration,$.easing,C):_.queue((function(b){m(this)[y](),C&&C.call(_[0]),b()}))}})),m.widget,
/*!
  * jQuery UI Position 1.12.1
  * http://jqueryui.com
  *
  * Copyright jQuery Foundation and other contributors
  * Released under the MIT license.
  * http://jquery.org/license
  *
  * http://api.jqueryui.com/position/
  */
function(){var y,b=Math.max,_=Math.abs,$=/left|center|right/,C=/top|center|bottom/,D=/[\+\-]\d+(\.[\d]+)?%?/,I=/^\w+/,M=/%$/,P=m.fn.position;function getOffsets(m,y,b){return[parseFloat(m[0])*(M.test(m[0])?y/100:1),parseFloat(m[1])*(M.test(m[1])?b/100:1)]}function parseCss(y,b){return parseInt(m.css(y,b),10)||0}function getDimensions(y){var b=y[0];return 9===b.nodeType?{width:y.width(),height:y.height(),offset:{top:0,left:0}}:m.isWindow(b)?{width:y.width(),height:y.height(),offset:{top:y.scrollTop(),left:y.scrollLeft()}}:b.preventDefault?{width:0,height:0,offset:{top:b.pageY,left:b.pageX}}:{width:y.outerWidth(),height:y.outerHeight(),offset:y.offset()}}m.position={scrollbarWidth:function scrollbarWidth(){if(void 0!==y)return y;var b,_,$=m("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),C=$.children()[0];return m("body").append($),b=C.offsetWidth,$.css("overflow","scroll"),b===(_=C.offsetWidth)&&(_=$[0].clientWidth),$.remove(),y=b-_},getScrollInfo:function getScrollInfo(y){var b=y.isWindow||y.isDocument?"":y.element.css("overflow-x"),_=y.isWindow||y.isDocument?"":y.element.css("overflow-y"),$="scroll"===b||"auto"===b&&y.width<y.element[0].scrollWidth;return{width:"scroll"===_||"auto"===_&&y.height<y.element[0].scrollHeight?m.position.scrollbarWidth():0,height:$?m.position.scrollbarWidth():0}},getWithinInfo:function getWithinInfo(y){var b=m(y||window),_=m.isWindow(b[0]),$=!!b[0]&&9===b[0].nodeType;return{element:b,isWindow:_,isDocument:$,offset:_||$?{left:0,top:0}:m(y).offset(),scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:b.outerWidth(),height:b.outerHeight()}}},m.fn.position=function(y){if(!y||!y.of)return P.apply(this,arguments);y=m.extend({},y);var M,R,N,U,H,B,z=m(y.of),q=m.position.getWithinInfo(y.within),W=m.position.getScrollInfo(q),X=(y.collision||"flip").split(" "),V={};return B=getDimensions(z),z[0].preventDefault&&(y.at="left top"),R=B.width,N=B.height,U=B.offset,H=m.extend({},U),m.each(["my","at"],(function(){var m,b,_=(y[this]||"").split(" ");1===_.length&&(_=$.test(_[0])?_.concat(["center"]):C.test(_[0])?["center"].concat(_):["center","center"]),_[0]=$.test(_[0])?_[0]:"center",_[1]=C.test(_[1])?_[1]:"center",m=D.exec(_[0]),b=D.exec(_[1]),V[this]=[m?m[0]:0,b?b[0]:0],y[this]=[I.exec(_[0])[0],I.exec(_[1])[0]]})),1===X.length&&(X[1]=X[0]),"right"===y.at[0]?H.left+=R:"center"===y.at[0]&&(H.left+=R/2),"bottom"===y.at[1]?H.top+=N:"center"===y.at[1]&&(H.top+=N/2),M=getOffsets(V.at,R,N),H.left+=M[0],H.top+=M[1],this.each((function(){var $,C,D=m(this),I=D.outerWidth(),P=D.outerHeight(),B=parseCss(this,"marginLeft"),G=parseCss(this,"marginTop"),Y=I+B+parseCss(this,"marginRight")+W.width,K=P+G+parseCss(this,"marginBottom")+W.height,Q=m.extend({},H),J=getOffsets(V.my,D.outerWidth(),D.outerHeight());"right"===y.my[0]?Q.left-=I:"center"===y.my[0]&&(Q.left-=I/2),"bottom"===y.my[1]?Q.top-=P:"center"===y.my[1]&&(Q.top-=P/2),Q.left+=J[0],Q.top+=J[1],$={marginLeft:B,marginTop:G},m.each(["left","top"],(function(b,_){m.ui.position[X[b]]&&m.ui.position[X[b]][_](Q,{targetWidth:R,targetHeight:N,elemWidth:I,elemHeight:P,collisionPosition:$,collisionWidth:Y,collisionHeight:K,offset:[M[0]+J[0],M[1]+J[1]],my:y.my,at:y.at,within:q,elem:D})})),y.using&&(C=function using(m){var $=U.left-Q.left,C=$+R-I,M=U.top-Q.top,H=M+N-P,B={target:{element:z,left:U.left,top:U.top,width:R,height:N},element:{element:D,left:Q.left,top:Q.top,width:I,height:P},horizontal:C<0?"left":$>0?"right":"center",vertical:H<0?"top":M>0?"bottom":"middle"};R<I&&_($+C)<R&&(B.horizontal="center"),N<P&&_(M+H)<N&&(B.vertical="middle"),b(_($),_(C))>b(_(M),_(H))?B.important="horizontal":B.important="vertical",y.using.call(this,m,B)}),D.offset(m.extend(Q,{using:C}))}))},m.ui.position={fit:{left:function left(m,y){var _,$=y.within,C=$.isWindow?$.scrollLeft:$.offset.left,D=$.width,I=m.left-y.collisionPosition.marginLeft,M=C-I,P=I+y.collisionWidth-D-C;y.collisionWidth>D?M>0&&P<=0?(_=m.left+M+y.collisionWidth-D-C,m.left+=M-_):m.left=P>0&&M<=0?C:M>P?C+D-y.collisionWidth:C:M>0?m.left+=M:P>0?m.left-=P:m.left=b(m.left-I,m.left)},top:function top(m,y){var _,$=y.within,C=$.isWindow?$.scrollTop:$.offset.top,D=y.within.height,I=m.top-y.collisionPosition.marginTop,M=C-I,P=I+y.collisionHeight-D-C;y.collisionHeight>D?M>0&&P<=0?(_=m.top+M+y.collisionHeight-D-C,m.top+=M-_):m.top=P>0&&M<=0?C:M>P?C+D-y.collisionHeight:C:M>0?m.top+=M:P>0?m.top-=P:m.top=b(m.top-I,m.top)}},flip:{left:function left(m,y){var b,$,C=y.within,D=C.offset.left+C.scrollLeft,I=C.width,M=C.isWindow?C.scrollLeft:C.offset.left,P=m.left-y.collisionPosition.marginLeft,R=P-M,N=P+y.collisionWidth-I-M,U="left"===y.my[0]?-y.elemWidth:"right"===y.my[0]?y.elemWidth:0,H="left"===y.at[0]?y.targetWidth:"right"===y.at[0]?-y.targetWidth:0,B=-2*y.offset[0];R<0?((b=m.left+U+H+B+y.collisionWidth-I-D)<0||b<_(R))&&(m.left+=U+H+B):N>0&&(($=m.left-y.collisionPosition.marginLeft+U+H+B-M)>0||_($)<N)&&(m.left+=U+H+B)},top:function top(m,y){var b,$,C=y.within,D=C.offset.top+C.scrollTop,I=C.height,M=C.isWindow?C.scrollTop:C.offset.top,P=m.top-y.collisionPosition.marginTop,R=P-M,N=P+y.collisionHeight-I-M,top="top"===y.my[1],U=top?-y.elemHeight:"bottom"===y.my[1]?y.elemHeight:0,H="top"===y.at[1]?y.targetHeight:"bottom"===y.at[1]?-y.targetHeight:0,B=-2*y.offset[1];R<0?(($=m.top+U+H+B+y.collisionHeight-I-D)<0||$<_(R))&&(m.top+=U+H+B):N>0&&((b=m.top-y.collisionPosition.marginTop+U+H+B-M)>0||_(b)<N)&&(m.top+=U+H+B)}},flipfit:{left:function left(){m.ui.position.flip.left.apply(this,arguments),m.ui.position.fit.left.apply(this,arguments)},top:function top(){m.ui.position.flip.top.apply(this,arguments),m.ui.position.fit.top.apply(this,arguments)}}}}(),m.ui.position,m.fn.extend({disableSelection:(C="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(C+".ui-disableSelection",(function(m){m.preventDefault()}))}),enableSelection:function enableSelection(){return this.off(".ui-disableSelection")}}),m.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},m.fn.extend({uniqueId:($=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++$)}))}),removeUniqueId:function removeUniqueId(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&m(this).removeAttr("id")}))}}),m.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var $,C,D=!1;
/*!
  * jQuery UI Disable Selection 1.12.1
  * http://jqueryui.com
  *
  * Copyright jQuery Foundation and other contributors
  * Released under the MIT license.
  * http://jquery.org/license
  */m(document).on("mouseup",(function(){D=!1})),m.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function _mouseInit(){var y=this;this.element.on("mousedown."+this.widgetName,(function(m){return y._mouseDown(m)})).on("click."+this.widgetName,(function(b){if(!0===m.data(b.target,y.widgetName+".preventClickEvent"))return m.removeData(b.target,y.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function _mouseDestroy(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function _mouseDown(y){if(!D){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(y),this._mouseDownEvent=y;var b=this,_=1===y.which,$=!("string"!=typeof this.options.cancel||!y.target.nodeName)&&m(y.target).closest(this.options.cancel).length;return!(_&&!$&&this._mouseCapture(y)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){b.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(y)&&this._mouseDelayMet(y)&&(this._mouseStarted=!1!==this._mouseStart(y),!this._mouseStarted)?(y.preventDefault(),0):(!0===m.data(y.target,this.widgetName+".preventClickEvent")&&m.removeData(y.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(m){return b._mouseMove(m)},this._mouseUpDelegate=function(m){return b._mouseUp(m)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),y.preventDefault(),D=!0,0)))}},_mouseMove:function _mouseMove(y){if(this._mouseMoved){if(m.ui.ie&&(!document.documentMode||document.documentMode<9)&&!y.button)return this._mouseUp(y);if(!y.which)if(y.originalEvent.altKey||y.originalEvent.ctrlKey||y.originalEvent.metaKey||y.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(y)}return(y.which||y.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(y),y.preventDefault()):(this._mouseDistanceMet(y)&&this._mouseDelayMet(y)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,y),this._mouseStarted?this._mouseDrag(y):this._mouseUp(y)),!this._mouseStarted)},_mouseUp:function _mouseUp(y){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,y.target===this._mouseDownEvent.target&&m.data(y.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(y)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,D=!1,y.preventDefault()},_mouseDistanceMet:function _mouseDistanceMet(m){return Math.max(Math.abs(this._mouseDownEvent.pageX-m.pageX),Math.abs(this._mouseDownEvent.pageY-m.pageY))>=this.options.distance},_mouseDelayMet:function _mouseDelayMet(){return this.mouseDelayMet},_mouseStart:function _mouseStart(){},_mouseDrag:function _mouseDrag(){},_mouseStop:function _mouseStop(){},_mouseCapture:function _mouseCapture(){return!0}}),m.ui.plugin={add:function add(y,b,_){var $,C=m.ui[y].prototype;for($ in _)C.plugins[$]=C.plugins[$]||[],C.plugins[$].push([b,_[$]])},call:function call(m,y,b,_){var $,C=m.plugins[y];if(C&&(_||m.element[0].parentNode&&11!==m.element[0].parentNode.nodeType))for($=0;$<C.length;$++)m.options[C[$][0]]&&C[$][1].apply(m.element,b)}},
/*!
  * jQuery UI Resizable 1.12.1
  * http://jqueryui.com
  *
  * Copyright jQuery Foundation and other contributors
  * Released under the MIT license.
  * http://jquery.org/license
  */
m.widget("ui.resizable",m.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function _num(m){return parseFloat(m)||0},_isNumber:function _isNumber(m){return!isNaN(parseFloat(m))},_hasScroll:function _hasScroll(y,b){if("hidden"===m(y).css("overflow"))return!1;var _,$=b&&"left"===b?"scrollLeft":"scrollTop";return y[$]>0||(y[$]=1,_=y[$]>0,y[$]=0,_)},_create:function _create(){var y,b=this.options,_=this;this._addClass("ui-resizable"),m.extend(this,{_aspectRatio:!!b.aspectRatio,aspectRatio:b.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:b.helper||b.ghost||b.animate?b.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(m("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,y={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(y),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(y),this._proportionallyResize()),this._setupHandles(),b.autoHide&&m(this.element).on("mouseenter",(function(){b.disabled||(_._removeClass("ui-resizable-autohide"),_._handles.show())})).on("mouseleave",(function(){b.disabled||_.resizing||(_._addClass("ui-resizable-autohide"),_._handles.hide())})),this._mouseInit()},_destroy:function _destroy(){this._mouseDestroy();var y,_destroy=function _destroy(y){m(y).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(_destroy(this.element),y=this.element,this.originalElement.css({position:y.css("position"),width:y.outerWidth(),height:y.outerHeight(),top:y.css("top"),left:y.css("left")}).insertAfter(y),y.remove()),this.originalElement.css("resize",this.originalResizeStyle),_destroy(this.originalElement),this},_setOption:function _setOption(m,y){switch(this._super(m,y),m){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function _setupHandles(){var y,b,_,$,C,D=this.options,I=this;if(this.handles=D.handles||(m(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=m(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),_=this.handles.split(","),this.handles={},b=0;b<_.length;b++)$="ui-resizable-"+(y=m.trim(_[b])),C=m("<div>"),this._addClass(C,"ui-resizable-handle "+$),C.css({zIndex:D.zIndex}),this.handles[y]=".ui-resizable-"+y,this.element.append(C);this._renderAxis=function(y){var b,_,$,C;for(b in y=y||this.element,this.handles)this.handles[b].constructor===String?this.handles[b]=this.element.children(this.handles[b]).first().show():(this.handles[b].jquery||this.handles[b].nodeType)&&(this.handles[b]=m(this.handles[b]),this._on(this.handles[b],{mousedown:I._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(_=m(this.handles[b],this.element),C=/sw|ne|nw|se|n|s/.test(b)?_.outerHeight():_.outerWidth(),$=["padding",/ne|nw|n/.test(b)?"Top":/se|sw|s/.test(b)?"Bottom":/^e$/.test(b)?"Right":"Left"].join(""),y.css($,C),this._proportionallyResize()),this._handles=this._handles.add(this.handles[b])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",(function(){I.resizing||(this.className&&(C=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),I.axis=C&&C[1]?C[1]:"se")})),D.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function _removeHandles(){this._handles.remove()},_mouseCapture:function _mouseCapture(y){var b,_,$=!1;for(b in this.handles)((_=m(this.handles[b])[0])===y.target||m.contains(_,y.target))&&($=!0);return!this.options.disabled&&$},_mouseStart:function _mouseStart(y){var b,_,$,C=this.options,D=this.element;return this.resizing=!0,this._renderProxy(),b=this._num(this.helper.css("left")),_=this._num(this.helper.css("top")),C.containment&&(b+=m(C.containment).scrollLeft()||0,_+=m(C.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:b,top:_},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:D.width(),height:D.height()},this.originalSize=this._helper?{width:D.outerWidth(),height:D.outerHeight()}:{width:D.width(),height:D.height()},this.sizeDiff={width:D.outerWidth()-D.width(),height:D.outerHeight()-D.height()},this.originalPosition={left:b,top:_},this.originalMousePosition={left:y.pageX,top:y.pageY},this.aspectRatio="number"==typeof C.aspectRatio?C.aspectRatio:this.originalSize.width/this.originalSize.height||1,$=m(".ui-resizable-"+this.axis).css("cursor"),m("body").css("cursor","auto"===$?this.axis+"-resize":$),this._addClass("ui-resizable-resizing"),this._propagate("start",y),!0},_mouseDrag:function _mouseDrag(y){var b,_,$=this.originalMousePosition,C=this.axis,D=y.pageX-$.left||0,I=y.pageY-$.top||0,M=this._change[C];return this._updatePrevProperties(),!!M&&(b=M.apply(this,[y,D,I]),this._updateVirtualBoundaries(y.shiftKey),(this._aspectRatio||y.shiftKey)&&(b=this._updateRatio(b,y)),b=this._respectSize(b,y),this._updateCache(b),this._propagate("resize",y),_=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),m.isEmptyObject(_)||(this._updatePrevProperties(),this._trigger("resize",y,this.ui()),this._applyChanges()),!1)},_mouseStop:function _mouseStop(y){this.resizing=!1;var b,_,$,C,D,I,M,P=this.options;return this._helper&&($=(_=(b=this._proportionallyResizeElements).length&&/textarea/i.test(b[0].nodeName))&&this._hasScroll(b[0],"left")?0:this.sizeDiff.height,C=_?0:this.sizeDiff.width,D={width:this.helper.width()-C,height:this.helper.height()-$},I=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,M=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,P.animate||this.element.css(m.extend(D,{top:M,left:I})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!P.animate&&this._proportionallyResize()),m("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",y),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function _updatePrevProperties(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function _applyChanges(){var m={};return this.position.top!==this.prevPosition.top&&(m.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(m.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(m.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(m.height=this.size.height+"px"),this.helper.css(m),m},_updateVirtualBoundaries:function _updateVirtualBoundaries(m){var y,b,_,$,C,D=this.options;C={minWidth:this._isNumber(D.minWidth)?D.minWidth:0,maxWidth:this._isNumber(D.maxWidth)?D.maxWidth:1/0,minHeight:this._isNumber(D.minHeight)?D.minHeight:0,maxHeight:this._isNumber(D.maxHeight)?D.maxHeight:1/0},(this._aspectRatio||m)&&(y=C.minHeight*this.aspectRatio,_=C.minWidth/this.aspectRatio,b=C.maxHeight*this.aspectRatio,$=C.maxWidth/this.aspectRatio,y>C.minWidth&&(C.minWidth=y),_>C.minHeight&&(C.minHeight=_),b<C.maxWidth&&(C.maxWidth=b),$<C.maxHeight&&(C.maxHeight=$)),this._vBoundaries=C},_updateCache:function _updateCache(m){this.offset=this.helper.offset(),this._isNumber(m.left)&&(this.position.left=m.left),this._isNumber(m.top)&&(this.position.top=m.top),this._isNumber(m.height)&&(this.size.height=m.height),this._isNumber(m.width)&&(this.size.width=m.width)},_updateRatio:function _updateRatio(m){var y=this.position,b=this.size,_=this.axis;return this._isNumber(m.height)?m.width=m.height*this.aspectRatio:this._isNumber(m.width)&&(m.height=m.width/this.aspectRatio),"sw"===_&&(m.left=y.left+(b.width-m.width),m.top=null),"nw"===_&&(m.top=y.top+(b.height-m.height),m.left=y.left+(b.width-m.width)),m},_respectSize:function _respectSize(m){var y=this._vBoundaries,b=this.axis,_=this._isNumber(m.width)&&y.maxWidth&&y.maxWidth<m.width,$=this._isNumber(m.height)&&y.maxHeight&&y.maxHeight<m.height,C=this._isNumber(m.width)&&y.minWidth&&y.minWidth>m.width,D=this._isNumber(m.height)&&y.minHeight&&y.minHeight>m.height,I=this.originalPosition.left+this.originalSize.width,M=this.originalPosition.top+this.originalSize.height,P=/sw|nw|w/.test(b),R=/nw|ne|n/.test(b);return C&&(m.width=y.minWidth),D&&(m.height=y.minHeight),_&&(m.width=y.maxWidth),$&&(m.height=y.maxHeight),C&&P&&(m.left=I-y.minWidth),_&&P&&(m.left=I-y.maxWidth),D&&R&&(m.top=M-y.minHeight),$&&R&&(m.top=M-y.maxHeight),m.width||m.height||m.left||!m.top?m.width||m.height||m.top||!m.left||(m.left=null):m.top=null,m},_getPaddingPlusBorderDimensions:function _getPaddingPlusBorderDimensions(m){for(var y=0,b=[],_=[m.css("borderTopWidth"),m.css("borderRightWidth"),m.css("borderBottomWidth"),m.css("borderLeftWidth")],$=[m.css("paddingTop"),m.css("paddingRight"),m.css("paddingBottom"),m.css("paddingLeft")];y<4;y++)b[y]=parseFloat(_[y])||0,b[y]+=parseFloat($[y])||0;return{height:b[0]+b[2],width:b[1]+b[3]}},_proportionallyResize:function _proportionallyResize(){if(this._proportionallyResizeElements.length)for(var m,y=0,b=this.helper||this.element;y<this._proportionallyResizeElements.length;y++)m=this._proportionallyResizeElements[y],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(m)),m.css({height:b.height()-this.outerDimensions.height||0,width:b.width()-this.outerDimensions.width||0})},_renderProxy:function _renderProxy(){var y=this.element,b=this.options;this.elementOffset=y.offset(),this._helper?(this.helper=this.helper||m("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function e(m,y){return{width:this.originalSize.width+y}},w:function w(m,y){var b=this.originalSize;return{left:this.originalPosition.left+y,width:b.width-y}},n:function n(m,y,b){var _=this.originalSize;return{top:this.originalPosition.top+b,height:_.height-b}},s:function s(m,y,b){return{height:this.originalSize.height+b}},se:function se(y,b,_){return m.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[y,b,_]))},sw:function sw(y,b,_){return m.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[y,b,_]))},ne:function ne(y,b,_){return m.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[y,b,_]))},nw:function nw(y,b,_){return m.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[y,b,_]))}},_propagate:function _propagate(y,b){m.ui.plugin.call(this,y,[b,this.ui()]),"resize"!==y&&this._trigger(y,b,this.ui())},plugins:{},ui:function ui(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),m.ui.plugin.add("resizable","animate",{stop:function stop(y){var b=m(this).resizable("instance"),_=b.options,$=b._proportionallyResizeElements,C=$.length&&/textarea/i.test($[0].nodeName),D=C&&b._hasScroll($[0],"left")?0:b.sizeDiff.height,I=C?0:b.sizeDiff.width,M={width:b.size.width-I,height:b.size.height-D},P=parseFloat(b.element.css("left"))+(b.position.left-b.originalPosition.left)||null,R=parseFloat(b.element.css("top"))+(b.position.top-b.originalPosition.top)||null;b.element.animate(m.extend(M,R&&P?{top:R,left:P}:{}),{duration:_.animateDuration,easing:_.animateEasing,step:function step(){var _={width:parseFloat(b.element.css("width")),height:parseFloat(b.element.css("height")),top:parseFloat(b.element.css("top")),left:parseFloat(b.element.css("left"))};$&&$.length&&m($[0]).css({width:_.width,height:_.height}),b._updateCache(_),b._propagate("resize",y)}})}}),m.ui.plugin.add("resizable","containment",{start:function start(){var y,b,_,$,C,D,I,M=m(this).resizable("instance"),P=M.options,R=M.element,N=P.containment,U=N instanceof m?N.get(0):/parent/.test(N)?R.parent().get(0):N;U&&(M.containerElement=m(U),/document/.test(N)||N===document?(M.containerOffset={left:0,top:0},M.containerPosition={left:0,top:0},M.parentData={element:m(document),left:0,top:0,width:m(document).width(),height:m(document).height()||document.body.parentNode.scrollHeight}):(y=m(U),b=[],m(["Top","Right","Left","Bottom"]).each((function(m,_){b[m]=M._num(y.css("padding"+_))})),M.containerOffset=y.offset(),M.containerPosition=y.position(),M.containerSize={height:y.innerHeight()-b[3],width:y.innerWidth()-b[1]},_=M.containerOffset,$=M.containerSize.height,C=M.containerSize.width,D=M._hasScroll(U,"left")?U.scrollWidth:C,I=M._hasScroll(U)?U.scrollHeight:$,M.parentData={element:U,left:_.left,top:_.top,width:D,height:I}))},resize:function resize(y){var b,_,$,C,D=m(this).resizable("instance"),I=D.options,M=D.containerOffset,P=D.position,R=D._aspectRatio||y.shiftKey,N={top:0,left:0},U=D.containerElement,H=!0;U[0]!==document&&/static/.test(U.css("position"))&&(N=M),P.left<(D._helper?M.left:0)&&(D.size.width=D.size.width+(D._helper?D.position.left-M.left:D.position.left-N.left),R&&(D.size.height=D.size.width/D.aspectRatio,H=!1),D.position.left=I.helper?M.left:0),P.top<(D._helper?M.top:0)&&(D.size.height=D.size.height+(D._helper?D.position.top-M.top:D.position.top),R&&(D.size.width=D.size.height*D.aspectRatio,H=!1),D.position.top=D._helper?M.top:0),$=D.containerElement.get(0)===D.element.parent().get(0),C=/relative|absolute/.test(D.containerElement.css("position")),$&&C?(D.offset.left=D.parentData.left+D.position.left,D.offset.top=D.parentData.top+D.position.top):(D.offset.left=D.element.offset().left,D.offset.top=D.element.offset().top),b=Math.abs(D.sizeDiff.width+(D._helper?D.offset.left-N.left:D.offset.left-M.left)),_=Math.abs(D.sizeDiff.height+(D._helper?D.offset.top-N.top:D.offset.top-M.top)),b+D.size.width>=D.parentData.width&&(D.size.width=D.parentData.width-b,R&&(D.size.height=D.size.width/D.aspectRatio,H=!1)),_+D.size.height>=D.parentData.height&&(D.size.height=D.parentData.height-_,R&&(D.size.width=D.size.height*D.aspectRatio,H=!1)),H||(D.position.left=D.prevPosition.left,D.position.top=D.prevPosition.top,D.size.width=D.prevSize.width,D.size.height=D.prevSize.height)},stop:function stop(){var y=m(this).resizable("instance"),b=y.options,_=y.containerOffset,$=y.containerPosition,C=y.containerElement,D=m(y.helper),I=D.offset(),M=D.outerWidth()-y.sizeDiff.width,P=D.outerHeight()-y.sizeDiff.height;y._helper&&!b.animate&&/relative/.test(C.css("position"))&&m(this).css({left:I.left-$.left-_.left,width:M,height:P}),y._helper&&!b.animate&&/static/.test(C.css("position"))&&m(this).css({left:I.left-$.left-_.left,width:M,height:P})}}),m.ui.plugin.add("resizable","alsoResize",{start:function start(){var y=m(this).resizable("instance").options;m(y.alsoResize).each((function(){var y=m(this);y.data("ui-resizable-alsoresize",{width:parseFloat(y.width()),height:parseFloat(y.height()),left:parseFloat(y.css("left")),top:parseFloat(y.css("top"))})}))},resize:function resize(y,b){var _=m(this).resizable("instance"),$=_.options,C=_.originalSize,D=_.originalPosition,I={height:_.size.height-C.height||0,width:_.size.width-C.width||0,top:_.position.top-D.top||0,left:_.position.left-D.left||0};m($.alsoResize).each((function(){var y=m(this),_=m(this).data("ui-resizable-alsoresize"),$={},C=y.parents(b.originalElement[0]).length?["width","height"]:["width","height","top","left"];m.each(C,(function(m,y){var b=(_[y]||0)+(I[y]||0);b&&b>=0&&($[y]=b||null)})),y.css($)}))},stop:function stop(){m(this).removeData("ui-resizable-alsoresize")}}),m.ui.plugin.add("resizable","ghost",{start:function start(){var y=m(this).resizable("instance"),b=y.size;y.ghost=y.originalElement.clone(),y.ghost.css({opacity:.25,display:"block",position:"relative",height:b.height,width:b.width,margin:0,left:0,top:0}),y._addClass(y.ghost,"ui-resizable-ghost"),!1!==m.uiBackCompat&&"string"==typeof y.options.ghost&&y.ghost.addClass(this.options.ghost),y.ghost.appendTo(y.helper)},resize:function resize(){var y=m(this).resizable("instance");y.ghost&&y.ghost.css({position:"relative",height:y.size.height,width:y.size.width})},stop:function stop(){var y=m(this).resizable("instance");y.ghost&&y.helper&&y.helper.get(0).removeChild(y.ghost.get(0))}}),m.ui.plugin.add("resizable","grid",{resize:function resize(){var y,b=m(this).resizable("instance"),_=b.options,$=b.size,C=b.originalSize,D=b.originalPosition,I=b.axis,M="number"==typeof _.grid?[_.grid,_.grid]:_.grid,P=M[0]||1,R=M[1]||1,N=Math.round(($.width-C.width)/P)*P,U=Math.round(($.height-C.height)/R)*R,H=C.width+N,B=C.height+U,z=_.maxWidth&&_.maxWidth<H,q=_.maxHeight&&_.maxHeight<B,W=_.minWidth&&_.minWidth>H,X=_.minHeight&&_.minHeight>B;_.grid=M,W&&(H+=P),X&&(B+=R),z&&(H-=P),q&&(B-=R),/^(se|s|e)$/.test(I)?(b.size.width=H,b.size.height=B):/^(ne)$/.test(I)?(b.size.width=H,b.size.height=B,b.position.top=D.top-U):/^(sw)$/.test(I)?(b.size.width=H,b.size.height=B,b.position.left=D.left-N):((B-R<=0||H-P<=0)&&(y=b._getPaddingPlusBorderDimensions(this)),B-R>0?(b.size.height=B,b.position.top=D.top-U):(B=R-y.height,b.size.height=B,b.position.top=D.top+C.height-B),H-P>0?(b.size.width=H,b.position.left=D.left-N):(H=P-y.width,b.size.width=H,b.position.left=D.left+C.width-H))}}),m.ui.resizable,m.ui.safeActiveElement=function(m){var y;try{y=m.activeElement}catch(b){y=m.body}return y||(y=m.body),y.nodeName||(y=m.body),y},m.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function _create(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function mousedown_UiMenuItem(m){m.preventDefault()},"click .ui-menu-item":function click_UiMenuItem(y){var b=m(y.target),_=m(m.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&b.not(".ui-state-disabled").length&&(this.select(y),y.isPropagationStopped()||(this.mouseHandled=!0),b.has(".ui-menu").length?this.expand(y):!this.element.is(":focus")&&_.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function mouseenter_UiMenuItem(y){if(!this.previousFilter){var b=m(y.target).closest(".ui-menu-item"),_=m(y.currentTarget);b[0]===_[0]&&(this._removeClass(_.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(y,_))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function focus(m,y){var b=this.active||this.element.find(this.options.items).eq(0);y||this.focus(m,b)},blur:function blur(y){this._delay((function(){!m.contains(this.element[0],m.ui.safeActiveElement(this.document[0]))&&this.collapseAll(y)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function click(m){this._closeOnDocumentClick(m)&&this.collapseAll(m),this.mouseHandled=!1}})},_destroy:function _destroy(){var y=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),y.children().each((function(){var y=m(this);y.data("ui-menu-submenu-caret")&&y.remove()}))},_keydown:function _keydown(y){var b,_,$,C,D=!0;switch(y.keyCode){case m.ui.keyCode.PAGE_UP:this.previousPage(y);break;case m.ui.keyCode.PAGE_DOWN:this.nextPage(y);break;case m.ui.keyCode.HOME:this._move("first","first",y);break;case m.ui.keyCode.END:this._move("last","last",y);break;case m.ui.keyCode.UP:this.previous(y);break;case m.ui.keyCode.DOWN:this.next(y);break;case m.ui.keyCode.LEFT:this.collapse(y);break;case m.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(y);break;case m.ui.keyCode.ENTER:case m.ui.keyCode.SPACE:this._activate(y);break;case m.ui.keyCode.ESCAPE:this.collapse(y);break;default:D=!1,_=this.previousFilter||"",C=!1,$=y.keyCode>=96&&y.keyCode<=105?(y.keyCode-96).toString():String.fromCharCode(y.keyCode),clearTimeout(this.filterTimer),$===_?C=!0:$=_+$,b=this._filterMenuItems($),(b=C&&-1!==b.index(this.active.next())?this.active.nextAll(".ui-menu-item"):b).length||($=String.fromCharCode(y.keyCode),b=this._filterMenuItems($)),b.length?(this.focus(y,b),this.previousFilter=$,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}D&&y.preventDefault()},_activate:function _activate(m){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(m):this.select(m))},refresh:function refresh(){var y,b,_,$,C=this,D=this.options.icons.submenu,I=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),b=I.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var y=m(this),b=y.prev(),_=m("<span>").data("ui-menu-submenu-caret",!0);C._addClass(_,"ui-menu-icon","ui-icon "+D),b.attr("aria-haspopup","true").prepend(_),y.attr("aria-labelledby",b.attr("id"))})),this._addClass(b,"ui-menu","ui-widget ui-widget-content ui-front"),(y=I.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var y=m(this);C._isDivider(y)&&C._addClass(y,"ui-menu-divider","ui-widget-content")})),$=(_=y.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(_,"ui-menu-item")._addClass($,"ui-menu-item-wrapper"),y.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!m.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function _itemRole(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function _setOption(m,y){if("icons"===m){var b=this.element.find(".ui-menu-icon");this._removeClass(b,null,this.options.icons.submenu)._addClass(b,null,y.submenu)}this._super(m,y)},_setOptionDisabled:function _setOptionDisabled(m){this._super(m),this.element.attr("aria-disabled",String(m)),this._toggleClass(null,"ui-state-disabled",!!m)},focus:function focus(m,y){var b,_,$;this.blur(m,m&&"focus"===m.type),this._scrollIntoView(y),this.active=y.first(),_=this.active.children(".ui-menu-item-wrapper"),this._addClass(_,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",_.attr("id")),$=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass($,null,"ui-state-active"),m&&"keydown"===m.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(b=y.children(".ui-menu")).length&&m&&/^mouse/.test(m.type)&&this._startOpening(b),this.activeMenu=y.parent(),this._trigger("focus",m,{item:y})},_scrollIntoView:function _scrollIntoView(y){var b,_,$,C,D,I;this._hasScroll()&&(b=parseFloat(m.css(this.activeMenu[0],"borderTopWidth"))||0,_=parseFloat(m.css(this.activeMenu[0],"paddingTop"))||0,$=y.offset().top-this.activeMenu.offset().top-b-_,C=this.activeMenu.scrollTop(),D=this.activeMenu.height(),I=y.outerHeight(),$<0?this.activeMenu.scrollTop(C+$):$+I>D&&this.activeMenu.scrollTop(C+$-D+I))},blur:function blur(m,y){y||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",m,{item:this.active}),this.active=null)},_startOpening:function _startOpening(m){clearTimeout(this.timer),"true"===m.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(m)}),this.delay))},_open:function _open(y){var b=m.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(y.parents(".ui-menu")).hide().attr("aria-hidden","true"),y.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(b)},collapseAll:function collapseAll(y,b){clearTimeout(this.timer),this.timer=this._delay((function(){var _=b?this.element:m(y&&y.target).closest(this.element.find(".ui-menu"));_.length||(_=this.element),this._close(_),this.blur(y),this._removeClass(_.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=_}),this.delay)},_close:function _close(m){m||(m=this.active?this.active.parent():this.element),m.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function _closeOnDocumentClick(y){return!m(y.target).closest(".ui-menu").length},_isDivider:function _isDivider(m){return!/[^\-\u2014\u2013\s]/.test(m.text())},collapse:function collapse(m){var y=this.active&&this.active.parent().closest(".ui-menu-item",this.element);y&&y.length&&(this._close(),this.focus(m,y))},expand:function expand(m){var y=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();y&&y.length&&(this._open(y.parent()),this._delay((function(){this.focus(m,y)})))},next:function next(m){this._move("next","first",m)},previous:function previous(m){this._move("prev","last",m)},isFirstItem:function isFirstItem(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function isLastItem(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function _move(m,y,b){var _;this.active&&(_="first"===m||"last"===m?this.active["first"===m?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[m+"All"](".ui-menu-item").eq(0)),_&&_.length&&this.active||(_=this.activeMenu.find(this.options.items)[y]()),this.focus(b,_)},nextPage:function nextPage(y){var b,_,$;this.active?this.isLastItem()||(this._hasScroll()?(_=this.active.offset().top,$=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(b=m(this)).offset().top-_-$<0})),this.focus(y,b)):this.focus(y,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(y)},previousPage:function previousPage(y){var b,_,$;this.active?this.isFirstItem()||(this._hasScroll()?(_=this.active.offset().top,$=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(b=m(this)).offset().top-_+$>0})),this.focus(y,b)):this.focus(y,this.activeMenu.find(this.options.items).first())):this.next(y)},_hasScroll:function _hasScroll(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function select(y){this.active=this.active||m(y.target).closest(".ui-menu-item");var b={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(y,!0),this._trigger("select",y,b)},_filterMenuItems:function _filterMenuItems(y){var b=y.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),_=new RegExp("^"+b,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return _.test(m.trim(m(this).children(".ui-menu-item-wrapper").text()))}))}}),
/*!
  * jQuery UI Autocomplete 1.12.1
  * http://jqueryui.com
  *
  * Copyright jQuery Foundation and other contributors
  * Released under the MIT license.
  * http://jquery.org/license
  */
m.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function _create(){var y,b,_,$=this.element[0].nodeName.toLowerCase(),C="textarea"===$,D="input"===$;this.isMultiLine=C||!D&&this._isContentEditable(this.element),this.valueMethod=this.element[C||D?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function keydown($){if(this.element.prop("readOnly"))return y=!0,_=!0,void(b=!0);y=!1,_=!1,b=!1;var C=m.ui.keyCode;switch($.keyCode){case C.PAGE_UP:y=!0,this._move("previousPage",$);break;case C.PAGE_DOWN:y=!0,this._move("nextPage",$);break;case C.UP:y=!0,this._keyEvent("previous",$);break;case C.DOWN:y=!0,this._keyEvent("next",$);break;case C.ENTER:this.menu.active&&(y=!0,$.preventDefault(),this.menu.select($));break;case C.TAB:this.menu.active&&this.menu.select($);break;case C.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close($),$.preventDefault());break;default:b=!0,this._searchTimeout($)}},keypress:function keypress(_){if(y)return y=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||_.preventDefault());if(!b){var $=m.ui.keyCode;switch(_.keyCode){case $.PAGE_UP:this._move("previousPage",_);break;case $.PAGE_DOWN:this._move("nextPage",_);break;case $.UP:this._keyEvent("previous",_);break;case $.DOWN:this._keyEvent("next",_)}}},input:function input(m){if(_)return _=!1,void m.preventDefault();this._searchTimeout(m)},focus:function focus(){this.selectedItem=null,this.previous=this._value()},blur:function blur(m){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(m),this._change(m))}}),this._initSource(),this.menu=m("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function mousedown(y){y.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,this.element[0]!==m.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")}))},menufocus:function menufocus(y,b){var _,$;if(this.isNewMenu&&(this.isNewMenu=!1,y.originalEvent&&/^mouse/.test(y.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){m(y.target).trigger(y.originalEvent)}));$=b.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",y,{item:$})&&y.originalEvent&&/^key/.test(y.originalEvent.type)&&this._value($.value),(_=b.item.attr("aria-label")||$.value)&&m.trim(_).length&&(this.liveRegion.children().hide(),m("<div>").text(_).appendTo(this.liveRegion))},menuselect:function menuselect(y,b){var _=b.item.data("ui-autocomplete-item"),$=this.previous;this.element[0]!==m.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=$,this._delay((function(){this.previous=$,this.selectedItem=_}))),!1!==this._trigger("select",y,{item:_})&&this._value(_.value),this.term=this._value(),this.close(y),this.selectedItem=_}}),this.liveRegion=m("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function beforeunload(){this.element.removeAttr("autocomplete")}})},_destroy:function _destroy(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function _setOption(m,y){this._super(m,y),"source"===m&&this._initSource(),"appendTo"===m&&this.menu.element.appendTo(this._appendTo()),"disabled"===m&&y&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function _isEventTargetInWidget(y){var b=this.menu.element[0];return y.target===this.element[0]||y.target===b||m.contains(b,y.target)},_closeOnClickOutside:function _closeOnClickOutside(m){this._isEventTargetInWidget(m)||this.close()},_appendTo:function _appendTo(){var y=this.options.appendTo;return y&&(y=y.jquery||y.nodeType?m(y):this.document.find(y).eq(0)),y&&y[0]||(y=this.element.closest(".ui-front, dialog")),y.length||(y=this.document[0].body),y},_initSource:function _initSource(){var y,b,_=this;m.isArray(this.options.source)?(y=this.options.source,this.source=function(b,_){_(m.ui.autocomplete.filter(y,b.term))}):"string"==typeof this.options.source?(b=this.options.source,this.source=function(y,$){_.xhr&&_.xhr.abort(),_.xhr=m.ajax({url:b,data:y,dataType:"json",success:function success(m){$(m)},error:function error(){$([])}})}):this.source=this.options.source},_searchTimeout:function _searchTimeout(m){clearTimeout(this.searching),this.searching=this._delay((function(){var y=this.term===this._value(),b=this.menu.element.is(":visible"),_=m.altKey||m.ctrlKey||m.metaKey||m.shiftKey;y&&(!y||b||_)||(this.selectedItem=null,this.search(null,m))}),this.options.delay)},search:function search(m,y){return m=null!=m?m:this._value(),this.term=this._value(),m.length<this.options.minLength?this.close(y):!1!==this._trigger("search",y)?this._search(m):void 0},_search:function _search(m){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:m},this._response())},_response:function _response(){var y=++this.requestIndex;return m.proxy((function(m){y===this.requestIndex&&this.__response(m),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}),this)},__response:function __response(m){m&&(m=this._normalize(m)),this._trigger("response",null,{content:m}),!this.options.disabled&&m&&m.length&&!this.cancelSearch?(this._suggest(m),this._trigger("open")):this._close()},close:function close(m){this.cancelSearch=!0,this._close(m)},_close:function _close(m){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",m))},_change:function _change(m){this.previous!==this._value()&&this._trigger("change",m,{item:this.selectedItem})},_normalize:function _normalize(y){return y.length&&y[0].label&&y[0].value?y:m.map(y,(function(y){return"string"==typeof y?{label:y,value:y}:m.extend({},y,{label:y.label||y.value,value:y.value||y.label})}))},_suggest:function _suggest(y){var b=this.menu.element.empty();this._renderMenu(b,y),this.isNewMenu=!0,this.menu.refresh(),b.show(),this._resizeMenu(),b.position(m.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function _resizeMenu(){var m=this.menu.element;m.outerWidth(Math.max(m.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function _renderMenu(y,b){var _=this;m.each(b,(function(m,b){_._renderItemData(y,b)}))},_renderItemData:function _renderItemData(m,y){return this._renderItem(m,y).data("ui-autocomplete-item",y)},_renderItem:function _renderItem(y,b){return m("<li>").append(m("<div>").text(b.label).attr("data-type",b.type)).appendTo(y)},_move:function _move(m,y){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(m)||this.menu.isLastItem()&&/^next/.test(m)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[m](y);this.search(null,y)},widget:function widget(){return this.menu.element},_value:function _value(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function _keyEvent(m,y){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(m,y),y.preventDefault())},_isContentEditable:function _isContentEditable(m){if(!m.length)return!1;var y=m.prop("contentEditable");return"inherit"===y?this._isContentEditable(m.parent()):"true"===y}}),m.extend(m.ui.autocomplete,{escapeRegex:function escapeRegex(m){return m.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function filter(y,b){var _=new RegExp(m.ui.autocomplete.escapeRegex(b),"i");return m.grep(y,(function(m){return _.test(m.label||m.value||m)}))}}),m.widget("ui.autocomplete",m.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function results(m){return m+(m>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function __response(y){var b;this._superApply(arguments),this.options.disabled||this.cancelSearch||(b=y&&y.length?this.options.messages.results(y.length):this.options.messages.noResults,this.liveRegion.children().hide(),m("<div>").text(b).appendTo(this.liveRegion))}}),m.ui.autocomplete,
/*!
  * jQuery UI Tooltip 1.12.1
  * http://jqueryui.com
  *
  * Copyright jQuery Foundation and other contributors
  * Released under the MIT license.
  * http://jquery.org/license
  */
m.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function content(){var y=m(this).attr("title")||"";return m("<a>").text(y).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function _addDescribedBy(y,b){var _=(y.attr("aria-describedby")||"").split(/\s+/);_.push(b),y.data("ui-tooltip-id",b).attr("aria-describedby",m.trim(_.join(" ")))},_removeDescribedBy:function _removeDescribedBy(y){var b=y.data("ui-tooltip-id"),_=(y.attr("aria-describedby")||"").split(/\s+/),$=m.inArray(b,_);-1!==$&&_.splice($,1),y.removeData("ui-tooltip-id"),(_=m.trim(_.join(" ")))?y.attr("aria-describedby",_):y.removeAttr("aria-describedby")},_create:function _create(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=m("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=m([])},_setOption:function _setOption(y,b){var _=this;this._super(y,b),"content"===y&&m.each(this.tooltips,(function(m,y){_._updateContent(y.element)}))},_setOptionDisabled:function _setOptionDisabled(m){this[m?"_disable":"_enable"]()},_disable:function _disable(){var y=this;m.each(this.tooltips,(function(b,_){var $=m.Event("blur");$.target=$.currentTarget=_.element[0],y.close($,!0)})),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter((function(){var y=m(this);if(y.is("[title]"))return y.data("ui-tooltip-title",y.attr("title")).removeAttr("title")})))},_enable:function _enable(){this.disabledTitles.each((function(){var y=m(this);y.data("ui-tooltip-title")&&y.attr("title",y.data("ui-tooltip-title"))})),this.disabledTitles=m([])},open:function open(y){var b=this,_=m(y?y.target:this.element).closest(this.options.items);_.length&&!_.data("ui-tooltip-id")&&(_.attr("title")&&_.data("ui-tooltip-title",_.attr("title")),_.data("ui-tooltip-open",!0),y&&"mouseover"===y.type&&_.parents().each((function(){var y,_=m(this);_.data("ui-tooltip-open")&&((y=m.Event("blur")).target=y.currentTarget=this,b.close(y,!0)),_.attr("title")&&(_.uniqueId(),b.parents[this.id]={element:this,title:_.attr("title")},_.attr("title",""))})),this._registerCloseHandlers(y,_),this._updateContent(_,y))},_updateContent:function _updateContent(m,y){var b,_=this.options.content,$=this,C=y?y.type:null;if("string"==typeof _||_.nodeType||_.jquery)return this._open(y,m,_);(b=_.call(m[0],(function(b){$._delay((function(){m.data("ui-tooltip-open")&&(y&&(y.type=C),this._open(y,m,b))}))})))&&this._open(y,m,b)},_open:function _open(y,b,_){var $,C,D,I,M=m.extend({},this.options.position);function position(m){M.of=m,C.is(":hidden")||C.position(M)}_&&(($=this._find(b))?$.tooltip.find(".ui-tooltip-content").html(_):(b.is("[title]")&&(y&&"mouseover"===y.type?b.attr("title",""):b.removeAttr("title")),$=this._tooltip(b),C=$.tooltip,this._addDescribedBy(b,C.attr("id")),C.find(".ui-tooltip-content").html(_),this.liveRegion.children().hide(),(I=m("<div>").html(C.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),I.removeAttr("id").find("[id]").removeAttr("id"),I.appendTo(this.liveRegion),this.options.track&&y&&/^mouse/.test(y.type)?(this._on(this.document,{mousemove:position}),position(y)):C.position(m.extend({of:b},this.options.position)),C.hide(),this._show(C,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(D=this.delayedShow=setInterval((function(){C.is(":visible")&&(position(M.of),clearInterval(D))}),m.fx.interval)),this._trigger("open",y,{tooltip:C})))},_registerCloseHandlers:function _registerCloseHandlers(y,b){var _={keyup:function keyup(y){if(y.keyCode===m.ui.keyCode.ESCAPE){var _=m.Event(y);_.currentTarget=b[0],this.close(_,!0)}}};b[0]!==this.element[0]&&(_.remove=function(){this._removeTooltip(this._find(b).tooltip)}),y&&"mouseover"!==y.type||(_.mouseleave="close"),y&&"focusin"!==y.type||(_.focusout="close"),this._on(!0,b,_)},close:function close(y){var b,_=this,$=m(y?y.currentTarget:this.element),C=this._find($);C?(b=C.tooltip,C.closing||(clearInterval(this.delayedShow),$.data("ui-tooltip-title")&&!$.attr("title")&&$.attr("title",$.data("ui-tooltip-title")),this._removeDescribedBy($),C.hiding=!0,b.stop(!0),this._hide(b,this.options.hide,(function(){_._removeTooltip(m(this))})),$.removeData("ui-tooltip-open"),this._off($,"mouseleave focusout keyup"),$[0]!==this.element[0]&&this._off($,"remove"),this._off(this.document,"mousemove"),y&&"mouseleave"===y.type&&m.each(this.parents,(function(y,b){m(b.element).attr("title",b.title),delete _.parents[y]})),C.closing=!0,this._trigger("close",y,{tooltip:b}),C.hiding||(C.closing=!1))):$.removeData("ui-tooltip-open")},_tooltip:function _tooltip(y){var b=m("<div>").attr("role","tooltip"),_=m("<div>").appendTo(b),$=b.uniqueId().attr("id");return this._addClass(_,"ui-tooltip-content"),this._addClass(b,"ui-tooltip","ui-widget ui-widget-content"),b.appendTo(this._appendTo(y)),this.tooltips[$]={element:y,tooltip:b}},_find:function _find(m){var y=m.data("ui-tooltip-id");return y?this.tooltips[y]:null},_removeTooltip:function _removeTooltip(m){m.remove(),delete this.tooltips[m.attr("id")]},_appendTo:function _appendTo(m){var y=m.closest(".ui-front, dialog");return y.length||(y=this.document[0].body),y},_destroy:function _destroy(){var y=this;m.each(this.tooltips,(function(b,_){var $=m.Event("blur"),C=_.element;$.target=$.currentTarget=C[0],y.close($,!0),m("#"+b).remove(),C.data("ui-tooltip-title")&&(C.attr("title")||C.attr("title",C.data("ui-tooltip-title")),C.removeData("ui-tooltip-title"))})),this.liveRegion.remove()}}),!1!==m.uiBackCompat&&m.widget("ui.tooltip",m.ui.tooltip,{options:{tooltipClass:null},_tooltip:function _tooltip(){var m=this._superApply(arguments);return this.options.tooltipClass&&m.tooltip.addClass(this.options.tooltipClass),m}}),m.ui.tooltip})?_.apply(y,$):_)||(m.exports=C)},function(m,y){
/*!
Waypoints - 4.0.1
Copyright  2011-2016 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/
!function(){"use strict";function t(b){if(!b)throw new Error("No options passed to Waypoint constructor");if(!b.element)throw new Error("No element option passed to Waypoint constructor");if(!b.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+m,this.options=t.Adapter.extend({},t.defaults,b),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=b.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),y[this.key]=this,m+=1}var m=0,y={};t.prototype.queueTrigger=function(m){this.group.queueTrigger(this,m)},t.prototype.trigger=function(m){this.enabled&&this.callback&&this.callback.apply(this,m)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete y[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(m){var b=[];for(var _ in y)b.push(y[_]);for(var $=0,C=b.length;C>$;$++)b[$][m]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){for(var m in t.Context.refreshAll(),y)y[m].enabled=!0;return this},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function bottomInView(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function rightInView(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(m){window.setTimeout(m,1e3/60)}function e(_){this.element=_,this.Adapter=b.Adapter,this.adapter=new this.Adapter(_),this.key="waypoint-context-"+m,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},_.waypointContextKey=this.key,y[_.waypointContextKey]=this,m+=1,b.windowContext||(b.windowContext=!0,b.windowContext=new e(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var m=0,y={},b=window.Waypoint,_=window.onload;e.prototype.add=function(m){var y=m.options.horizontal?"horizontal":"vertical";this.waypoints[y][m.key]=m,this.refresh()},e.prototype.checkEmpty=function(){var m=this.Adapter.isEmptyObject(this.waypoints.horizontal),b=this.Adapter.isEmptyObject(this.waypoints.vertical),_=this.element==this.element.window;m&&b&&!_&&(this.adapter.off(".waypoints"),delete y[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){m.handleResize(),m.didResize=!1}var m=this;this.adapter.on("resize.waypoints",(function(){m.didResize||(m.didResize=!0,b.requestAnimationFrame(t))}))},e.prototype.createThrottledScrollHandler=function(){function t(){m.handleScroll(),m.didScroll=!1}var m=this;this.adapter.on("scroll.waypoints",(function(){(!m.didScroll||b.isTouch)&&(m.didScroll=!0,b.requestAnimationFrame(t))}))},e.prototype.handleResize=function(){b.Context.refreshAll()},e.prototype.handleScroll=function(){var m={},y={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var b in y){var _=y[b],$=_.newScroll>_.oldScroll?_.forward:_.backward;for(var C in this.waypoints[b]){var D=this.waypoints[b][C];if(null!==D.triggerPoint){var I=_.oldScroll<D.triggerPoint,M=_.newScroll>=D.triggerPoint;(I&&M||!I&&!M)&&(D.queueTrigger($),m[D.group.id]=D.group)}}}for(var P in m)m[P].flushTriggers();this.oldScroll={x:y.horizontal.newScroll,y:y.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?b.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(m){delete this.waypoints[m.axis][m.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?b.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var m=[];for(var y in this.waypoints)for(var b in this.waypoints[y])m.push(this.waypoints[y][b]);for(var _=0,$=m.length;$>_;_++)m[_].destroy()},e.prototype.refresh=function(){var m,y=this.element==this.element.window,_=y?void 0:this.adapter.offset(),$={};for(var C in this.handleScroll(),m={horizontal:{contextOffset:y?0:_.left,contextScroll:y?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:y?0:_.top,contextScroll:y?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var D=m[C];for(var I in this.waypoints[C]){var M,P,R,N,U=this.waypoints[C][I],H=U.options.offset,B=U.triggerPoint,z=0,q=null==B;U.element!==U.element.window&&(z=U.adapter.offset()[D.offsetProp]),"function"==typeof H?H=H.apply(U):"string"==typeof H&&(H=parseFloat(H),U.options.offset.indexOf("%")>-1&&(H=Math.ceil(D.contextDimension*H/100))),M=D.contextScroll-D.contextOffset,U.triggerPoint=Math.floor(z+M-H),P=B<D.oldScroll,R=U.triggerPoint>=D.oldScroll,N=!P&&!R,!q&&(P&&R)?(U.queueTrigger(D.backward),$[U.group.id]=U.group):(!q&&N||q&&D.oldScroll>=U.triggerPoint)&&(U.queueTrigger(D.forward),$[U.group.id]=U.group)}}return b.requestAnimationFrame((function(){for(var m in $)$[m].flushTriggers()})),this},e.findOrCreateByElement=function(m){return e.findByElement(m)||new e(m)},e.refreshAll=function(){for(var m in y)y[m].refresh()},e.findByElement=function(m){return y[m.waypointContextKey]},window.onload=function(){_&&_(),e.refreshAll()},b.requestAnimationFrame=function(m){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t).call(window,m)},b.Context=e}(),function(){"use strict";function t(m,y){return m.triggerPoint-y.triggerPoint}function e(m,y){return y.triggerPoint-m.triggerPoint}function i(y){this.name=y.name,this.axis=y.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),m[this.axis][this.name]=this}var m={vertical:{},horizontal:{}},y=window.Waypoint;i.prototype.add=function(m){this.waypoints.push(m)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var m in this.triggerQueues){var y=this.triggerQueues[m],b="up"===m||"left"===m;y.sort(b?e:t);for(var _=0,$=y.length;$>_;_+=1){var C=y[_];(C.options.continuous||_===y.length-1)&&C.trigger([m])}}this.clearTriggerQueues()},i.prototype.next=function(m){this.waypoints.sort(t);var b=y.Adapter.inArray(m,this.waypoints);return b===this.waypoints.length-1?null:this.waypoints[b+1]},i.prototype.previous=function(m){this.waypoints.sort(t);var b=y.Adapter.inArray(m,this.waypoints);return b?this.waypoints[b-1]:null},i.prototype.queueTrigger=function(m,y){this.triggerQueues[y].push(m)},i.prototype.remove=function(m){var b=y.Adapter.inArray(m,this.waypoints);b>-1&&this.waypoints.splice(b,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(y){return m[y.axis][y.name]||new i(y)},y.Group=i}(),function(){"use strict";function t(y){this.$element=m(y)}var m=window.jQuery,y=window.Waypoint;m.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],(function(m,y){t.prototype[y]=function(){var m=Array.prototype.slice.call(arguments);return this.$element[y].apply(this.$element,m)}})),m.each(["extend","inArray","isEmptyObject"],(function(y,b){t[b]=m[b]})),y.adapters.push({name:"jquery",Adapter:t}),y.Adapter=t}(),function(){"use strict";function t(y){return function(){var b=[],_=arguments[0];return y.isFunction(arguments[0])&&((_=y.extend({},arguments[1])).handler=arguments[0]),this.each((function(){var $=y.extend({},_,{element:this});"string"==typeof $.context&&($.context=y(this).closest($.context)[0]),b.push(new m($))})),b}}var m=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}()},function(m,y){
/*!
Waypoints Inview Shortcut - 4.0.1
Copyright  2011-2016 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/
!function(){"use strict";function noop(){}var m=window.Waypoint;function Inview(y){this.options=m.Adapter.extend({},Inview.defaults,y),this.axis=this.options.horizontal?"horizontal":"vertical",this.waypoints=[],this.element=this.options.element,this.createWaypoints()}Inview.prototype.createWaypoints=function(){for(var m={vertical:[{down:"enter",up:"exited",offset:"100%"},{down:"entered",up:"exit",offset:"bottom-in-view"},{down:"exit",up:"entered",offset:0},{down:"exited",up:"enter",offset:function offset(){return-this.adapter.outerHeight()}}],horizontal:[{right:"enter",left:"exited",offset:"100%"},{right:"entered",left:"exit",offset:"right-in-view"},{right:"exit",left:"entered",offset:0},{right:"exited",left:"enter",offset:function offset(){return-this.adapter.outerWidth()}}]},y=0,b=m[this.axis].length;y<b;y++){var _=m[this.axis][y];this.createWaypoint(_)}},Inview.prototype.createWaypoint=function(y){var b=this;this.waypoints.push(new m({context:this.options.context,element:this.options.element,enabled:this.options.enabled,handler:function(m){return function(y){b.options[m[y]].call(b,y)}}(y),offset:y.offset,horizontal:this.options.horizontal}))},Inview.prototype.destroy=function(){for(var m=0,y=this.waypoints.length;m<y;m++)this.waypoints[m].destroy();this.waypoints=[]},Inview.prototype.disable=function(){for(var m=0,y=this.waypoints.length;m<y;m++)this.waypoints[m].disable()},Inview.prototype.enable=function(){for(var m=0,y=this.waypoints.length;m<y;m++)this.waypoints[m].enable()},Inview.defaults={context:window,enabled:!0,enter:noop,entered:noop,exit:noop,exited:noop},m.Inview=Inview}()},function(m,y,b){var _,$,C;b(2);$=[b(0)],void 0===(C="function"==typeof(_=function(m){var y=/\+/g;function encode(m){return b.raw?m:encodeURIComponent(m)}function decode(m){return b.raw?m:decodeURIComponent(m)}function stringifyCookieValue(m){return encode(b.json?JSON.stringify(m):String(m))}function read(_,$){var C=b.raw?_:function parseCookieValue(m){0===m.indexOf('"')&&(m=m.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return m=decodeURIComponent(m.replace(y," ")),b.json?JSON.parse(m):m}catch(m){}}(_);return m.isFunction($)?$(C):C}var b=m.cookie=function(y,_,$){if(arguments.length>1&&!m.isFunction(_)){if("number"==typeof($=m.extend({},b.defaults,$)).expires){var C=$.expires,D=$.expires=new Date;D.setMilliseconds(D.getMilliseconds()+864e5*C)}return document.cookie=[encode(y),"=",stringifyCookieValue(_),$.expires?"; expires="+$.expires.toUTCString():"",$.path?"; path="+$.path:"",$.domain?"; domain="+$.domain:"",$.secure?"; secure":""].join("")}for(var I=y?void 0:{},M=document.cookie?document.cookie.split("; "):[],P=0,R=M.length;P<R;P++){var N=M[P].split("="),U=decode(N.shift()),H=N.join("=");if(y===U){I=read(H,_);break}y||void 0===(H=read(H))||(I[U]=H)}return I};b.defaults={},m.removeCookie=function(y,b){return m.cookie(y,"",m.extend({},b,{expires:-1})),!m.cookie(y)}})?_.apply(y,$):_)||(m.exports=C)},function(m,y){var b,_,C,D,I,M,P,R;b=!1,_=$(".w-slide__btn"),C=$(".w-slide__back"),D="",I=document.querySelector(".article--latest"),M=null,P=null,R=!1,UX.slide.init=function(){UX.slide.setHeaderStructure(),UX.slide.$elements=$(UX.slide.$slide),UX.slide.replaceSlideHeader(),UX.slide.displaySlideHtmlToPage(),UX.slide.$contents=UX.slide.$elements.find(".w-slide__content"),UX.slide.$slideinfo=UX.slide.$elements.find(".w-slide__title"),UX.slide.$back=UX.slide.$elements.find(".w-slide__back"),UX.slide.$toggle=$(".w-slide__btn"),UX.slide.elementvPort=UX.slide.vPort,UX.slide.vPort=[],UX.slide.customViewPorts(),UX.slide.$toggle.each((function(m){UX.slide.check.viewPort($(this),m),UX.slide.responsive(m)})),UX.slide.additionalInitialization(),UX.slide.control(),UX.slide.additionalControls(),UX.slide.addEventListeners(),"undefined"!=typeof facetDateChart&&facetDateChart.control(),UX.utils&&UX.utils.isRTL()&&(UX.slide.isRTL=!0)},UX.slide.setBackLabel=function(){UX.slide.$back.html(P)},UX.slide.setHeaderStructure=function(){I?(UX.slide.$slide='\n                <div class="w-slide">\n                    <div class="w-slide_head">\n                        <div class="w-slide_head__left">\n                            <a href="#" class="w-slide__back">\n                                <i class="icon-arrow_l" aria-hidden="hidden"></i>\n                                <span>'.concat(UX.slide.backLabel,'</span>\n                            </a>\n                        </div>\n                        <div class="w-slide_head__center">\n                            <span class="w-slide__title"></span>\n                        </div>\n                        <div class="w-slide_head__right"></div>\n                    </div>\n                    <div class="w-slide__content"></div>\n                </div>\n                '),M="\n                <a href='#' class='w-slide__close'>\n                    <i class='icon-pub-close' aria-hidden='true'></i>\n                    <span>Close</span>\n                </a>",P='\n                <i class="icon-arrow_l" aria-hidden="true"></i>\n                <span>'.concat(UX.slide.backLabel,"</span>\n            ")):(UX.slide.$slide='\n                <div class="w-slide">\n                    <div class="w-slide_head">\n                        <a href="#" class="w-slide__back">\n                            <i class="icon-arrow_l" aria-hidden="true"></i>\n                            <span class=\'sr-only\'>'.concat(UX.slide.backLabel,'</span>\n                        </a>\n                        <span class="w-slide__title"></span>\n                    </div>\n                    <div class="w-slide__content"></div>\n                </div>\n            '),M="\n                <a href='#' class='w-slide__close'>\n                    <i class='icon-close' aria-hidden='true'></i>\n                </a>\n            ",P='\n                <i class=" icon-arrow_l" aria-hidden="true"></i>\n                '.concat(UX.slide.backLabel,"\n            "))},UX.slide.additionalControls=function(){I&&UX.slide.$elements.addClass("article__w-slide")},UX.slide.replaceSlideHeader=function(){var m=$(".header_article-logo").clone(),y=$(".header_article-share .share").clone();UX.slide.$elements.find(".w-slide_head__left").append(m),UX.slide.$elements.find(".w-slide_head__right").append(y)},UX.slide.on.hide=function(m){if(UX.slide.$slideinfo.hide().removeClass("js--open"),R=!!m.target.closest(".w-slide__btn"),UX.slide.handleNestedLayers(),void 0!==m&&($(m.target).closest(".w-slide").length||(UX.slide.back=!0)),UX.slide.back){UX.slide.nested=!0,0==UX.slide.activeSlide?(UX.slide.nested=!1,UX.slide.$contents=UX.slide.$elements.children(".w-slide__content")):UX.slide.$contents=$(".nested--"+UX.slide.activeSlide),UX.slide.on.destroyJcf(UX.slide.$contents);var y=$(UX.slide.$contents.attr("original-target"));y||(y=$("body")),UX.slide.$elements.find(".loi").length>0?($(".dropBlock-loi__holder").append(UX.slide.$contents.html()),$(".dropBlock-loi__holder").find(".loi__list").each((function(){UX.loi.on.recalculate($(this))}))):(UX.slide.$contents.find("[class*=nested--]").length&&UX.slide.$contents.find("[class*=nested--]").remove(),"self"==UX.slide.clone?UX.slide.nested||UX.slide.multi?($(".returnNestedDataSlideHere").after(UX.slide.$contents.html()),$(".returnNestedDataSlideHere").remove()):($(".returnDataSlideHere").after(UX.slide.$contents.html()),$(".returnDataSlideHere").remove()):UX.slide.nested||UX.slide.multi?($(".returnNestedDataSlideHere",y).after(UX.slide.$contents.html()),$(".returnNestedDataSlideHere",y).remove()):($(".returnDataSlideHere",y).after(UX.slide.$contents.html()),$(".returnDataSlideHere",y).remove()),UX.slide.on.rebuildJcf(y)),UX.slide.oldInfo.splice(UX.slide.activeSlide,1),UX.slide.$slideinfo.html(UX.slide.oldInfo[UX.slide.activeSlide-1]),UX.slide.$toggle&&UX.slide.$toggle.focus(),UX.slide.nested?(UX.slide.activeSlide--,UX.slide.on._hideSlide(),UX.slide.multi&&UX.slide.$contents.remove(),UX.slide.$contents=$(".nested--"+UX.slide.activeSlide),0==UX.slide.activeSlide&&(UX.slide.$contents=UX.slide.$elements.children(".w-slide__content"))):(UX.slide.activeSlide=0,$("body, html").removeClass("lock-screen"),$("body").removeClass("lock-screen").removeAttr("data-active"),$(".coolBar").length&&$(".coolBar").removeClass("slide"),UX.slide.on._hideSlide(),UX.slide.$elements.removeClass("js--open")),UX.slide.$slideinfo.show().addClass("js--open")}if(UX.slide.backLabel="back",UX.slide.setBackLabel(),UX.slide.on.additionalHide(m),UX.slide.$elements.hasClass("w-slide__pill")){for(;UX.slide.activeSlide>0;)UX.slide.on.hide();0==UX.slide.activeSlide&&($(".pill-section").removeClass("js--open"),UX.slide.on.off())}},UX.slide.handleNestedLayers=function(){R?$(".w-slide_head").addClass("nested"):$(".w-slide_head").removeClass("nested")},UX.slide.controlACS=function(){$(document).on(UX.slide.vPort["screen-sm"]+"-on",(function(){b=!0})),$(document).on(UX.slide.vPort["screen-sm"]+"-off",(function(){b=!1})),_.click((function(){!0===b&&freezePage(),I&&(R=!1,UX.slide.handleNestedLayers()),""===D&&((D=$(".w-slide_head__right")).append(M),D.find(".w-slide__close").unbind("click"),$(".w-slide__close").click((function(m){m.preventDefault(),UX.slide.on.off(),$(".w-slide__back").trigger("click"),$(".w-slide__back").trigger("click")})))})),C.click((function(){unfreezePage()}))},UX.slide.addEventListeners=function(){var m=document.querySelectorAll(".w-slide .share__ctrl"),y=document.querySelectorAll(".w-slide .article__jump__link");m.forEach((function(m){null==m||m.addEventListener("click",UX.loader.hadnleTooltipIconClick)})),y.forEach((function(m){null==m||m.addEventListener("click",UX.slide.handleJumpToClick),null==m||m.addEventListener("keyup",UX.slide.handleJumpToClick)}))},UX.slide.handleJumpToClick=function(m){1!==m.which&&13!==m.which||document.querySelector(".w-slide__close").click()}},function(m,y){var b,_,C;b=$(document),_=$("body"),C={init:function init(){C.control()},on:{focus:function focus(m){var y=$(".figure-viewer_close"),b=$(".achs-mendeley_close"),_=$(".achs-mendeley_alert_close");if(27===m.keyCode){unfreezePage(),y.click();var C=$(".achs-mendeley_alert");"block"===C.css("display")?_.click():"block"===$(".achs-mendeley").css("display")&&"none"===C.css("display")&&b.click()}},show:function show(m,y){if("BODY"!==y.tagName){var b=$(y).find(":tabbable:not([readonly])");if(_.hasClass("acs_freeze-page")||_.hasClass("modal-open")){var C=b.first(),D=b.last();C.is(m.target)&&m.shiftKey&&9===m.keyCode&&window.innerWidth>=UX.grid.screenMd&&b.length>1&&(m.preventDefault(),D.focus()),D.is(m.target)&&!1===m.shiftKey&&13!==m.which&&b.length>1&&(m.preventDefault(),C.focus())}}},click:function click(m){var y=$(m.target),b=y.closest(".topical-index_column").next().find(".topical-index_upBtn").is(":visible");13===m.which&&(y.is(":last-child")||(b?y.closest(".topical-index_column").next().find(".topical-index_upBtn").focus():y.closest(".topical-index_column").next().find(".topical-index_column-cont-scroll li a").first().focus()))}},control:function control(){var m=$(".ref, .internalNav, .ext-link, .article_sections-dropBlock a, .useLabel a, .extLink, .article_content-row a");_.on("keydown",(function(m){var y;C.on.focus(m),C.on.show(m,this),null!==(y=m.target)&&void 0!==y&&y.classList.contains("topical-index_parent-link")||C.on.click(m)})),b.on("keydown",".loop-trap,.recentlyViewed",(function(m){C.on.show(m,this)})),m.keyup((function(m){if(9===m.which&&m.shiftKey){var y=$(this),b=y.offset().top,_=$("header").offset().top,C=$(".header_content").height();b>_+200||$("html, body").animate({scrollTop:y.offset().top-C},300)}}))}},UX.accessibility=C},function(m,y){$(document).ready((function(){setTimeout((function(){var m=$(".ui-autocomplete-input"),y=$("ul.ui-autocomplete");m.length&&(m.on("autocompletesearch",(function(m,b){y.scrollTop(0)})),m.on("autocompleteopen",(function(m,b){y.scrollTop(0)})))}),1e3)}))},function(m,y){var b;b=0,$("body").keyup((function(m){var y=m.keyCode||m.which;9!==y&&32!==y&&"13"!==y||($(".acs-focus").removeClass("acs-focus"),$(":focus").addClass("acs-focus")),32===y&&$(":focus").hasClass("read-less")&&++b>=2&&(b=0,setTimeout((function(){$(".acs-focus").removeClass("acs-focus")}),200))})).click((function(){$(".acs-focus").removeClass("acs-focus")})),disableHistoryDateLabel=function disableHistoryDateLabel(){$(".historyDate").click((function(){return!1}))},$(window).scroll((function(){var m,y,b,_,C,D,I;window.matchMedia("only screen and (max-width: 760px)").matches||(calcStickyTabPosition(),$(".styleguide-toc-rightTab").length>0&&($stickyQVHeader=new Waypoint({element:$(".styleguide-toc-page")[0],handler:function handler(M){"down"===M?(m=$(".styleguide-toc-page"),y=$(window).scrollTop(),b=y+$(window).height(),_=m.offset().top,C=_+m.outerHeight(),D=_<y?y:_,I=C>b?b:C,$(".styleguide-toc-rightTab").addClass("styleguide-toc-rightTab-sticky"),$(".styleguide-toc-rightTab").css({marginTop:"24px",right:"40px",top:"110px",height:I-D-150})):"up"===M&&(m=$(".styleguide-toc-page"),y=$(window).scrollTop(),b=y+$(window).height(),_=m.offset().top,C=_+m.outerHeight(),D=_<y?y:_,I=C>b?b:C,$(".styleguide-toc-rightTab").removeClass("styleguide-toc-rightTab-sticky"),$(".styleguide-toc-rightTab").css({marginTop:"24px",right:"40px",top:"auto",height:I-D-150}))},offset:94})))})),calcStickyTabPosition=function calcStickyTabPosition(){var m,y,b;$(".styleguide-toc-rightTab").length>0&&(m=$(".footer").offset().top,y=$(window).height(),(b=$(window).scrollTop())>m-y?Math.abs(y-(Math.abs(m-y-b)+$(".styleguideHeader").height()))<$(".styleguide-toc-rightTab").height()&&($(".styleguide-toc-rightTab").css("bottom",Math.abs(m-y-b)),$(".styleguide-toc-rightTab").addClass("rightTabStickyBottomClass")):($(".styleguide-toc-rightTab").css("bottom","auto"),$(".styleguide-toc-rightTab").removeClass("rightTabStickyBottomClass")))},scrollToHash=function scrollToHash(){var m=window.location.hash.substr(1),y=$("#"+m),b=$("header.header");y.length>0&&$("html, body").animate({scrollTop:y.offset().top-b.height()},1e3)},scrollToSpecificElementId=function scrollToSpecificElementId(m){var y=$("#"+m),b=$("header.header");y.length>0&&$("html, body").animate({scrollTop:y.offset().top-b.height()},100)},scrollToSpecificElementWithClass=function scrollToSpecificElementWithClass(m){var y=$("header.header");scrollToSpecificElementWithClassImpl(m,y.height())},scrollToSpecificElementWithClassImpl=function scrollToSpecificElementWithClassImpl(m,y){var b=$("."+m);b.length>0&&$("html, body").animate({scrollTop:b.offset().top-y},1e3)},freezePage=function freezePage(){$("body").addClass("acs_freeze-page")},unfreezePage=function unfreezePage(){$("body").removeClass("acs_freeze-page")},calcMainContentHeight=function calcMainContentHeight(){var m=$("main.content"),y=$("header.header"),b=$("footer.footer");m.css("minHeight",$(window).height()-(y.height()+b.height()))},ajaxOverlay=function ajaxOverlay(m){$(m).addClass("acs_ajaxOverlay")},removeAjaxOverlay=function removeAjaxOverlay(m){$(m).removeClass("acs_ajaxOverlay")},fixInternalPageNavigation=function fixInternalPageNavigation(){var m,y;$("a.internalNav, img.rightTab-fig").each((function(){$(this).click((function(b){b.preventDefault(),b.stopPropagation(),(m=$(this).attr("href"))||(m="#"+$(this).parent().data("id")),y=$(m).offset().top,scrollToElement(y,m)}))}))},scrollToElement=function scrollToElement(m,y){var b,_=15;$("header.header").length>0&&($(".header_article").length>0&&"#Abstract"===y&&(m=$(".article_abstract").offset().top),b=$("header.header").height()+10,$(this).attr("data-scrollDuration")&&(_=1e3),$("html,body").animate({scrollTop:m-b},_))},debounce=function debounce(m,y,b){var _;return function(){var $=this,C=arguments,D=function later(){_=null,b||m.apply($,C)},I=b&&!_;clearTimeout(_),_=setTimeout(D,y),I&&m.apply($,C)}},getUrlParameter=function getUrlParameter(m){var y,b,_=window.location.search.substring(1).split("&"),$="";for(b=0;b<_.length;b++)(y=_[b].split("="))[0]===m&&(""!==$?$+=void 0===y[1]||decodeURIComponent(y[1]):$=void 0===y[1]||decodeURIComponent(y[1]));return $},addNewUpdatedBadge=function addNewUpdatedBadge(){var m,y,b,_,C,D,I,M,P,R,N=0,U=0,H=0;if($(".styleguide-toc-page").length)for(C=(m=document.querySelectorAll(".chapter-container")).length,y=0;y<C;y++)if(N=m[y].getElementsByClassName("section-container").length,U=m[y].getElementsByClassName("newbadge").length,H=m[y].getElementsByClassName("updatedbadge").length,N>0&&U===N){for(D=m[y].getElementsByClassName("newbadge"),b=0;b<D.length;b++)D[b].hidden=!0;(I=document.createElement("span")).setAttribute("class","historyDate"),(M=document.createElement("span")).innerHTML="New",M.setAttribute("class","newbadge"),I.appendChild(M),m[y].getElementsByClassName("chapter-container-header-title")[0].appendChild(I)}else if(N>0&&H===N){for(P=m[y].getElementsByClassName("updatedbadge"),_=0;_<P.length;_++)P[_].hidden=!0;(I=document.createElement("span")).setAttribute("class","historyDate"),(R=document.createElement("span")).innerHTML="Updated",R.setAttribute("class","updatedbadge"),I.appendChild(R),m[y].getElementsByClassName("chapter-container-header-title")[0].appendChild(I)}}},function(m,y){$(document).ready((function(){$(".buttons_group button").click((function(){$(this).parent().children("button").removeClass("button_active"),$(this).addClass("button_active")}))}))},function(m,y,b){var _,C,D,I=b(2);_=$("body"),C=!1,(D={$elements:$(".accordion"),$tabbedElements:$(".accordion-tabbed"),$controllers:$(".accordion__control"),$tabbedControllers:$(".accordion-tabbed__control"),isMobile:!1,isStickyBody:!1,vPort:"screen-sm",$responsiveElements:$("[data-accordion-vport]"),accVport:[],$responsiveTarget:[],collapseTabs:!1,collapseAccordion:!0,defaultCollapsed:!0,hideAllBoolean:!0,openedAccordion:0,hideDropBlock:!0,init:function init(){D.initResponsive(),D.logic($(".accordion-tabbed")),D.control(),D.additionalControls()},additionalControls:function additionalControls(){},control:function control(){_.on("click",".accordion__control",(function(m){m.stopImmediatePropagation(),"dropBlock"===_.attr("data-active")&&D.hideDropBlock&&UX.dropBlock.on.hide();var y=$(this).is("[data-slide-target]");if(!($(this).hasClass("external")||"undefined"!==I(y)&&!1!==y&&C)){m.preventDefault();var b=$(this);D.on.toggle.single(b),$(this).trigger("accordion:controlClick")}})),_.on("click",".accordion-tabbed__control",(function(m){var y=$(this).is("[data-slide-target]");if(!($(this).hasClass("external")||"undefined"!==I(y)&&!1!==y&&C||D.preventAccordionBehavior($(this)))){m.preventDefault();var b=$(this);D.on.toggle.tabbed(b)}})),_.on("click",".expand-all",(function(m){m.preventDefault();var y=$(this);D.on.toggle.all(y)})),$(document).on(D.vPort+"-on",(function(){C=!0})),$(document).on(D.vPort+"-off",(function(){C=!1}))},logic:function logic(m){D.hideAllBoolean&&D.hideAll(),D.$tabbedElements=m,D.$tabbedElements.each((function(){var m=$(this),y=m.closest(".accordion");y.parent("[data-default-collapsed]").length&&(D.defaultCollapsed=y.parent().data("default-collapsed")),m.find(".accordion-tabbed__tab").each((function(m){var y=$(this);if(D.defaultCollapsed||"all"===D.defaultCollapsed){if(D.preventAccordionBehavior(y))return;D.collapseTabsByDefault(this)||m!==D.openedAccordion||y.hasClass("accordion__closed")?(y.removeClass("js--open"),y.find(".accordion-tabbed__control").attr("aria-expanded","false"),y.find(".accordion-tabbed__content").hide()):(y.addClass("js--open"),y.find(".accordion-tabbed__control").attr("aria-expanded","true"),y.find(".accordion-tabbed__content").show(),y.find(".accordion-lazy").length&&D.getAccordionContent(y.find(".accordion-lazy")))}else y.addClass("js--open"),y.find(".accordion-tabbed__control").attr("aria-expanded","true"),y.find(".accordion-tabbed__content").show()}))}))},collapseTabsByDefault:function collapseTabsByDefault(){return D.collapseTabs},additionalAjaxSuccess:function additionalAjaxSuccess(m){},getCustomAjaxUrl:function getCustomAjaxUrl(m){},buildAjaxUrl:function buildAjaxUrl(m){var y;if(void 0!==m.attr("data-custom-url")&&"true"===m.attr("data-custom-url"))y=D.getCustomAjaxUrl(m);else{var b=m.attr("data-widgetid"),_=m.attr("data-dropzoneid");y="/pb/widgets/accordion/loadTab?pbContext="+encodeURIComponent($("meta[name=pbContext]").attr("content"))+"&widgetId="+b+"&dropZoneId="+_}return y},getAccordionContent:function getAccordionContent(m){var y=D.buildAjaxUrl(m),b=m.parent();$.ajax({url:y,success:function success(y){m.closest(".accordion-tabbed__tab").attr("data-ajaxLoaded","true"),m.replaceWith(y),b.find(".accordion-tabbed").length&&D.logic(b.find(".accordion-tabbed")),b.find(".accordion__spinner").remove(),D.additionalAjaxSuccess(b)},error:function error(){}})},on:{toggle:{single:function single(m){var y,b=m.next(".accordion__content");if(void 0!==m.attr("data-content-target")){var _=m.attr("data-content-target");b=$(_)}b.slideToggle(200,(function(){m.parent().hasClass("article-accordion")&&($(".article-row-left").height("auto"),D.isStickyBody=y)})),m.toggleClass("js--open");var C=m.closest(".expandable-accordion");y=!("true"===m.attr("aria-expanded")),m.attr("aria-expanded",y);var I=$.Event("accordion:expandedSingle");$(document).trigger(I,[m,b]),C.length&&D.on.checkExpandAll(m,y,C)},tabbed:function tabbed(m){var y=m.closest(".accordion-tabbed__tab"),b=m.closest(".accordion-tabbed").children(".js--open"),_=!("true"===m.attr("aria-expanded"));m.attr("aria-expanded",_);var C=m.closest(".expandable-accordion");C.length&&D.on.checkExpandAll(m,_,C),y.hasClass("js--open")?y.children(".accordion-tabbed__content").slideUp(200,(function(){m.removeClass("js--open"),y.removeClass("js--open")})):((D.collapseAccordion||D.extraCollapseAccordionCheck(y))&&b.children(".accordion-tabbed__content").slideUp(200),y.children(".accordion-tabbed__content").slideDown(200,(function(){(D.collapseAccordion||D.extraCollapseAccordionCheck(y))&&b.removeClass("js--open"),y.addClass("js--open"),"true"!==y.attr("data-ajaxLoaded")&&y.find(".accordion-lazy").length&&D.getAccordionContent(y.find(".accordion-lazy")),D.on.expanded(m);var _=$.Event("accordion:expandedTabbed");$(document).trigger(_,[m])})))},all:function all(m){var y=m.closest(".expandable-accordion"),b=!("true"===m.attr("aria-expanded"));if(m.attr("aria-expanded",b),b){y.find(".accordion-tabbed__tab").addClass("js--open"),y.find(".accordion__control, .accordion-tabbed__control").addClass("js--open").attr("aria-expanded",b),y.find(".accordion__content, .accordion-tabbed__content").slideDown(200),m.text("Hide All");var _=y.find("[data-ajaxLoaded]");_.each((function(){"true"!==_.attr("[data-ajaxLoaded]")&&_.find(".accordion-lazy").length&&D.getAccordionContent(_.find(".accordion-lazy"))}))}else y.find(".accordion-tabbed__tab").removeClass("js--open"),y.find(".accordion__control, .accordion-tabbed__control").removeClass("js--open").attr("aria-expanded",b),y.find(".accordion__content, .accordion-tabbed__content").slideUp(200),m.text("Expand All")}},expanded:function expanded(m){},checkExpandAll:function checkExpandAll(m,y,b){var _;b.length&&(_=b.find(".expand-all")),_.length&&"true"===_.attr("aria-expanded")&&(_.attr("aria-expanded",y),y?_.text("Hide All"):_.text("Expand All"))}},hideAll:function hideAll(){D.$elements.each((function(){var m=$(this);m.find(".accordion__control").attr("aria-expanded","false"),m.find(".accordion__content").hasClass("js--open")?m.find(".accordion__content").hasClass("js--open")?m.find(".accordion__control").attr("aria-expanded","true"):m.find(".accordion__content").removeClass("js--open"):m.find(".accordion__content").hide()}))},initResponsive:function initResponsive(){D.$responsiveElements.length&&D.$responsiveElements.each((function(m){D.$responsiveTarget[m]=$(this),D.accVport[m]=$(this).data("accordion-vport"),D.setViewports(m)}))},extraCollapseAccordionCheck:function extraCollapseAccordionCheck(m){return D.collapseAccordion},setViewports:function setViewports(m){$(document).on(D.accVport[m]+"-on",(function(){var y=D.$responsiveTarget[m];y.data("accordion-vport")===D.accVport[m]&&(y.addClass("accordion-vport--res"),"with-arrow"===y.data("accordion-option")&&y.addClass("accordion-with-arrow"),D.logic(D.$responsiveTarget[m].find(".accordion-tabbed")))})),$(document).on(D.accVport[m]+"-off",(function(){var y=D.$responsiveTarget[m];y.data("accordion-vport")===D.accVport[m]&&(y.removeClass("accordion-vport--res accordion-with-arrow"),y.find(".accordion-tabbed__content").show())}))}}).on.toggle.single=function(m){var y,b=m.next(".accordion__content");if(void 0!==m.attr("data-content-target")){var _=m.attr("data-content-target");b=$(_)}b.slideToggle(200,(function(){m.parent().hasClass("article-accordion")&&($(".article-row-left").height("auto"),D.isStickyBody=y)})),m.toggleClass("js--open");var C=m.closest(".expandable-accordion");y=!("true"===m.attr("aria-expanded")),m.attr("aria-expanded",y);var I=$.Event("accordion:expandedSingle");$(document).trigger(I,[m,b]),C.length&&D.on.checkExpandAll(m,y,C)},D.on.toggle.all=function(m){var y=m.closest(".expandable-accordion"),b=!("true"===m.attr("aria-expanded"));if(m.attr("aria-expanded",b),b){y.find(".accordion-tabbed__tab").addClass("js--open"),y.find(".accordion__control, .accordion-tabbed__control").addClass("js--open").attr("aria-expanded",b),y.find(".accordion__content, .accordion-tabbed__content").slideDown(200),m.text("Hide All");var _=y.find("[data-ajaxLoaded]");_.each((function(){"true"!==_.attr("[data-ajaxLoaded]")&&_.find(".accordion-lazy").length&&D.getAccordionContent(_.find(".accordion-lazy"))}))}else y.find(".accordion-tabbed__tab").removeClass("js--open"),y.find(".accordion__control, .accordion-tabbed__control").removeClass("js--open").attr("aria-expanded",b),y.find(".accordion__content, .accordion-tabbed__content").slideUp(200),m.text("Expand All")},D.preventAccordionBehavior=function(){return!0},UX.accordion=D},function(m,y){var b,_,C;b=$(window),_=$("body"),C={$controllers:$("[data-db-target-for]"),$targets:null,$controller:null,$target:null,$parents:null,$parent:null,escape:27,$container:$(".container"),switchVal:null,$section:$(".dropBlock__holder"),vPort:"screen-sm",isMobile:!1,initialized:!1,direction:"left",pop:"down",init:function init(){C.control()},control:function control(){C.initialized||(C.initialized=!0,$(document).on("click","[data-db-target-for]",(function(m){m.preventDefault(),m.stopPropagation();var y=$(this).hasClass("js--open"),b=$(this).is("[data-slide-target]"),_=$(this).data("db-sm-disable")||!1;if(C.$controller=$(this),C.find.target(),y)C.on.hide();else{if(C.isMobile&&(!1!==b||_))return;C.on.show(m)}})),$(document).on("click",".coolBar:not(.loi__banner) [data-db-target-of] a:not([data-slide-target])",(function(m){C.on.hide()})),b.on("resize",(function(){null!=C.$parent&&C.find.dimensions()})),$(document).on(C.vPort+"-on",(function(){C.isMobile=!0})),$(document).on(C.vPort+"-off",(function(){C.isMobile=!1})))},on:{show:function show(m){C.$controller.closest(".dropBlock__holder").length||void 0!==UX.controller&&UX.controller.check(m),C.$target&&(C.$controller.trigger("dropBlock:open",[C]),C.$target.addClass("js--open"),C.$controller.addClass("js--open"),_.attr("data-active","dropBlock"),C.$target.closest("[class*='sticko']").addClass("js--open"),C.switch.icon(),C.$target.find(".active :tabbable").first().focus(),C.$controller.attr({"aria-expanded":"true"}),C.$target.removeAttr("aria-hidden"),C.$target.find(".loi").length>0&&C.$target.find(".loi__list").each((function(){UX.loi.on.recalculate($(this))})),C.$controller.trigger("dropBlock:opened",[C])),C.additionalOnShow()},hide:function hide(){C.$target&&(C.$controller.trigger("dropBlock:close",[C]),C.$controller.removeClass("js--open"),C.$target.removeClass("js--open"),C.$target.attr("style")&&C.$target.removeAttr("style"),C.$target.closest("[class*='accordion-tabbed__tab']").removeClass("js--open"),C.$target.closest("[class*='sticko']").removeClass("js--open"),C.switch.back(),C.$controller.attr({"aria-expanded":"false"}),C.$target.attr({"aria-hidden":"true"}),C.$parentSection&&C.$parentSection.length?(C.$controller=$('[data-db-target-for="'+C.$parentSection.attr("data-db-target-of")+'"]'),C.find.target()):"dropBlock"===_.attr("data-active")&&(_.removeAttr("data-active"),$("body, html").removeClass("lock-screen")),C.$target&&C.$target.find("input:focus").blur(),C.$controller.trigger("dropBlock:closed",[C])),C.additionalOnHide()},escape:function escape(){null!=C.$target&&C.on.hide()}},find:{target:function target(){if($("[data-db-target-of]").length){C.$targets=$("[data-db-target-of]"),C.$target=$("[data-db-target-of="+C.$controller.attr("data-db-target-for")+"]"),C.$section=C.$target;var m=C.$section.parents(".dropBlock__holder");m.length?C.$parentSection=m:C.$parentSection=null,C.find.parent()}},parent:function parent(){C.$parent=null,C.$parents=$("[data-db-parent-of]"),C.$parents.length&&(C.$parents.each((function(){var m=C.$controller.attr("data-db-target-for");if(-1!==$(this).data("db-parent-of").split(",").indexOf(m))return C.$parent=$(this),!1})),null!=C.$parent&&(C.find.dimensions(),C.find.ifContaind()))},ifContaind:function ifContaind(){C.$parent.find(".container").length&&!C.$target.find(".container").length&&C.$target.wrapInner("<div class='container'></div>")},dimensions:function dimensions(){var m=C.$parent.outerHeight(),y=C.$parent.offset(),b=y.left,_=C.$parent.innerWidth(),D={},I=y;C.$container=$(".container"),C.$container.length&&(I=C.$container.offset());var M=I.left+C.$container.width(),P=_+b;if(C.$parent.find(".scrollThenFix").length&&(m=C.$parent.find(".scrollThenFix").outerHeight()),C.$parent.innerWidth()===C.$controller.innerWidth()&&(_=C.$parent.hasClass("no-auto-width")?"":"auto",C.isMobile&&(_=C.$parent.hasClass("no-auto-width")?"":"100%")),P>M)D={top:m,right:"0px",width:_};else{D={top:m,width:_};var R=C.$parent.data("db-direction")||C.direction;switch(R){case"left":case"right":D[R]="0px";break;case"center":var N=C.$target.innerWidth()/2-C.$parent.innerWidth();D.left="calc(-50% - ".concat(N,"px)")}}C.$target.css(D)}},switch:{icon:function icon(){switch(C.switchVal=C.$controller.attr("data-db-switch"),C.switchVal){case"none":break;case"rotate":C.$controller.find("i").addClass("js--rotated");break;default:C.$controller.find("i").addClass(C.switchVal)}},back:function back(){C.$controllers.each((function(){var m=$(this).attr("data-db-switch");switch(m){case"none":break;case"rotate":C.$controller.find("i").removeClass("js--rotated");break;default:void 0!==m&&C.$controller.find("i").removeClass(m)}}))}},additionalOnShow:function additionalOnShow(){},additionalOnHide:function additionalOnHide(){}},UX.dropBlock=C},function(m,y){$.widget("ui.slider",$.ui.slider,{options:{chart:!1},_refreshValue:function _refreshValue(){var m,y,b,_,C,D=this.options.range,I=this.options.chart,M=this.options,P=this,R=!this._animateOff&&M.animate,N={};this._hasMultipleValues()?this.handles.each((function(b){I?(0===b&&(y=(P.values(b)-P._valueMin())/(P._valueMax()-P._valueMin()+1)*100),1===b&&(y=(P.values(b)-P._valueMin()+1)/(P._valueMax()-P._valueMin()+1)*100)):y=(P.values(b)-P._valueMin())/(P._valueMax()-P._valueMin())*100,N["horizontal"===P.orientation?"left":"bottom"]=y+"%",$(this).stop(1,1)[R?"animate":"css"](N,M.animate),!0===P.options.range&&("horizontal"===P.orientation?(0===b&&P.range.stop(1,1)[R?"animate":"css"]({left:y+"%"},M.animate),1===b&&P.range[R?"animate":"css"]({width:y-m+"%"},{queue:!1,duration:M.animate})):(0===b&&P.range.stop(1,1)[R?"animate":"css"]({bottom:y+"%"},M.animate),1===b&&P.range[R?"animate":"css"]({height:y-m+"%"},{queue:!1,duration:M.animate}))),m=y})):(b=this.value(),_=this._valueMin(),C=this._valueMax(),y=C!==_?(b-_)/(C-_)*100:0,N["horizontal"===this.orientation?"left":"bottom"]=y+"%",this.handle.stop(1,1)[R?"animate":"css"](N,M.animate),"min"===D&&"horizontal"===this.orientation&&this.range.stop(1,1)[R?"animate":"css"]({width:y+"%"},M.animate),"max"===D&&"horizontal"===this.orientation&&this.range.stop(1,1)[R?"animate":"css"]({width:100-y+"%"},M.animate),"min"===D&&"vertical"===this.orientation&&this.range.stop(1,1)[R?"animate":"css"]({height:y+"%"},M.animate),"max"===D&&"vertical"===this.orientation&&this.range.stop(1,1)[R?"animate":"css"]({height:100-y+"%"},M.animate))}}),function(){var m={$element:$(".facetDateChart"),rangeStartVal:null,rangeEndVal:null,yearWeights:null,queryID:null,height:200,amplifierRatio:null,url:location.href,init:function init(){m.rangeStartVal=parseInt(m.$element.data("min")),m.rangeEndVal=parseInt(m.$element.data("max")),m.yearWeights=m.$element.data("yearweights"),m.queryID=m.$element.data("queryid"),m.amplifierRatio=parseInt(m.$element.data("amplifierratio")),m.chart.init(),m.control()},control:function control(){$(document).on("slide:opened",(function(y){$(".ui-slider-handle__indicator, .ui-slider-handle__label").remove(),m.init(),$(this).off(y)}))},getSelectedRange:function getSelectedRange(y){var b=-1!==m.url.indexOf("?")?m.url.split("?")[1]:"",_={};return b&&(b.split("&").map((function(m){var y=m.split("=");_[y[0]]=y[1]})),_.AfterYear&&_.BeforeYear)?[_.AfterYear,_.BeforeYear]:[parseInt(m.rangeStartVal),parseInt(m.rangeEndVal)]},updateUrl:function updateUrl(y,b){m.removeParam("AfterYear"),m.removeParam("BeforeYear"),m.removeParam("queryID"),m.url+=(m.url.indexOf("?")>-1?"&":"?")+"AfterYear="+y+"&BeforeYear="+b+"&queryID="+m.queryID,window.location=m.url},removeParam:function removeParam(y){var b=m.url.split("?")[0],_=-1!==m.url.indexOf("?")?m.url.split("?")[1]:"",$={};_&&(_.split("&").map((function(m){var y=m.split("=");$[y[0]]=y[1]})),$[y]&&delete $[y],_=Object.keys($).map((function(m){return m+"="+$[m]})).join("&"),m.url=b+(_?"?"+_:""))},chart:{init:function init(){m.chart.setOptions();for(var y=m.$element,b=y.options.data.items,_=new Array(y.options.numberOfBins).fill(0),C=y.options.numberOfBins/y.options.numberOfBins,D=0;D<b.length;D++){var I=parseInt(b[D].value/C),M=1;b[D].count&&(M=parseInt(b[D].count)),_[I]+=M}var P=y.attr("name")+"__chart",R=y.attr("name")+"__slider",N="<div class='"+P+"' style='height:"+y.options.height+"px; overflow: hidden;'></div><div class='"+R+"'></div>";y.html(N);for(var U=m.chart.calculateHeightRatio(_,y.options.height),H=100/y.options.numberOfBins,B=0;B<_.length;B++){var z=m.chart.getBinRange(C,B,m.$element.options.sliderRange[0]),q="bin-color-selected",W="bin-color";y.options.optimalRange[0]<=z[0]&&z[0]<=y.options.optimalRange[1]&&(q="bin-color-optimal-selected",W="bin-color-optimal");var X=y.options.showTooltips?"<span class='tooltiptext'>"+z[0]+"/"+_[B]+"</span>":"",V=parseInt(_[B]*U),G=m.chart.convertToHeight(V),Y="<div class='tooltip' style='float:left!important;width:"+H+"%;'>"+X+"<div class='bin in-range "+q+"' style='height:"+G+"px;bottom:-"+parseInt(y.options.height-G)+"px;position: relative;'></div><div class='bin out-of-range "+W+"' style='height:"+G+"px;bottom:"+-parseInt(y.options.height-2*G)+"px;position: relative;'></div></div>";$("."+P).append(Y)}$("."+R).slider({range:!0,min:y.options.sliderRange[0],max:y.options.sliderRange[1],values:y.options.selectedRange,chart:!0,slide:function slide(b,_){m.chart.update(_.values,y.options.sliderRange[0],C,P,R)},create:function create(y,b){$(y.target).find(".ui-slider-handle").append('<span class="ui-slider-handle__indicator"></span>').first().addClass("first"),$(y.target).find(".ui-slider-handle").append('<span class="ui-slider-handle__label"></span>'),$(y.target).find(".ui-slider-handle__indicator").height(m.height+10)},stop:function stop(y,b){m.updateUrl(b.values[0],b.values[1])}}),m.chart.update(y.options.selectedRange,y.options.sliderRange[0],C,P,R)},setOptions:function setOptions(){var y={items:[]};$.each(m.yearWeights,(function(b,_){y.items.push({value:b,count:_*m.amplifierRatio})})),m.chart.setHeight(y);var b={data:y,sliderRange:[m.rangeStartVal,m.rangeEndVal],optimalRange:[m.rangeStartVal,m.rangeEndVal],selectedRange:m.getSelectedRange(),numberOfBins:y.items.length,height:m.height,showTooltips:!1};m.$element.options=b},setHeight:function setHeight(y){m.height=5*Math.max.apply(Math,y.items.map((function(m){return m.count})))+20,m.height<150&&(m.height=150)},update:function update(y,b,_,C,D){var I=y[0],M=y[1],P=$("."+D).find(".ui-slider-handle.first .ui-slider-handle__label").html(I),R=$("."+D).find(".ui-slider-handle:not(.first) .ui-slider-handle__label").html(M);$("."+C+" .in-range").each((function(y,$){var C=m.chart.getBinRange(_,y,b);C[1]<M?I>C[1]?m.chart.setOpacity($,0):I<C[0]?m.chart.setOpacity($,1):m.chart.setOpacity($,1-(I-C[0])/_):C[0]>I&&(M>C[1]?m.chart.setOpacity($,1):M<C[0]?m.chart.setOpacity($,0):m.chart.setOpacity($,1-(M-C[0])/_))})),m.chart.setLabelHandlersPosition(P,R),setTimeout((function(){m.chart.setLabelHandlersPosition(P,R)}),500)},setLabelHandlersPosition:function setLabelHandlersPosition(m,y){var b=m.offset().left+m.outerWidth(),_=y.offset().left-b-2,$=(2-_)/2;m.css("left","-="+$),y.css("left","+="+$),Math.floor(_)>2&&(m.css("left","0"),y.css("left","0"))},getBinRange:function getBinRange(m,y,b){var _=m*y+b,$=m*(y+1)-1;return 1===m&&($=_),[_,$]},setOpacity:function setOpacity(m,y){$(m).css("opacity",y)},convertToHeight:function convertToHeight(m){return parseInt(5*m+1)},calculateHeightRatio:function calculateHeightRatio(y,b){var _=Math.max.apply(null,y),$=m.chart.convertToHeight(_);return $>b?b/$:1}}};UX.facetDateChart=m}()},function(m,y){var b,_;b=$("body"),_={$toggle:$(".facet:not(.displayAll)"),lessLabel:"Less",moreLabel:"More",init:function init(){_.setLabels(),_.on.build(),_.control(),_.additionalControls()},control:function control(){b.on("click",".facet .show-more",(function(m){m.preventDefault(),_.on.toggle($(this))})),b.find(".facet .dropdown__toggle").off(),b.on("click",".facet .dropdown__toggle",(function(m){m.preventDefault(),_.on.toggleFacet($(this))}))},additionalControls:function additionalControls(){},setLabels:function setLabels(){var m=$("#filter");m.length&&(_.moreLabel=m.data("more-text")?m.data("more-text"):_.moreLabel,_.lessLabel=m.data("less-text")?m.data("less-text"):_.lessLabel)},on:{build:function build(){_.$toggle.each((function(){var m=$(this).find("ul.facet__list"),y=m.children("li"),b=$(this).find(".facet__select "),C=b.children("option"),D=y.length,I=C.length,M=m.find("[name=facet-shown-items]").val()||5,P=D>M,R=I+D-M;m.find("[name=facet-hidden-items]").length&&(R=m.find("[name=facet-hidden-items]").val()),m.closest(".facet").attr("data-more-count",R),P&&m.after(_.get.showMore(R)),b.each((function(){var m=$(this).magicSuggest({hideTrigger:"true",allowFreeEntries:"false",expandOnFocus:!0,maxSelection:1,placeholder:$(this).data("placeholder")});$(m).on("selectionchange",(function(m,y,b){void 0!==b&&(window.location.href=b[0].id)}))}))}))},toggle:function toggle(m){var y=m.closest(".facet");y.find("ul.facet__list").find(".js--toggle").slideToggle(),y.find(".facet__select--hidden").toggle(),m.toggleClass("js--open"),m.hasClass("js--open")?(m.html(_.lessLabel+'<i class="icon-section_arrow_u" aria-hidden="true"></i>'),m.closest(".accordion__content").find("li.js--toggle")[0].firstElementChild.focus(),m.attr("aria-expanded",!0)):(m.html(_.moreLabel+' <span  class="more-count">('+y.data("more-count")+')</span> <i class="icon-section_arrow_d" aria-hidden="true"></i>'),m.closest(".accordion__content").find("li:first-child a").blur(),m.attr("aria-expanded",!1))},toggleFacet:function toggleFacet(m){var y=m.closest("li").children("ul.facet-dropdown__menu");y.slideToggle(),m.toggleClass("js--open"),m.find("i").toggleClass("icon-add_box icon-squared-minus"),m.hasClass("js--open")?y.attr("aria-hidden",!1):y.attr("aria-hidden",!0)}},get:{showMore:function showMore(m){return'<a href="#" class="show-more" aria-expanded="false" rel="nofollow"> '.concat(_.moreLabel,' <span class="more-count">(').concat(m,')</span> <i class="icon-section_arrow_d" aria-hidden="true"></i></a>')}}},UX.toggle=_},function(m,y,b){var _,C;_=$("body"),(C={sliderRanges:[],sliderValues:[],$rangeStart:$(".range-slider__start"),$rangeEnd:$(".range-slider__end"),url:location.href,init:function init(){C.sliderRanges=[],C.sliderValues=[],C.$rangeStart=$(".range-slider__start"),C.$rangeEnd=$(".range-slider__end"),C.initRange(),C.control()},control:function control(){_.on("click",".custom-date",(function(m){m.preventDefault(),C.on.toggle($(this))})),$(document).on("UX-attach",(function(){C.init()})),$(document).on("UX-detach",(function(){window.jcf.destroy($(".range-slider__range"))})),$(".range-slider__range").change((function(){C.on.setRange($(this))})),C.$rangeStart.on("change",(function(){C.on.setStart($(this))})),C.$rangeEnd.on("change",(function(){C.on.setEnd($(this))})),$(".range-slider__range").on("change change:startend",(function(){C.updateUrl($(this))}))},on:{toggle:function toggle(m){m.closest(".facet").find(".custom-date-form").slideToggle(),m.toggleClass("js--open")}},getSelectedRange:function(m){var y=-1!==C.url.indexOf("?")?C.url.split("?")[1]:"",b={};return y&&(y.split("&").map((function(m){var y=m.split("=");b[y[0]]=y[1]})),b.AfterYear&&b.BeforeYear)?[b.AfterYear,b.BeforeYear]:[parseInt(m.attr("data-min"),10),parseInt(m.attr("data-max"),10)]},getSelectedRangePosition:function(m,y){var b,_;return C.sliderValues.indexOf(m)<0&&(b=C.sliderValues.reduce((function(y,b){return Math.abs(b-m)<Math.abs(y-m)?b:y}))),C.sliderValues.indexOf(y)<0&&(_=C.sliderValues.reduce((function(m,b){return Math.abs(b-y)<Math.abs(m-y)?b:m}))),[C.sliderValues.indexOf(b||m),C.sliderValues.indexOf(_||y)]},initRange:function(){$(".range-slider").each((function(){var m=$(this).find(".range-slider__range");if(!m.hasClass("jcf-hidden")){var y=m.data("frequencies"),b=[1,2,5,10],_=2*b.reduce((function(m,y){return m+y})),D=parseInt(m.attr("data-min")||m.attr("min"),10),I=parseInt(m.attr("data-max")||m.attr("max"),10),M=I-D,P="linear"===m.attr("data-slider-type");if(M>_&&!P){var R=b.slice().reverse(),N=M,U=D,H=0;R.forEach((function(m,_,$){var D=Math.floor(N/3),M=Math.floor(2*D),P=M%m;P>0&&(M-=P),N-=M,_===R.length-1?C.sliderRanges.push({start:U,stop:I,displayStep:b[_],slideStep:m,freq:y.slice(H,y.length)}):C.sliderRanges.push({start:U,stop:U+M,displayStep:b[_],slideStep:m,freq:y.slice(H,H+M)}),H+=M,U+=M})),C.sliderRanges.forEach((function(m){for(var y=m.start;y<=m.stop;)C.sliderValues.indexOf(y)<0&&C.sliderValues.push(y),y+=m.slideStep}))}else if(!C.sliderValues.length>0)for(var B=D;B<=I;B++)C.sliderValues.push(B);m.attr("min",0),m.attr("max",C.sliderValues.length-1);var z=C.getSelectedRange(m);C.$rangeStart.val(z[0]),C.$rangeEnd.val(z[1]);var q=C.getSelectedRangePosition(z[0],z[1]);if(m.attr("value",q.join(",")),window.jcf.replace(m),y){var W=$(this).find(".jcf-range-wrapper"),X=$('<span class="jcf-range-frequencies"></span>');if(M>_&&!P)C.sliderRanges.forEach((function(m){for(var y=0;y<m.freq.length;y++){var b=$('<span class="jcf-range-frequencies__slice" style="width: '+100/m.freq.length/C.sliderRanges.length+"%; opacity: "+m.freq[y]+'"></span>');X.append(b)}})),W.prepend(X);else{for(var V=100/y.length,G=0;G<y.length;G++){var Y=$('<span class="jcf-range-frequencies__slice" style="width: '+V+"%; opacity: "+y[G]+'"></span>');X.append(Y)}W.prepend(X)}}}}))}}).on.setRange=function(m){var y=m.closest(".range-slider").find(".jcf-active-handle").attr("class").match(/jcf-index[\w-]*\b/).toString().split("-")[2];$("input.index-"+y).val(C.getValue(m))},C.on.setStart=function(m){var y=m.closest(".range-slider").find(".range-slider__range"),b=parseInt(y.attr("min"),10),_=C.getValueFromInput(m),$=window.jcf.getInstance(y);_>=b&&_<=$.values[1]&&($.values[0]=_.toString(),$.refresh(),y.trigger("change:startend"))},C.on.setEnd=function(m){var y=m.closest(".range-slider").find(".range-slider__range"),b=parseInt(y.attr("max"),10),_=C.getValueFromInput(m),$=window.jcf.getInstance(y);_<=b&&_>=$.values[0]&&($.values[1]=_.toString(),$.refresh(),y.trigger("change:startend"))},C.on.rangeUpdate=function(m,y){$(m).on("change change:startend",(function(){y(C.$rangeStart.val(),C.$rangeEnd.val())}))},C.updateUrl=function(m){C.removeParam("AfterYear"),C.removeParam("BeforeYear"),C.removeParam("queryID"),C.url+=(C.url.indexOf("?")>-1?"&":"?")+"AfterYear="+C.$rangeStart.val()+"&BeforeYear="+C.$rangeEnd.val()+"&queryID="+$(m).attr("data-queryID"),window.location=C.url},C.removeParam=function(m){var y=C.url.split("?")[0],b=-1!==C.url.indexOf("?")?C.url.split("?")[1]:"",_={};b&&(b.split("&").map((function(m){var y=m.split("=");_[y[0]]=y[1]})),_[m]&&delete _[m],b=Object.keys(_).map((function(m){return m+"="+_[m]})).join("&"),C.url=y+(b?"?"+b:""))},C.getValue=function(m){var y=parseInt(m.val(),10);return C.sliderValues[y]},C.getValueFromInput=function(m){var y,b=m.closest(".range-slider").find(".range-slider__range"),_=parseInt(m.val(),10),$=parseInt(b.attr("data-min"),10),D=parseInt(b.attr("data-max"),10);if(_<=D&&_>=$)if(C.sliderValues.indexOf(_)>=0)y=C.sliderValues.indexOf(_);else{var I=C.sliderValues.reduce((function(m,y){return Math.abs(y-_)<Math.abs(m-_)?y:m}));y=C.sliderValues.indexOf(I)}return y},UX.facetDate=C},function(m,y,b){var _,C,D,I;_=$("body"),C=$(window),D=!1,(I={vPort:"screen-xs",init:function init(){I.on.build(),I.control()},control:function control(){_.on("click",".expandable .table__control__button",(function(m){m.preventDefault(),$(this).closest("tr").hasClass("js--expanded")?I.on.hide($(this).closest("tr")):I.on.show($(this).closest("tr"))})),C.on("resize",(function(){I.on.build()})),$(document).on(I.vPort+"-on",(function(){D=!0,I.on.build()})),$(document).on(I.vPort+"-off",(function(){D=!1}))},on:{build:function build(){this.buildExpandable()}}}).on.buildExpandable=function(){$(".expandable").each((function(){var m=$(this).find("tr"),y=m.find(".to_hide");m.removeClass("js--expanded"),D?$(y).hide(0):$(y).show(0)}))},I.on.show=function(m){m.find(".to_hide").slideDown(200),m.addClass("js--expanded")},I.on.hide=function(m){m.find(".to_hide").slideUp(200),m.removeClass("js--expanded")},UX.toggleTable=I},function(m,y){var b;b={$tableBody:$(".sortable-table tbody"),init:function init(){void 0!==b.$tableBody.sortable&&b.$tableBody.sortable({handle:".btn--handle",items:"tr.sortable-row",stop:b.afterStopSortRow,axis:"y"})},controller:function controller(){},afterStopSortRow:function afterStopSortRow(m,y){$(".submission-authors").length>0&&y.item.closest(".authors__table").find(".author__row").each((function(m){$(this).find("input.author__order").val(m)}))}},UX.sortableTableRow=b},function(m,y){var b;b={dateFormat:"yy-mm-dd",$datepicker:$(".datepicker"),$body:$("body"),lastModfied:"",vPort:"",init:function init(){UX.test.inputDate()||(b.$datepicker=b.$datepicker.add($("[type=date]"))),b.$datepicker.each((function(){var m=$(this),y=m.data();void 0!==m.datepicker&&(m.datepicker({dateFormat:y.dateFormat?y.dateFormat:b.dateFormat}),y.altFieldName&&(m.datepicker("option","altField",'[name="'+y.altFieldName+'"]'),m.datepicker("option","altFormat",b.dateFormat)))}))}},UX.datepicker=b},function(m,y){var b,_;b=$("body"),_={containerName:".client-pagination",showPerPage:null,$currentPage:null,$pagesdisplyed:null,tableRow:".client-pagination-table .tablerow",init:function init(){_.showPerPage=parseInt($(_.containerName).find(".show_per_page").val(),0),_.$currentPage=$(_.containerName).find(".current_page"),_.$pagesdisplyed=parseInt($(_.containerName).find(".pages-displyed").val(),0),_.buildPagination(),_.control()},set:{containerName:function containerName(m){_.containerName=m},tableRowName:function tableRowName(m){_.tableRow=m}},control:function control(){b.on("click",_.containerName+" .pagination__btn--prev",(function(m){m.preventDefault(),_.previous()})),b.on("click",_.containerName+" .pagination__btn--next",(function(m){m.preventDefault(),_.next()})),b.on("click",_.containerName+" .page",(function(m){m.preventDefault(),_.goToPage($(this).data("page-index"))}))},buildPagination:function buildPagination(){var m=$(_.tableRow).length,y=Math.ceil(m/_.showPerPage);if($(_.containerName).remove(".page"),m>_.showPerPage){$(_.tableRow).css("display","none"),$(_.containerName).removeClass("hidden"),$(_.tableRow).slice(0,_.showPerPage).css("display","table-row"),$(_.containerName).find(".prev").hide(),$(_.containerName).find(".next").show();var b=0;for($(_.containerName).find(".pages").empty();b<y;)b>=_.$pagesdisplyed?$(_.containerName).find(".pages").append('<a class="page hidden" href="#" title="page '+(b+1)+'" data-page-index="'+b+'">'+(b+1)+"</a>"):$(_.containerName).find(".pages").append('<a class="page" href="#" title="page '+(b+1)+'" data-page-index="'+b+'">'+(b+1)+"</a>"),b++;$(_.containerName).find('[data-page-index="0"]').addClass("selected")}else $(_.containerName).addClass("hidden")},goToPage:function goToPage(m){var y=$(_.tableRow).length,b=Math.ceil(y/_.showPerPage),C=m*_.showPerPage,D=C+_.showPerPage,I=$(_.containerName).find('[data-page-index="'+m+'"]');$(_.tableRow).css("display","none").slice(C,D).css("display","table-row"),_.$currentPage.val(m),$(_.containerName).find(".page").removeClass("selected"),I.addClass("selected");var M=Math.ceil(_.$pagesdisplyed/2);if($(_.containerName).find(".page").addClass("hidden"),m+1>M)for(var P=m+1-M;P<m+M;P++)P<=b&&$(_.containerName).find('[data-page-index="'+P+'"]').removeClass("hidden");else for(var R=0;R<_.$pagesdisplyed;R++)$(_.containerName).find('[data-page-index="'+R+'"]').removeClass("hidden");0===m?$(_.containerName).find(".prev").hide():$(_.containerName).find(".prev").show(),m===b-1?$(_.containerName).find(".next").hide():$(_.containerName).find(".next").show()},previous:function previous(){var m=parseInt(_.$currentPage.val(),0)-1;m>-1&&_.goToPage(m)},next:function next(){var m=parseInt(_.$currentPage.val(),0)+1,y=$(_.tableRow).length;m<Math.ceil(y/_.showPerPage)&&_.goToPage(m)}},UX.clientPagination=_},function(m,y){var b,_,C;b=$("body"),_=$(window),C={$toggle:$('[data-toggle="modal"]'),$target:null,revers:!1,lastItem:null,items:null,$close:null,accessibilityEnabled:!0,init:function init(){this.accessibilityEnabled&&C.accessibility.init(),C.$target=$(C.$toggle.data("target")),C.control()},accessibility:{init:function init(){var m=$("main.content");m.length&&m.after($(".ux-modal-container")),$('[data-dismiss="modal"]').append('<span class="sr-only">Close modal</span>')},show:function show(){$(".content, .footer, .header").attr("aria-hidden",!0)},hide:function hide(){$(".content, .footer, .header").removeAttr("aria-hidden")}},control:function control(){b.on("click",'[data-toggle="modal"]',(function(m){m.preventDefault(),C.$toggle=$(this),C.$target=$(C.$toggle.data("target")),C.$close=C.$target.find(".close"),C.items=C.$target.find("a, button, input"),C.items.each((function(m){m===C.items.length-1&&(C.lastItem=$(this))})),C.on.show()})),b.on("click",".modal",(function(m){var y=$(m.target);!y.is(".modal__dialog")&&!y.closest(".modal__dialog").length>0&&C.on.hide()})),b.on("click",'[data-dismiss="modal"]',(function(m){C.on.hide()})),$(".modal").on("keydown",C.focusCycle.bind(C)),_.on("keyup",(function(m){16===m.keyCode&&(C.revers=!1)}))},on:{show:function show(m){void 0!==UX.controller&&UX.controller.check(),setTimeout((function(){b.attr("data-active","modal"),C.accessibility.show();var m=C.$target.find("[autofocus]");m.length?m.focus():C.$close.focus()}),250),C.$target.closest("[class*='sticko']").addClass("js--open"),$("#externalEmailDialogForm").addClass("pairing-management-modal")},hide:function hide(){b.removeAttr("data-active"),C.accessibility.hide(),C.$target.closest("[class*='sticko']").removeClass("js--open")},tab:function tab(){C.$close.off("focusout"),C.lastItem.off("focusout"),C.lastItem.on("focusout",(function(){C.$close.focus()}))},tabRevers:function tabRevers(){C.lastItem.off("focusout"),C.$close.off("focusout"),C.$close.on("focusout",(function(){C.lastItem.focus()}))}},focusCycle:function focusCycle(m){16===m.keyCode&&(C.revers=!0),9===(m.keyCode||m.which)&&(C.revers?C.on.tabRevers():C.on.tab())}},UX.modal=C},function(m,y){var b;b={$figureViewer:$(".figure-viewer"),$figures:$(".article_content-right figure"),$figuresImages:$("figure img.inline-fig"),$closeBtn:$(".figure-viewer_close"),$figureViewerImage:$(".fv-img"),$figureViewerLoadingImage:$(".loading-img"),$nextBtn:$(".figure-viewer_next"),$prevBtn:$(".figure-viewer_prev"),$currentFigure:0,$currentLabel:$(".figure-viewer_current"),$figuresCount:0,$countLabel:$(".figure-viewer_count"),$HiResLink:$(".figure-viewer_hi-res-link"),$MsPLink:$(".figure-viewer_ms-p-link"),$separator:$(".fv-separator"),$figureViewerContent:$(".figure-viewer_image-content"),$isMobile:!1,$citFgVolume:$(".cit-fg-volume"),$citFgIssue:$(".cit-fg-issue"),init:function init(){b.$figuresCount=b.$figures.length,b.$countLabel.html(b.$figuresCount),b.loadCiteThis(),$("figure img.styleguide-inline-fig").length>0&&(b.$figures=$(".article_content-left figure.graphicFigure"),b.$figuresImages=$("figure img.styleguide-inline-fig"),b.$figuresCount=b.$figuresImages.length,b.$countLabel.html(b.$figuresCount)),b.$figuresCount>1&&(b.$nextBtn.show(),b.$prevBtn.show()),b.$closeBtn.click((function(m){m.preventDefault(),b.hide(),unfreezePage()})),b.$figuresImages.click((function(){$("figure img.styleguide-inline-fig").length>0?b.setCurrentFigureForViewerModel($(this).parent()):(b.$currentFigure=$(this).parent().data("index"),b.setFigureViewer(b.$currentFigure)),b.show(),b.$closeBtn.focus(),freezePage()})),b.$nextBtn.click((function(m){m.preventDefault(),b.$figureViewerLoadingImage.show(),b.$currentFigure===b.$figuresCount-1?b.setFigureViewer(0):b.setFigureViewer(b.$currentFigure+1)})),b.$prevBtn.click((function(m){m.preventDefault(),b.$figureViewerLoadingImage.show(),0===b.$currentFigure?b.setFigureViewer(b.$figuresCount-1):b.setFigureViewer(b.$currentFigure-1)})),$(document).on("screen-sm-on",(function(){b.$isMobile=!0})),$(document).on("screen-sm-off",(function(){b.$isMobile=!1}))},hide:function hide(){b.$figureViewer.hide()},show:function show(){b.$figureViewer.css("display","table"),b.$figureViewerContent.scrollTop(0)},setFigureViewer:function setFigureViewer(m){var y=b.$figures.eq(m),_=y.find("img"),$=y.find(".download-hi-res-img a"),C=y.find(".download-ppt a");b.$currentFigure=m,b.$figureViewerImage.hide(),b.$currentLabel.html(y.children(".fig-label").text()),_.length>0&&(b.$figureViewerImage.attr("src",_.attr("src")),_.attr("alt")?b.$figureViewerImage.attr("alt",_.attr("alt")):b.$figureViewerImage.attr("alt","Figure 1"),b.$figureViewerImage.on("load",(function(){b.$figureViewerLoadingImage.hide(),b.$figureViewerImage.show()}))),$.length>0?b.$HiResLink.attr("href",$.attr("href")).show():b.$HiResLink.hide(),C.length>0?b.$MsPLink.attr("href",C.attr("href")).show():b.$MsPLink.hide(),$.length>0&&C.length>0?b.$separator.show():b.$separator.hide(),b.$figureViewerContent.scrollTop(0)},setCurrentFigureForViewerModel:function setCurrentFigureForViewerModel(m){var y=m,_=y.find("img"),$=y.find(".download-hi-res-img a"),C=y.find(".download-ppt a");b.$currentLabel.html(y.children(".fig-label").text()),b.$figureViewerImage.hide(),_.length>0&&(b.$figureViewerImage.attr("src",_.attr("src")),_.attr("alt")?b.$figureViewerImage.attr("alt",_.attr("alt")):b.$figureViewerImage.attr("alt","Figure 1"),b.$figureViewerImage.on("load",(function(){b.$figureViewerLoadingImage.hide(),b.$figureViewerImage.show()}))),$.length>0?b.$HiResLink.attr("href",$.attr("href")).show():b.$HiResLink.hide(),C.length>0?b.$MsPLink.attr("href",C.attr("href")).show():b.$MsPLink.hide(),$.length>0&&C.length>0?b.$separator.show():b.$separator.hide(),b.$figureViewerContent.scrollTop(0)},loadCiteThis:function loadCiteThis(){b.$citFgVolume.html($(".cit-volume").html()),b.$citFgIssue.html($(".cit-issue").html())}},UX.figureViewer=b},function(m,y){$(document).ready((function(){UX.dropBlock.additionalControl=function(){$(".dropBlock__holder a").click((function(m){UX.dropBlock.on.hide()}))},UX.dropBlock.additionalControl()}))},function(m,y){var b;(b=UX.toggle).moreLabel="More ",b.get.showMore=function(m){return'<a href="#" class="show-more" aria-expanded="false">'.concat(b.moreLabel,'\n                <span class="more-count">(').concat(m,')</span>\n                <i class="icon-section_arrow_d" aria-hidden="true"></i>\n                </a>')}},function(m,y){var b;b={init:function init(){b.truncateAll(),b.control()},control:function control(){},truncate:{text:function text(m){m.each((function(m){var y=$(this),b=void 0===y.data("lines")?"1":y.data("lines"),_=void 0===y.data("more")||y.data("more"),C=void 0===y.data("more-text")?"Read More":y.data("more-text"),D=void 0===y.data("less-text")?"Read Less":y.data("less-text"),I=void 0===y.data("more-html")?"":y.data("more-html"),M=void 0===y.data("less-html")?"":y.data("less-html"),P=void 0===y.data("ellipsis")?"":y.data("ellipsis"),R=void 0===y.data("trunc-on")?"all":y.data("trunc-on"),N=$(window).width(),U=!0;"all"===R?U=!0:"desktop"===R?U=N>UX.grid.screenMd:"mobile"===R&&(U=N<UX.grid.screenMd),U&&(y.css("height","auto"),y.truncate({lines:b,type:"text",seeMoreLink:_,seeMoreText:C,seeLessText:D,seeMoreIcon:"",seeLessIcon:"",addClass:"trunc-done",animation:!0,seeMoreHtml:I,seeLessHtml:M,ellipsisChar:P,readMoreWithSpacebar:!0}))}))},shadow:function shadow(m){m.each((function(m){var y=$(this),b=void 0===y.data("more")||y.data("more");y.css("height","auto"),y.truncate({lines:y.data("lines"),type:"text",seeMoreLink:b,ellipsisChar:"",seeMoreText:"Read more",seeLessText:"Less",addClass:"trunc-done",animation:!0,seeMoreHtml:"",seeLessHtml:"",readMoreWithSpacebar:!0})}))},list:function list(m){var y=$(this),b=void 0===y.data("showremovedcount")||y.data("showremovedcount"),_=y.data("position");m.each((function(m){$(this).parents(".disable-truncate").length||(y.css("height","auto"),y.truncate({lines:y.data("lines"),type:"list",position:_,ellipsisChar:"...",showRemovedCount:b,seeLessText:"(Less)",addClass:"trunc-done",animation:!0,ignoreCountList:".label",readMoreWithSpacebar:!0}))}))}},truncateAll:function truncateAll(){b.truncate.text($(".truncate-text:not('.trunc-done')")),b.truncate.shadow($(".truncate-with-shadow:not('.trunc-done')")),b.truncate.list($(".truncate-list:not('.trunc-done')"))}},UX.genericTruncate=b},function(m,y){var b;b={$trigger:null,$target:null,vPort:"screen-sm",isMobile:!1,init:function init(){b.$trigger=$("body").find(".tooltip"),b.$target=b.$trigger.find(".tooltip__body"),b.control()},control:function control(){$(document).on(b.vPort+"-on",(function(){b.isMobile=!0,b.on.hideOnChangeView(b.isMobile),b.init()})),$(document).on(b.vPort+"-off",(function(){b.isMobile=!1,b.on.hideOnChangeView(b.isMobile),b.init()})),$(".close").click((function(){b.hideTooltip()})),$(".close").on("keydown",(function(m){13===m.keyCode&&$(this).click()})),$("body").on("click",".scite-link",(function(){var m=$(".scite-link").attr("href");$(this).attr("href",m),window.open(m,"_blank")})),$("body").on("focusin",".tooltip",(function(){var m=$(this),y=$(".tooltip__body");y.addClass("js--focused"),b.on.show(m,y),b.setPosition(m)})),$("body").on("click",".beta-link",(function(m){var y=$(".tooltip__body").closest(".tooltip"),_=$(".tooltip__body");y.is(":focusable")?(m.preventDefault(),m.stopImmediatePropagation(),_.hasClass("js--focused")&&_.hasClass("js--open")||_.hasClass("js--open")?(b.on.show(y,_),b.setPosition(y),_.removeClass("js--focused")):_.hasClass("js--focused")||_.hasClass("js--open")?b.on.hide(y,_):(b.on.show(y,_),b.setPosition(y))):_.hasClass("js--open")&&!b.isMobile?b.on.hide(y,_):(b.on.show(y,_),b.setPosition(y))})),$(window).on("resize",(function(){b.setPosition(b.$trigger)})),$(window).on("scroll",(function(){b.on.checkToHide()})),$(document).find(".tab__content.sticko__child").on("scroll",(function(){b.on.checkToHide()})),$(document).on("click",(function(m){$(m.target).is(b.$trigger)||$(m.target).parents().is(b.$trigger)||!$(".tooltip__body").hasClass("js--open")||b.hideTooltip()}))},setPosition:function setPosition(m){if(m.length){var y=m,_=y.find(".tooltip__body"),C=y[0].getBoundingClientRect(),D=$(window).width()-(C.right+20);if(b.isMobile){var I=_.closest(".w-slide").length?_.closest(".w-slide").css("top"):0,M=C.top+20-I;_.css({top:M,right:"20px",left:"20px",width:"auto"})}else D<_.innerWidth()?_.addClass("js--inverse").css({top:C.top-_.outerHeight()/2+y.height()/2,left:C.left-30-_.width()}):_.removeClass("js--inverse").css({top:C.top-_.outerHeight()/2+y.height()/2,left:C.right+20})}},hideTooltip:function hideTooltip(){$(".tooltip__body").addClass("tooltip-body-hide"),$(".tooltip__body").css("display","none"),$(".tooltip__body").removeClass("js--open"),$(".tooltip__body").removeAttr("style")},on:{show:function show(m,y){var b=$(".tooltip__body"),_=b.length;y.addClass("js--open"),y.removeClass("tooltip-body-hide"),_>1&&b.not(y).removeClass("js--open")},hide:function hide(m,y){y.removeClass("js--open js--inverse").removeAttr("style")},checkToHide:function checkToHide(){$(".tooltip").length&&$(".tooltip__body").hasClass("js--open")&&($(".tooltip").trigger("blur"),$(".tooltip__body").removeClass("js--open"))},hideOnChangeView:function hideOnChangeView(m){b.isMobile=m,$(document).find(".tooltip__body").removeClass("js--open js--inverse").removeAttr("style")}}},UX.tooltip=b},function(m,y){var b;b=UX.facetDate.control,UX.facetDate.control=function(){b.apply(this,arguments),$(document).off("UX-attach").on("UX-attach",(function(){UX.facetDate.init()}))}},function(m,y,b){var _,C;_=$("body"),(C={$slider:null,options:{},vPort:"always",isMobile:!1,navText:["<span class='hidden-xs'>prev</span><i class='icon-arrow_l visible-xs'></i>","<span class='hidden-xs'>next</span><i class='icon-arrow_r visible-xs'></i>"],ActiveBtnBgColor:"#D6D6D6",InactiveBtnBgColor:"#a1a1a1",init:function init(){C.additionalInit(),C.on.build(),C.control(),C.additionalControls(),C.cleanDuplicateID()},control:function control(){var m=$(".owl-play"),y=$(".owl-pause");_.on("click",".owl-play",(function(){C.$slider=$(this).closest(".owl-carousel"),C.$slider.data("owl.carousel").options.autoplay=!0,C.$slider.trigger("refresh.owl.carousel")})),_.on("click",".owl-pause",(function(){C.$slider=$(this).closest(".owl-carousel"),C.$slider.trigger("stop.owl.autoplay")})),_.on("touchend",".owl-pause, .owl-play, .owl-prev, .owl-next",(function(){$(this).css("background","#d6d6d6")})),$("body").on("touchstart",".owl-pause, .owl-play, .owl-prev, .owl-next",(function(){$(this).css("background","#869791")})),m.on("touchend click",(function(){$(this).css({background:C.ActiveBtnBgColor}),y.css({background:C.InactiveBtnBgColor}),$(".owl-next").trigger("click")})),y.on("touchend click",(function(){$(this).css({background:C.ActiveBtnBgColor}),m.css({background:C.InactiveBtnBgColor})})),$(".owl-carousel").each((function(){var m=$(this);void 0!==m.closest(".viewport-slider").data("slider-vport")&&(C.vPort=m.closest(".viewport-slider").data("slider-vport"),$(document).on(C.vPort+"-on",(function(){C.isMobile=!0,C.get.options(m,!0)})),$(document).on(C.vPort+"-off",(function(){C.isMobile=!1,C.on.destroy(m)})))})),$(".owl-item:not(.cloned)").first().hasClass("active")&&$(".owl-nav .owl-next").addClass("owl-nav-active")},additionalInit:function additionalInit(){},additionalControls:function additionalControls(){},beforeInitSlider:function beforeInitSlider(m){},accessibility:{setup:function setup(m){this.slider(m),m.find(".owl-prev").attr({role:"button",title:m.data("prev-slide"),"aria-label":m.data("prev-slide"),tabindex:"0"}),m.find(".owl-next").attr({role:"button",title:m.data("next-slide"),"aria-label":m.data("next-slide"),tabindex:"0"}),m.find(".owl-dot").each((function(){var y=$(this);y.attr({role:"button",title:m.data("go-to-slide")+" "+(y.index()+1),"aria-label":m.data("go-to-slide")+" "+(y.index()+1),tabindex:"0"})}));var y=m.find(".owl-stage"),b=m.find(".owl-stage-outer"),_=m.data("label")||"Slideshow";y.attr({role:"list","aria-label":_,tabindex:"0"}),C.accessibility.setSliderReadability(b,!0),m.find(".owl-item").attr({role:"listitem"});var D=y.attr("id");D||(D="slider"+UX.utils.generateId(),y.attr("id",D)),m.find(".owl-nav, .owl-controls").attr({role:"navigation","aria-label":_,"aria-controls":D}),m.find(".owl-dots").attr({role:"navigation","aria-label":"owl navigation","aria-controls":D}),this.keyboardControls(m,b),this.handleAutoplay(m,b),this.dots(m,b),this.keyboardTabAccess(m),this.addNavigationHelperText(m)},addNavigationHelperText:function addNavigationHelperText(m){if(C.options.navigationHelper){var y="navigation_helper".concat(UX.utils.generateId());$("<span>",{class:"sr-only",id:y,text:C.options.navigationHelper}).insertBefore(m),m.attr({"aria-describedby":y})}},keyboardTabAccess:function keyboardTabAccess(m){m.find(".owl-item").each((function(){this.onfocusin=function(){C.$slider=$(this).closest(".owl-carousel");var m=C.$slider.data("owl.carousel"),y=C.$slider.find(".owl-stage-outer")[0],b=m.relative($(this).index());y.scrollLeft=0,setTimeout((function(){y.scrollLeft=0}),0),$(this).hasClass("active")||m.to(b,m.settings.smartSpeed?m.settings.smartSpeed:500,!0)},this.addEventListener&&this.addEventListener("focus",this.onfocusin,!0)}))},controls:function controls(m,y){m.find(".owl-play").attr({role:"button",title:m.data("play-slide"),"aria-label":m.data("play-slide"),tabindex:"0"}).on("click",(function(){m.removeAttr("data-pause"),C.accessibility.setSliderReadability(y,!1)})),m.find(".owl-pause").attr({role:"button",title:m.data("pause-slide"),"aria-label":m.data("pause-slide"),tabindex:"0"}).on("click",(function(){m.attr({"data-pause":"true"})}))},slider:function slider(m){this.slides(m.find(".owl-item"))},slides:function slides(m){this.slide(m,"hide"),this.slide(m.filter(":not(.active)"),"disable"),this.slide(m.filter(".active"),"enable"),this.slide(m.filter(".active"))},setSliderReadability:function setSliderReadability(m,y){m.attr({"aria-live":y?"polite":"off"})},slide:function slide(m,y){var b={show:function show(m){m.attr("aria-current","true"),m.attr("aria-hidden","false")},hide:function hide(m){m.attr("aria-current","false"),m.attr("aria-hidden","true")},enable:function enable(m){m.find("[data-was-tabbable]").removeAttr("tabindex").removeAttr("data-was-tabbable")},disable:function disable(m){m.find(":tabbable").attr("data-was-tabbable",!0).attr("tabindex","-1")}};if("string"==typeof y){if(void 0===b[y])throw new TypeError('No method named "'+y+'" found.');b[y](m)}else b.show&&b.show(m)}},get:{options:function options(m,y){C.$slider=m,C.speed=C.$slider.data("speed"),C.autoplay=C.$slider.data("autoplay"),C.animation=C.$slider.data("animation"),C.autoWidth=C.set.autoWidth(),"fade"===C.animation?C.animation="fadeOut":"slide"===C.animation?C.animation="":"none"===C.animation&&(C.animation="fadeOut",C.speed=0),C.items=C.$slider.data("items"),C.stagePadding=C.$slider.data("stagepadding"),C.set.responsive(),C.indicators=C.$slider.data("indicators"),C.arrow=C.$slider.data("arrow"),C.controls=C.$slider.data("controls"),C.autoHeight=C.set.autoHeight(),C.dotsEach=void 0!==C.$slider.data("dotseach")&&C.$slider.data("dotseach"),C.lazyLoad=!!C.$slider.closest(".lazyLoad-slides").length,C.center=C.set.center(),C.margin=C.set.margin(),C.transitionDuration=C.set.transitionDuration(),C.linked=C.set.linked(),C.navigationHelper=C.$slider.data("navigationHelper"),UX.slider.loop=UX.slider.$slider.data("loop"),UX.slider.slideBy=UX.slider.$slider.data("slideby"),C.options={rtl:UX.utils.isRTL(),center:C.center,stagePadding:C.stagePadding,loop:UX.slider.loop,items:C.items,responsive:C.responsive,autoplay:C.autoplay,autoWidth:C.autoWidth,animateOut:C.animation,dots:C.indicators,nav:C.arrow,dotsEach:C.dotsEach,slideBy:UX.slider.slideBy,autoHeight:C.autoHeight,autoplayTimeout:C.speed,autoplayHoverPause:C.autoplay,navText:C.navText,lazyLoad:C.lazyLoad,margin:C.margin,smartSpeed:C.transitionDuration,linked:C.linked,navigationHelper:C.navigationHelper,onInitialize:function onInitialize(m){C.on.sliderBeforeInit($(m.target))},onInitialized:function onInitialized(m){C.accessibility.setup(C.$slider),C.$slider.find(".owl-item.active").first().addClass("first"),C.set.slidesHeight(),C.on.sliderInit($(m.target))},onLoadedLazy:function onLoadedLazy(){var onLoadedLazy=!1;onLoadedLazy||(C.$slider.trigger("refresh.owl.carousel"),onLoadedLazy=!0)}},C.on.activate(C.$slider,y),C.controls&&C.on.buildControls(C.$slider)},responsiveData:function responsiveData(){if(C.$slider.data("responsive"))return C.$slider.data("responsive");var responsiveData=C.$slider.closest(".responsive-slider").data("responsive");return responsiveData||null}},set:{responsive:function responsive(){if(C.responsive=C.get.responsiveData(),C.responsive)for(var m in C.responsive)switch(m){case"xsMin":C.responsive[0]=C.responsive[m];break;case"smMin":C.responsive[UX.grid.screenXs]=C.responsive[m];break;case"mdMin":C.responsive[UX.grid.screenSm]=C.responsive[m];break;case"lgMin":C.responsive[UX.grid.screenMd]=C.responsive[m];break;case"xlgMin":C.responsive[UX.grid.screenLg]=C.responsive[m];break;case"xxlgMin":C.responsive[UX.grid.screenXlg]=C.responsive[m]}},autoHeight:function autoHeight(){var autoHeight=C.$slider.closest(".autoheight-slider").data("autoheight");return void 0===autoHeight||autoHeight},autoWidth:function autoWidth(){return!1},center:function center(){return C.$slider.closest(".center-slider").length>0},margin:function margin(){return 0},linked:function linked(){return 0},transitionDuration:function transitionDuration(){return 250},slidesHeight:function slidesHeight(){C.$slider.closest(".equal-height-slides").length&&C.$slider.height()>0&&(C.$slider.find(".owl-item",".slide-item").css("height",C.$slider.height()),C.$slider.find(".slide-item").css("height","100%"))}},on:{destroy:function destroy(m){C.vPort.length>0&&m.each((function(){$(this).hasClass("slide-removal")||($(this).addClass("slide-removal").trigger("destroy.owl.carousel"),$(this).find(".owl-stage-outer").children(":eq(0)").unwrap())}))},activate:function activate(m,y){C.beforeInitSlider(m),y||"always"===C.vPort?(m.owlCarousel(C.options),m.hasClass("slide-removal")&&m.removeClass("slide-removal")):m.hasClass("slide-removal")||m.addClass("slide-removal")},build:function build(){$(".owl-carousel").each((function(m){void 0!==$(this).closest(".viewport-slider").data("slider-vport")?C.vPort=$(this).closest(".viewport-slider").data("slider-vport"):C.vPort="always",C.get.options($(this),!1),$(this).on("changed.owl.carousel",(function(m){C.on.changedSlide($(this),m)})),$(this).on("translated.owl.carousel",(function(m){C.on.translated($(this))}))}))},translated:function translated(m){m.find(".owl-item").removeClass("first"),m.find(".owl-item.active").first().addClass("first")},changedSlide:function changedSlide(m,y){m.find(".owl-item:not(.cloned)").last().hasClass("active")?(m.find(".owl-nav .owl-next").addClass("owl-nav-active"),m.find(".owl-nav .owl-prev").removeClass("owl-nav-active")):$(".owl-item:not(.cloned)").first().hasClass("active")&&(m.find(".owl-nav .owl-prev").addClass("owl-nav-active"),m.find(".owl-nav .owl-next").removeClass("owl-nav-active"))},rebuild:{responsive:function responsive(){}},sliderInit:function sliderInit(m){},sliderBeforeInit:function sliderBeforeInit(m){}},cleanDuplicateID:function cleanDuplicateID(){$(".owl-item.cloned").each((function(){$(this).find("[id]").each((function(){var m=$(this).attr("id");$(this).attr("id",m+"-cloned")}))}))}}).accessibility.keyboardControls=function(m,y){var b=function hideNavigationFromReaders(m){m.attr("aria-hidden","true").focus(),setTimeout((function(){m.attr("aria-hidden","false")}),500)};m.on("keydown",(function(y){C.$slider=$(this);var _=$(document.activeElement),D=null;switch(y.which){case 39:D="next";break;case 37:D="prev";break;case 13:D="enter"}"next"===D?(C.$slider.trigger("next.owl.carousel"),b(m.find(".owl-next"))):"prev"===D?(C.$slider.trigger("prev.owl.carousel"),b(m.find(".owl-prev"))):"enter"===D&&(_.hasClass("owl-next")?(y.preventDefault(),C.$slider.trigger("next.owl.carousel")):_.hasClass("owl-prev")?(y.preventDefault(),C.$slider.trigger("prev.owl.carousel")):(_.hasClass("owl-dot")||_.hasClass("owl-play")||_.hasClass("owl-pause"))&&_.trigger("click"))})),m.on("translate.owl.carousel",(function(m){y.attr({"aria-busy":!0})})),m.on("translated.owl.carousel",(function(b){y.attr({"aria-busy":!1}),C.accessibility.slider(m)}))},C.on.buildControls=function(m){var y=m.find(".owl-stage-outer");0===m.find(".owl-controls").length&&y.after('<div class="owl-controls"><div class="owl-play">Play</div><div class="owl-pause">Pause</div></div>'),C.accessibility.controls(m,y)},C.accessibility.handleAutoplay=function(m,y){var b=m.data("autoplay");b&&C.accessibility.setSliderReadability(y,!1),m.bind("focusin",(function(m){C.accessibility.setSliderReadability(y,!0),$(this).trigger("stop.owl.autoplay")})).bind("focusout",(function(){!m.data("pause")&&b&&$(this).trigger("play.owl.autoplay"),C.accessibility.setSliderReadability(y,!1)}))},C.accessibility.dots=function(m,y){m.find(".owl-dot").on("click",(function(){$(this).blur(),$(this).trigger("stop.owl.autoplay"),C.accessibility.setSliderReadability(y,!0)}))},UX.slider=C},function(m,y){var b,_;b=$("body"),_={url:location.href,rememberUserLayout:!0,$savedSearchPanel:null,frequencyLabels:{},maxSearchQueries:null,goLink:"/action/doSearch?target=saved&runSaved=",removeLink:"/action/doDeleteSearch?searchType=saved&queryId=",init:function init(){this.$savedSearchPanel=$(".advancedSearch__tabs .saved-searches"),this.maxSearchQueries=this.$savedSearchPanel.data("queries"),this.frequencyLabels=this.$savedSearchPanel.data("frequency-labels"),_.control(),_.additionalInit(),_.additionalControl(),_.set.userPublicationLayout()},control:function control(){b.on("click","#saveSearchTriggerButton",(function(){_.openSaveSearchDialog()})),b.on("submit","#saveSearchDialog form",(function(m){return _.onSaveSearchSubmitHandler(m)})),b.on("click",".search__layout>span",(function(){$(".search__layout>span").removeClass("active"),$(this).addClass("active"),$(this).hasClass("search__layout-tile")?($(".search-result__body").addClass("search-result--tile"),localStorage.setItem("userPublicationLayout","tile")):($(".search-result__body").removeClass("search-result--tile"),localStorage.setItem("userPublicationLayout","list"))})),b.on("focus",'[name="AllField"]',(function(m){var y=$(m.currentTarget);y.length&&y[0].setSelectionRange(-1,-1)}))},additionalControl:function additionalControl(){},additionalInit:function additionalInit(){},set:{userPublicationLayout:function userPublicationLayout(){_.rememberUserLayout&&("tile"===localStorage.userPublicationLayout?$(".search__layout-tile").click():"list"===localStorage.userPublicationLayout&&$(".search__layout-list").click())}},get:{url:function url(){},text:function text(m){m=m.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var y=new RegExp("[\\?&]"+m+"=([^&#]*)").exec(_.url);return null==y?null:y[1]},value:function value(){}},render:{row:function row(m,y){var b=_.$savedSearchPanel.find("tbody tr").eq(y);this.columns(b,m),this.actions(b,m),b.hasClass("hidden")&&(b.removeClass("hidden"),_.$savedSearchPanel.find(".table-responsive").parent().removeClass("hidden"),_.$savedSearchPanel.find(".emptySavedSearches").remove())},columns:function columns(m,y){var b=y.qName,_=y.qSavedOn,$=y.qLastRun;m.find(".name-td").html(b),m.find(".saved-on-td").html(_),m.find(".last-run-td").html($),this.additionalColumns(m,y),this.frequencyColumn(m,y)},additionalColumns:function additionalColumns(m,y){},frequencyColumn:function frequencyColumn(m,y){var b=y.qAlertStatus;_.frequencyLabels&&_.frequencyLabels[b]&&(b=_.frequencyLabels[b]),m.find(".frequency-td").html(b)},actions:function actions(m,y){var b=y.qId;m.find('[data-action-type="saved-search--remove"]').attr("href",_.removeLink+b),m.find('[data-action-type="saved-search--run"]').attr("href",_.goLink+b)}},openSaveSearchDialog:function openSaveSearchDialog(){var m=_.getCookie("openDialog");if(null!=m&&""!==m){var y=$("#saveSearchTriggerButton");y.length>0&&(document.cookie="openDialog=;expires=Wed; 01 Jan 1970",y.click())}},getCookie:function getCookie(m){for(var y=m+"=",b=document.cookie.split(";"),_=0;_<b.length;_++){for(var $=b[_];" "===$.charAt(0);)$=$.substring(1);if(-1!==$.indexOf(y))return $.substring(y.length,$.length)}return null},onSaveSearchSubmitHandler:function onSaveSearchSubmitHandler(m){return $("#newSearchSaveButton").hide(),$(".saveSearchProgress").show(),$.ajax({type:"POST",url:"/action/doSaveSearch",data:$(m.target).serialize(),success:_.saveSearchSuccessHandler,error:function error(m){$(".error.saveSearchMsg").show("fade").removeClass("hidden"),$("#newSearchSaveButton").show(),$(".saveSearchProgress").hide(),$("#saveSearchDialog").modal("toggle"),$("#saveSearchDialog").click()}}),!1},saveSearchSuccessHandler:function saveSearchSuccessHandler(m){$(".success.saveSearchMsg").show("fade").removeClass("hidden"),$("#newSearchSaveButton").show(),$(".saveSearchProgress").hide(),$("#saveSearchDialog").modal("toggle"),$("#saveSearchDialog").click(),UX.modal.on.hide(),_.redrawSavedSearchesPanel(JSON.parse(m).favQueries)},redrawSavedSearchesPanel:function redrawSavedSearchesPanel(m){var y=this;m.forEach((function(m,b){b>=_.maxSearchQueries||y.render.row(m,b)}))}},UX.searchResult=_},function(m,y){$(document).ready((function(){$(document).on("click","#indivLogin, #guestLogin",(function(m){m.preventDefault(),m.stopPropagation(),$(this).toggleClass("active"),$(".navigation-login-dropdown-container:not(.login-options)").toggleClass("hidden"),$(".search-open").is(":visible")&&toggleQuickSearch()})),$(document).on("click",(function(m){"indivLogin"===$(m.target).attr("id")||"guestLogin"===$(m.target).attr("id")||$(".navigation-login-dropdown-container").hasClass("hidden")||$(".navigation-login-dropdown-container").addClass("hidden")})),$("#accessTokenForm div.input-group input[type=text]").on("keyup input change",(function(){$("#accessTokenForm div.input-group #tokenAccess").val().length?$("#accessTokenForm input[type=submit]").removeAttr("disabled"):$("#accessTokenForm input[type=submit]").attr("disabled","disabled")})),$(".registration-popup input[type=submit]").attr("disabled","disabled"),$(".registration-popup input[type=text]").on("keyup input change",(function(){$(this).val().length?$(".registration-form input[type=submit]").removeAttr("disabled"):$(".registration-form input[type=submit]").attr("disabled","disabled")})),$("#check-if-exist")&&setTimeout((function(){$("#hidden-message").css("visibility","visible")}),3e4),$("#check-if-exist input[type=input]").on("keyup input change",(function(){$("#check-if-exist input[type=input]").val().length?$("#check-if-exist input[type=submit]").removeAttr("disabled"):$("#check-if-exist input[type=submit]").attr("disabled","disabled")}))})),window.loadInstitutionPage=function loadInstitutionPage(m){var y=$(m).val();location.href=y}},function(m,y){var b,_,C;_=$("body"),C={$target:null,$toggle:null,$ul:null,$li:null,isMobile:parseInt((null===(b=UX.grid)||void 0===b?void 0:b.screenSm)&&UX.grid.screenSm-.2)>=window.innerWidth,vPort:"screen-sm",classes:{iconChevronDown:"icon-arrow_d_n pull-right"},init:function init(){C.$target=$(".profile-menu"),C.on.build(),C.control()},control:function control(){_.on("click",".profile-menu--res a",(function(m){C.on.select.dropdown($(this))})),$(document).on(C.vPort+"-on",(function(){C.isMobile||(C.isMobile=!0,C.on.build())})),$(document).on(C.vPort+"-off",(function(){C.isMobile&&(C.isMobile=!1,C.on.build())}))},on:{select:{dropdown:function dropdown(m){("dropdown"===m.closest("ul").data("mobile-toggle")||m.closest("ul").hasClass("dropblock--tab"))&&m.closest(".dropBlock").children("a").find("span").text(m.text())}},dropdownBuild:function dropdownBuild(m){UX.dropBlock&&UX.dropBlock.init(),m.wrap('<div class="profile-menu--dropBlock" data-db-parent-of="dbTab-profile-menu"></div>');var y=m.closest(".profile-menu--dropBlock"),b=C.get.activeTab(m);y.prepend('<a href="#" data-db-target-for="dbTab-profile-menu"><span>'+b.text()+'</span><i class="'+C.classes.iconChevronDown+'" aria-hidden="true"></i></a>'),m.attr("data-db-target-of","dbTab-profile-menu")},dropdownDestroy:function dropdownDestroy(m){m.closest(".profile-menu--dropBlock").children("a").remove(),m.removeAttr("data-db-target-of").removeClass("js--open").removeAttr("style").unwrap(".profile-menu--dropBlock")},build:function build(){C.isMobile?($(".profile-menu").addClass("profile-menu--res"),C.on.dropdownBuild(C.$target)):($(".profile-menu").removeClass("profile-menu--res"),C.on.dropdownDestroy(C.$target))}},get:{activeTab:function activeTab(m){return m.find("a.active,.active a")}}},UX.dropblockUl=C},function(m,y){var b;b={$form:$("#institutionUsageReport"),report_input_name:"counterIds",submitActor:null,$submitActors:null,$usageReports:$(".usageReports"),init:function init(){this.$submitActors=this.$form.find("button[type=submit]"),b.controller(),b.additionalController()},controller:function controller(){b.$submitActors.click((function(m){b.submitActor=this})),b.$form.submit((function(m){m.preventDefault(),null===b.submitActor&&(b.submitActor=b.$submitActors[0]),$("<input />").attr("type","hidden").attr("name",b.submitActor.name).attr("value","").appendTo(b.$form);var y=$(this).children(".error_msg"),_=b.check.dateRange(),C=b.check.selectedReports();if(_&&C)$(this).unbind("submit").submit(),y.hide();else{var D=$('[name="notify"]').next(".error_msg");D.hide(),y.hide(),"notify"===b.submitActor.name?(D.html(b.$usageReports.data("errors-below")),D.show()):(y.html(b.$usageReports.data("errors")),y.show())}})),b.$form.on("click change",".ranges-selects select",(function(){b.on.selectRange()})),b.$form.on("click change",".year-select select",(function(){b.on.selectYear()}))},additionalController:function additionalController(){},error_msg:function error_msg(m){alert("Errors:\n"+m)},on:{selectRange:function selectRange(){var m=b.$form.find("#dateRange");m.find('input[type="radio"]').prop("checked",!1),m.find("input#range-date").prop("checked",!0)},selectYear:function selectYear(){var m=b.$form.find("#dateRange");m.find('input[type="radio"]').prop("checked",!1),m.find("input#year-date").prop("checked",!0)}},check:{dateRange:function dateRange(){var m=b.$form.find("#dateRange");if(m.find("input#range-date:checked").length){var y=m.find("select#startMonthId").val(),_=m.find("select#startYear").val(),$=new Date(_,y,1);y=m.find("select#endMonthId").val(),_=m.find("select#endYear").val();var C=new Date(_,y,1),D=[];$>C&&D.push(b.$usageReports.data("invalid-month-range")),b.monthDiff($,C)>10&&D.push(b.$usageReports.data("invalid-month-number"));var I=m.find(".error_msg");return D.length?(I.html(D.join("<br>")),I.show(),!1):(I.html(""),I.hide(),!0)}return!0},selectedReports:function selectedReports(){var m=b.$form.find("#reports"),y=m.find(".error_msg");return m.find('input[name="'+b.report_input_name+'"]:checked').length?(y.html(""),y.hide(),!0):(y.html(b.$usageReports.data("select-report-error")),y.show(),!1)}},monthDiff:function monthDiff(m,y){var b;return b=12*(y.getFullYear()-m.getFullYear()),b-=m.getMonth()+1,(b+=y.getMonth())<=0?0:b}},UX.reports=b},function(m,y){var b;b={$removeBtn:$(".js__removeAdmins"),init:function init(){b.controller()},controller:function controller(){b.$removeBtn.on("click",(function(m){m.preventDefault(),m.stopPropagation(),b.form.submit()}))},form:{submit:function submit(){b.form.conflictCheck()?b.$removeBtn.closest("form").submit():b.form.error_msg()},conflictCheck:function conflictCheck(){return 0!==b.$removeBtn.closest("form").find('[type="checkbox"]:checked').length},error_msg:function error_msg(){alert($(".administratorsWidget").data("admin-error-msg")||"Please select an administrator to remove.")}}},UX.administrators=b},function(m,y){var b,_,C;b=$("body"),_=$("#pairingManagmentWidgetId"),C={widgetId:_.text(),widgetErrorMsg:_.data("error")||"error occure on the server",pbContext:encodeURI($("[name='pbContext']").attr("content")),$pairedEmailsTable:$(".pairedEmailsTable"),emailsTableRow:".pairing-management__row",paginationContainer:".pairing-management__pagination",clientPagination:null,init:function init(){C.initialization(),C.addtionalInitialization(),C.control()},initialization:function initialization(){C.on.setDatePickers(),$(".pairing-management-demo").length||C.on.refreshPairedDevices(),C.clientPagination=jQuery.extend(!0,{},UX.clientPagination),C.clientPagination.set.containerName(C.paginationContainer),C.clientPagination.set.tableRowName(C.emailsTableRow),C.clientPagination.init()},addtionalInitialization:function addtionalInitialization(){},control:function control(){b.on("click",".dateFilter .calendar",(function(m){m.preventDefault(),$(this).siblings(".datepicker").datepicker("show")})),b.on("click",C.paginationContainer+" .prev, "+C.paginationContainer+" .next, "+C.paginationContainer+" .page",(function(m){m.preventDefault(),$("input[name=userEmail]").prop("checked",!1),C.on.disableActionButtons()})),b.on("click","#refreshButton",(function(m){m.preventDefault(),C.on.refreshPairedDevices()})),b.on("click","#addExternalEmailButton",(function(m){m.preventDefault(),C.clear.dialog($("#externalEmailDialogForm"))})),b.on("click","#confirmAddExternalEmail",(function(m){m.preventDefault(),C.on.addExternalEmail()})),b.on("click","#confirmExtendReinstate",(function(m){m.preventDefault(),C.on.extendReinstateEmail()})),b.on("click","#confirmRevokeAccess",(function(m){m.preventDefault(),C.on.revokeEmail()})),$("#viewDetailButton").click((function(){var m=$("input[name=userEmail]:checked").attr("id");$(this).closest("form").append("<input type='hidden' name='userEmail' value='"+m+"'/>")})),b.on("click","#extendReinstateButton",(function(m){m.preventDefault(),C.clear.dialog($("#extendReinstateAccessDialogForm"));var y=$("input[name=userEmail]:checked").val();$("#extendEmail").val(y)})),b.on("click","#revokeButton",(function(m){m.preventDefault(),C.clear.dialog($("#revokeAccessDialogForm"));var y=$("input[name=userEmail]:checked").val();$("#revokeAccessEmail").val(y)})),b.on("change","input[name=userEmail]",(function(m){$("#extendReinstateButton").prop("disabled",!1),$("#revokeButton").prop("disabled",!1),$("#viewDetailButton").prop("disabled",!1),$(".pairing-management__actions .withSelected").removeClass("disabled")}))},check:{expirationDays:function expirationDays(m){return!!/^\d+$/.test(m.val())||(m.addClass("ui-state-error"),!1)},reason:function reason(m){return!!m.val()||(m.addClass("ui-state-error"),!1)},email:function email(m){return!(!m.val()||0===$.trim($(m).val()).length)||(m.addClass("ui-state-error"),!1)}},clear:{dialog:function dialog(m){m.find("input").removeClass("ui-state-error").val(""),m.find(".expdays").val("180")},filters:function filters(){$("input[name=emailFilter]").prop("checked",(function(){return"checked"===this.getAttribute("checked")})),$("input[name=permissionFilter]").prop("checked",(function(){return"checked"===this.getAttribute("checked")})),$("input[name=emailAddress]").val(""),$("input[name=name]").val(""),C.on.setDatePickers()}},on:{setDatePickers:function setDatePickers(){var m=$("#fromDate"),y=$("#toDate");m.datepicker({defaultDate:"-1w",numberOfMonths:1,onClose:function onClose(m){$("#toDate").datepicker("option","minDate",m)}}),m.datepicker("setDate","-180d"),y.datepicker({defaultDate:"+0",numberOfMonths:1,onClose:function onClose(m){$("#fromDate").datepicker("option","maxDate",m)}}),y.datepicker("setDate","+1d")},addExternalEmail:function addExternalEmail(){var m=$("#addExternalEmail"),y=$("#addExternalEmailExp"),b=$("#addExternalEmailReason"),_=!0;(_=(_=(_=_&&C.check.email(m))&&C.check.expirationDays(y))&&C.check.reason(b))&&($.get("/pb/widgets/ux3/DevicePairingManagementController/addExternalEmail?widgetId="+C.widgetId+"&pbContext="+C.pbContext,{serviceName:$(".serviceNameHidden").text(),email:m.val(),daysToExpiration:y.val(),reason:b.val(),antiForgeryToken:$(".antiForgeryToken").text()}).done((function(m){-1===m.indexOf("externalEmailError")?(C.$pairedEmailsTable.find("tbody").html(m),C.$pairedEmailsTable.trigger("update"),C.on.disableActionButtons(),C.clientPagination.buildPagination(),C.clear.filters()):C.on.displayErrorDialog(m)})).fail((function(m,y,b){C.on.displayErrorDialog("".concat(C.widgetErrorMsg," : ").concat(b))})),$("#externalEmailDialogForm").modal("toggle"))},extendReinstateEmail:function extendReinstateEmail(){var m=$("#extendEmail"),y=$("#extendEmailExp"),b=$("#extendEmailReason"),_=!0;_=(_=_&&C.check.expirationDays(y))&&C.check.reason(b);var D=m.val();_&&($.get("/pb/widgets/ux3/DevicePairingManagementController/extendReinstateEmail?widgetId="+C.widgetId+"&pbContext="+C.pbContext,{serviceName:$(".serviceNameHidden").text(),extendReinstateEmail:D,daysToExpiration:y.val(),reason:b.val(),emailFilter:$("input[name=emailFilter]:checked").attr("id"),permissionFilter:$("input[name=permissionFilter]:checked").attr("id"),emailAddress:$("input[name=emailAddress]").val(),name:$("input[name=name]").val(),fromDate:$("input[name=fromDate]").val(),toDate:$("input[name=toDate]").val(),antiForgeryToken:$(".antiForgeryToken").text()}).done((function(m){C.$pairedEmailsTable.find("tbody").html(m),C.$pairedEmailsTable.trigger("update"),C.clientPagination.buildPagination(),$("input[value='"+D+"']").prop("checked",!0)})).fail((function(m,y,b){C.on.displayErrorDialog("".concat(C.widgetErrorMsg," : ").concat(b))})),$("#extendReinstateAccessDialogForm").modal("toggle"))},revokeEmail:function revokeEmail(){var m=$("#revokeAccessEmail"),y=$("#revokeAccessReason"),b=m.val();$.get("/pb/widgets/ux3/DevicePairingManagementController/revokeAccess?widgetId="+C.widgetId+"&pbContext="+C.pbContext,{serviceName:$(".serviceNameHidden").text(),revokeEmail:b,reason:y.val(),emailFilter:$("input[name=emailFilter]:checked").attr("id"),permissionFilter:$("input[name=permissionFilter]:checked").attr("id"),emailAddress:$("input[name=emailAddress]").val(),name:$("input[name=name]").val(),fromDate:$("input[name=fromDate]").val(),toDate:$("input[name=toDate]").val(),antiForgeryToken:$(".antiForgeryToken").text()}).done((function(m){C.$pairedEmailsTable.find("tbody").html(m),C.$pairedEmailsTable.trigger("update"),C.clientPagination.buildPagination(),$("input[value='"+b+"']").prop("checked",!0)})).fail((function(m,y,b){C.on.displayErrorDialog("".concat(C.widgetErrorMsg," : ").concat(b))})),$("#revokeAccessDialogForm").modal("toggle")},refreshPairedDevices:function refreshPairedDevices(){$.get("/pb/widgets/ux3/DevicePairingManagementController/institutionPairedDevices?widgetId="+C.widgetId+"&pbContext="+C.pbContext,{serviceName:$(".serviceNameHidden").text(),emailFilter:$("input[name=emailFilter]:checked").attr("id"),permissionFilter:$("input[name=permissionFilter]:checked").attr("id"),emailAddress:$("input[name=emailAddress]").val(),name:$("input[name=name]").val(),fromDate:$("input[name=fromDate]").val(),toDate:$("input[name=toDate]").val()}).done((function(m){C.$pairedEmailsTable.find("tbody").html(m),C.$pairedEmailsTable.trigger("update"),C.on.disableActionButtons(),C.clientPagination.buildPagination()})).fail((function(m,y,b){C.on.displayErrorDialog("".concat(C.widgetErrorMsg," : ").concat(b))}))},disableActionButtons:function disableActionButtons(){$("#extendReinstateButton").prop("disabled",!0),$("#revokeButton").prop("disabled",!0),$("#viewDetailButton").prop("disabled",!0),$(".pairing-management__actions .withSelected").addClass("disabled")},displayErrorDialog:function displayErrorDialog(m){$("#externalEmailError").find(".message").html(m),$("#externalEmailError").modal("toggle")}}},UX.pairingManagment=C},function(m,y){var b;b={$modal:$("#emailDomainsConfirmationDialog"),init:function init(){"true"===$(".showConfirmation").text().trim()&&b.$modal.modal({backdrop:"static",keyboard:!1},"toggle")}},UX.remoteAccessEmail=b},function(m,y){!function(){var m=$("body");function createAndAppendInput(m,y,b){var _=document.createElement("input");_.type="hidden",_.name=m,_.value=y,b.append(_)}var y={$target:null,$toggle:null,init:function init(){y.$toggle=$("[name='markall']"),y.control(),y.additionalController()},control:function control(){m.on("click",'[name="markall"]',(function(m){y.$target=$(this).closest(".alert__list"),$(this).closest("#citationAlerts").length&&(y.$target=$("#citationAlerts")),$(this).prop("checked")?y.$target.find('[type="checkbox"]:not(:checked)').click():y.$target.find('[type="checkbox"]:checked').click()})),m.on("change",".alert__freq",(function(m){y.on.frequency_change($(this))})),m.on("change",".alert__sort",(function(m){y.on.sorting_change($(this))})),m.on("click",".js__citActions",(function(m){y.on.cit_actions_change($(this))})),m.on("click",".btn--cancel",(function(m){m.preventDefault(),y.on.reset_form($(this))}))},additionalController:function additionalController(){},on:{build:function build(){},error_msg:function error_msg(){alert("Please select one publication at least")},frequency_change:function frequency_change(m){var y=m.parents("form");y.find("input[name=action]").val(""),createAndAppendInput("save","true",y),createAndAppendInput("updateAxa","true",y),y.submit()},sorting_change:function sorting_change(m){var y=m.find("select").val(),b="#"+m.closest(".tab__pane.active").attr("id");sessionStorage.setItem("activeTab",b),$('<form action="/action/showAlertSettings"><input type="hidden" name="type" value="citation" /><input type="hidden" name="menuTab" value="Alerts"/><input type="hidden" name="sortBy" value="'+y+'"/></form>').appendTo("body").submit()},cit_actions_change:function cit_actions_change(m){var b=m.parents("form"),_=m.attr("data-value");if(_)if($('input[type=checkbox][name="citId"]:checked').length){b.find("input[name=action]").val(_),m.parents(".dropBlock__holder").length&&UX.dropBlock.on.hide();var C="#"+m.closest(".tab__pane.active").attr("id");sessionStorage.setItem("activeTab",C),b.get(0).submit()}else y.on.error_msg()},reset_form:function reset_form(m){var y=m.closest("form");y.trigger("reset"),y.find("input[name=pubCode], input[name=markall], input[name=doCode]").prop("checked",!1),y.find("input[name=format][value=T]").prop("checked",!0)}}};UX.alerts=y}()},function(m,y){var b;b={actions_select:".favoritePublicationsOptions",sort_select:".sortOptions",actions_activator:".js__favActions",sort_activator:".js__favSort",tabs_nav:".account-tab__nav a",$body:$("body"),lastModfied:"",vPort:"",type:"Article",removeAction:"",init:function init(){b.controller(),b.updateSortingLinks(),b.addEventsToActions(),b.additionalController(),b.manipulateUrl()},controller:function controller(){b.$body.on("click",b.actions_activator,(function(){$(this).closest(b.actions_select).val($(this).data("value")),$(this).closest(b.actions_select).trigger("change")})),b.$body.on("click",'[name="markall"]',(function(m){var y=$(this).parents("form").find("tbody .table__mark"),b=y.find('[type="checkbox"]'),_=y.find(".jcf-checkbox"),C=$(this).prop("checked");b.prop("checked",C),C?(_.removeClass("jcf-unchecked"),_.addClass("jcf-checked")):(_.removeClass("jcf-checked"),_.addClass("jcf-unchecked"))})),b.$body.on("click",b.tabs_nav,(function(){b.type=$(this).attr("data-type"),sessionStorage.setItem("activeTab",this.getAttribute("href")),b.updateSortingLinks()}))},additionalController:function additionalController(){},addEventsToActions:function addEventsToActions(){$(b.actions_select).change((function(){b.fav_actions(this)}))},error_msg:function error_msg(){var m,y=document.getElementById("favorites-widget"),b=(null==y||null===(m=y.dataset)||void 0===m?void 0:m.errorMsg)||"Please select one publication at least";alert(b)},fav_actions:function fav_actions(m){if(!$('input[type=checkbox][name="doi"]:checked').length)return b.error_msg(),void $(m).val("");var y=$(m).val(),_=$(m).parents("form"),C="";if(y){b.removeAction||(b.removeAction=_.attr("action")),"alert"===y?(C="/action/doUpdateAlertSettings",$("option[value="+y+"]",m).val("addJournalBookAlert")):"delete"===y?C=b.removeAction:"publicationAddJournalBookAlert"===y?(C="/action/doUpdateAlertSettings",$("option[value="+y+"]",m).val("addJournalBookAlert"),$("input[type=checkbox][name=doi]").each((function(){$(this).val($(m).parent("td").attr("serialDoi"))}))):C=y,_.attr("action",C);var D="#"+$(m).closest("li[role='tabpanel']").attr("id");sessionStorage.setItem("activeTab",D),_.get(0).submit()}},manipulateUrl:function manipulateUrl(){var m=b.getLocationUrl();$('[name="href"]').val(m);var y=b.stripParam(m,"sortBy");$('[name="currentUrl"]').val(y);var _=b.getParam(m,"type");_&&(b.type=_,$(b.tabs_nav+"[data-type='"+_+"']").length&&$(b.tabs_nav+"[data-type='"+_+"']").trigger("click"))},getLocationUrl:function getLocationUrl(){var m=window.location.pathname;return m+window.location.href.split(m)[1]},stripParam:function stripParam(m,y){var b="",_=m.split("&");return $.each(_,(function(m,$){var C=this.indexOf(y);0===C&&(_[m]=""),b+=_[m],m<_.length-1&&0!==C&&(b+="&")})),b},getParam:function getParam(m,y){var b=m.split("&"),_="";return $.each(b,(function(m,b){var $=this.split("=");if($[0]===y)return _=$[1],!1})),_},updateSortingLinks:function updateSortingLinks(){var m=document.querySelectorAll(".favoriteShortlist .sorting-link");Array.prototype.forEach.call(m,(function(m){var y=m.dataset.sortId;m.href="/action/showPreferences?menuTab=favorites&sortBy=".concat(y,"&type=").concat(b.type)}))}},UX.favorites=b},function(m,y){!function(m){"use strict";var y={selectors:{placeholder:".show-recommended-placeholder"},desktopWidth:768,init:function init(){$(y.selectors.placeholder).each((function(m,b){$(b).closest("#pane-pcw-related:not(.active)").length&&window.screen.width>=y.desktopWidth?document.querySelectorAll("#pane-pcw-related, #pane-pcw-relatedcon").forEach((function(m){m.addEventListener("click",(function(){return y.getRecommendedData(b)}))})):y.getContent(b)}))},getContent:function getContent(m){var b=$(m);b.load(b.attr("data-ajaxurl"),"onload=true",(function(){y.truncate&&y.truncate(b),setTimeout((function(){y.checkIfClosed(b),y.hideSkeletons(b),$(document).trigger("showRecommended:loaded")}),10)}))},getRecommendedData:function getRecommendedData(m){m.classList.contains("js-reommended-loaded")||(y.getContent(m),m.classList.add("js-reommended-loaded"))},truncate:function truncate(m){y.truncate&&($(".creative-work__title",m).not("[data-truncate='none']").truncate({lines:3,addClass:"min-height"}),$(".creative-work .loa",m).not("[data-truncate='none']").truncate({lines:2,type:"list",addClass:"loa-height"}))},checkIfClosed:function checkIfClosed(m){var y=m.closest(".accordion-tabbed__tab");y.hasClass("js--open")||(y.find(".accordion-tabbed__control").attr("aria-expanded","false"),y.find(".accordion-tabbed__content").hide())},hideSkeletons:function hideSkeletons(m){$(".lazy-load",m).remove(),$(".delayLoad",m).removeClass("delayLoad").addClass("delayedLoad"),m.replaceWith(m.children())}};m.showRecommended=y}(UX)},function(m,y){var b;b={init:function init(){b.set.variables(),b.hasAdBlock()&&b.displayPopup()&&(b.$modal.modal("show"),b.controls())},set:{variables:function variables(){b.$modal=$("#DisableAdBlocker"),b.isUserLogedin=document.querySelector(".pb-page")&&document.querySelector(".pb-page").hasAttribute("data-pb-user-name"),b.adblockerContinueBtn=document.querySelector(".disable-adblocker__continue-btn"),b.adblockerDisableBtn=document.querySelector(".disable-adblocker__disable-btn"),b.adblockerActionsBack=document.querySelectorAll(".actions__back"),b.adblockerBlockersButtons=document.querySelectorAll(".blockers .blocker button")}},controls:function controls(){b.adblockerDisableBtn.addEventListener("click",(function(m){b.slideContent(m,"-100%")})),b.adblockerContinueBtn.addEventListener("click",(function(){b.isUserLogedin?localStorage.setItem("hideAdBlock",!0):sessionStorage.setItem("hideAdBlock",!0)})),b.adblockerActionsBack.forEach((function(m){m.addEventListener("click",(function(m){b.slideContent(m,"0")}))})),b.adblockerBlockersButtons.forEach((function(m){m.addEventListener("click",(function(y){var _=m.getAttribute("data-blockerType");b.openTab(y,_)}))}))},hasAdBlock:function hasAdBlock(){var m=document.createElement("div");m.innerHTML="&nbsp;",m.className="adsbox pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads adglare-ad-server text-ad-links";var y=!(m.style="width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;");try{document.body.appendChild(m);var b=document.getElementsByClassName("adsbox")[0];if(0!==b.offsetHeight&&0!==b.clientHeight||(y=!0),void 0!==window.getComputedStyle){var _=window.getComputedStyle(b,null);!_||"none"!==_.getPropertyValue("display")&&"hidden"!==_.getPropertyValue("visibility")||(y=!0)}document.body.removeChild(m)}catch(b){console.error(b)}return y},displayPopup:function displayPopup(){return b.isUserLogedin?!localStorage.getItem("hideAdBlock"):!sessionStorage.getItem("hideAdBlock")},slideContent:function slideContent(m,y){m.preventDefault(),m.stopImmediatePropagation(),document.querySelector(".disable-adblocker__content").style.transform="translateX(".concat(y,")"),document.querySelector(".disable-adblocker__instructions").style.transform="translateX(".concat(y,")")},openTab:function openTab(m,y){var b=document.querySelectorAll(".tabcontent"),_=document.querySelectorAll(".blocker-list .blocker button");b.forEach((function(m){m.style.display="none"})),_.forEach((function(m){m.classList.remove("active")})),document.getElementById(y).style.display="block",m.currentTarget.classList.add("active")}},UX.disableAdblocker=b,document.addEventListener("DOMContentLoaded",(function(){document.getElementById("DisableAdBlocker")&&UX.disableAdblocker.init()}))},function(m,y){$.fn.checkpairing=function(){return $(this).each((function(){var m,y=$(".pair-device-is-paired"),b=$(".pairingExpirationDate"),_=$(".pairedInstitution"),C=$(".autoPairedInstitution");y.length&&"true"===y.val()?($(".device-pairing-submit").css("display","none"),$(".device-pairing-submit-label").css("display","none"),$(".device-pairing-status").css("display","block"),$(".device-pairing-status-label").css("display","block"),0!==C.length?(m='<span class="device-pairing-status_text">Your device is paired with <span class="auto-paired-inst-name">'+C.val()+'</span> Institution</span><input class="device-pairing-end-implicit-pairing" type="button" name="endPairing" value="End Pairing" ariaLabel="End Pairing"/>',$(".device-pairing-status").html(m),$(".device-pairing-end-implicit-pairing").click((function(){$.ajax({method:"GET",url:"/pb/widgets/loginBarController/revokeImplicitPairing",error:function error(m){console.error("Failed to revoke implicit pairing: "+m)}}).done((function(m){console.log("Revoked implicit pairing successfully!"),window.location="/"}))}))):(m='<span class="device-pairing-status_text">Your pairing to '+_.val()+" will expire on ("+b.val()+')</span><input class="device-pairing-submit_end-pairing" type="button" name="endPairing" value="End Pairing" ariaLabel="End Pairing"/>',$(".device-pairing-status").html(m),$(".device-pairing-submit_end-pairing").click((function(){var m=$(".user-login-bar__Logout");m&&m[0].click()})))):($(".device-pairing-submit").css("display","block"),$(".device-pairing-submit-label").css("display","block"),$(".device-pairing-status").css("display","none"),$(".device-pairing-status-label").css("display","none"))}))}},function(m,y){UX.searchResult.additionalInit=function(){var m=$(".search-result"),y=m.find(".issue-item").find(".issue-item_jour-logo"),b=getUrlParameter("SeriesKey"),_=m.find(".hiddenPublication"),C=$(".search-result__no-result"),D=window.matchMedia("(max-width: ".concat(UX.grid.screenSm,"px)")).matches,I=document.querySelector(".search-result__refine"),M=document.querySelector(".result__ctrl__filters"),P=document.querySelector(".tab.advancedSearch__tabs");null!==b&&""!==b&&y.length&&y.hide(),_.length&&""!==_.val()&&1===_.length&&y.length&&y.hide(),C.length&&(null==P||P.classList.remove("advancedSearch__tabs--hidden"),null==I||I.classList.add("js--open"),D&&(I.style.pointerEvents="none",M.style.pointerEvents="none"))}},function(m,y){var b,_;$.fn.quickSearch=function(){return $(this).each((function(){var m,y,b,_,C,D,I,M,P,R,N,U,H,B="",z="",q="",W="",X="",V="",G="",Y="";B=$("body"),z=$(this),q=$(this).find(".quick-search_default"),W=$(this).find(".quick-search_all-field"),X=$(this).find(".quick-search_journals-select"),_=$(this).find(".quick-search_page-input"),C=$(this).find(".quick-search_volume-input"),V=$(this).find(".quick-search_icon"),G=$(this).find(".quick-search_default button"),Y=$(this).find(".quick-search_citation button"),D=$(".header_article_inactive"),I=$(".quick-search_journal-filter input"),M=$(".quick-search_journal-filter label"),m="quick-search_opened",P=W.data("publication-titles-conf"),R=W.data("contributors-conf"),N=W.data("topics-conf"),U=W.data("history-items-conf"),H="/action/doSuggest?target=auto-complete&hs="+U+"&pts="+P+"&ts="+N+"&cs="+R+"&fl=PubID",W.autocomplete({appendTo:".quick-search_default",open:function open(m,y){$(".ui-autocomplete").off("menufocus hover mouseover mouseenter")},source:function source(m,y){$.ajax({url:H,dataType:"json",data:{query:m.term},success:function success(m){var b,_={};for(b in m)_[m[b].label.toLowerCase()]=m[b];y($.map(_,(function(m){return{label:m.label,value:m.label,id:m.value,type:m.param}}))),$(".ui-menu-item .ui-menu-item-wrapper").attr({tabindex:0,"aria-live":"polite","aria-atomic":!0})}})},select:function select(m,y){"ContribAuthorStored"===y.item.type&&(q.find('input[name="AllField"]').attr("disabled","disabled"),q.prepend('<input type="hidden" id="ContribAuthorStored" name="ContribAuthorStored" value="'+y.item.label+'">')),"ContribRaw"===y.item.type&&(q.find('input[name="AllField"]').attr("disabled","disabled"),q.prepend('<input type="hidden" id="ContribRaw" name="ContribRaw" value="'+y.item.label+'">')),setTimeout((function(){"history"===y.item.type?window.location.href=y.item.id:q.trigger("submit")}),100)}}).removeAttr("autocomplete"),V.on("click",(function(y){y.preventDefault(),unfreezePage(),z.hasClass(m)?(z.removeClass(m),D.removeClass(m)):(z.addClass(m),D.addClass(m))})),W.on("focus",(function(){z.addClass(m),D.addClass(m)})),G.on("click",(function(m){""===W.val().trim()&&(m.preventDefault(),alert("Please enter search terms before running your search."))})),B.on("keyup",".quick-search_journal-filter",(function(m){13!==m.which&&32!==m.which||(I.removeAttr("checked"),M.attr("aria-checked","false"),$(m.target).find("input").attr("checked","true"),$(m.target).closest("label").attr("aria-checked","true"))})),Y.on("click",(function(m){return""===X.val().trim()?(m.preventDefault(),void alert("Please select a journal before running your search.")):""!==C.val().trim()&&isNumeric(C.val())?""!==_.val().trim()&&isNumeric(_.val())?void 0:(m.preventDefault(),void alert("Please enter a valid Page before running your search.")):(m.preventDefault(),void alert("Please enter a valid Volume before running your search."))})),B.on("click touchstart",(function(y){$(y.target).hasClass("quick-search")||$(y.target).parents(".quick-search").length||$(y.target).hasClass("jcf-select-drop")||$(y.target).parents(".jcf-select-drop").length||(z.removeClass(m),D.removeClass(m))})),B.on("click",".radio--primary",(function(m){var y,b,_,C;"thisJournalRadio"!==m.target.closest("label").htmlFor?(y=$('[for="thisJournalRadio"]').html())&&!y.includes("fakedinput")&&(_=(b=y.replace(/input/gi,"fakedinput")).replace(/all-content\">/gi,'all-content"></fakedinput>'),$('[for="thisJournalRadio"]').html(_)):null!==(C=y=$('[for="thisJournalRadio"]').html())&&void 0!==C&&C.includes("fakedinput")&&(b=y.replace(/fakedinput/gi,"input"),$('[for="thisJournalRadio"]').html(b))})),$(document).keyup((function(y){27===y.keyCode&&(z.removeClass(m),D.removeClass(m))})),y=debounce((function(){z.hasClass("quick-search_opened")&&(b=z.find(".jcf-select.jcf-drop-active")).length>0&&b.trigger("jcf-pointerdown")}),10),window.addEventListener("scroll",y)}))},_={$bookField_input:"",$bookField_byYear:"",$bookButton:"",$book_qs_result_num:"",$book_qs_result_matching:"",$alert_message:"",init:function init(){_.$bookField_input=$(".book-qs_content input[name='Title']"),_.$bookButton=$(".book-qs_form button"),_.$alert_message="Please enter search terms before running your search.",_.$bookField_byYear=$(".find-abook_year-page"),_.$book_qs_result_num=$(".books-list_result-qs-num"),_.$book_qs_result_matching=$(".book-qs_result"),_.controller()},controller:function controller(){var m,y,b;_.$bookButton.on("click",(function(m){""===_.$bookField_input.val().trim()&&(m.preventDefault(),alert(_.$alert_message))})),m=_.$book_qs_result_num.val(),0!==_.$bookField_input.length&&""!==_.$bookField_input.val()&&(y=$(".book-qs-search-term").val(),0===_.$book_qs_result_num.length?_.$book_qs_result_matching.text("No results found."):(b=m>1?" books matching ":" book matching ",_.$book_qs_result_matching.text(m+b+'"'+y+'"')),_.$book_qs_result_matching.css("display","block")),_.$bookField_byYear.length&&0!==_.$book_qs_result_num.length&&_.$bookField_byYear.text("(Showing results "+$(".result-num-firstElementInCurrentPage").val()+"-"+$(".result-num-lastElementInCurrentPage").val()+" of "+m+")")}},UX.bookSearch=_,b={$sgField_input:"",$sgButton:"",$alert_message:"",init:function init(){b.$sgField_input=$(".sg-quick-search_all-field"),b.$sgButton=$(".sg-quick-search_default button"),b.$alert_message="Please enter search terms before running your search.",b.controller()},controller:function controller(){b.$sgButton.on("click",(function(m){""===b.$sgField_input.val().trim()&&(m.preventDefault(),alert(b.$alert_message))}))}},UX.sgSearch=b},function(m,y){var b;(b=$("body")).on("click",".header_publications .pubModal_button, .header_burger-menu .pubModal_button",(function(){var m;function preRenderPublications(){var m;$(".pub-modal_types-list a").length<2&&(function renderPublications(){$.fn.publications=function(){return $(this).each((function(){$(this);var m=$(this).find(".pub-content");!function fillPublicationsList(m,y){var b,_,$,C;for(b in m)for(_ in m[b].publications){for($ in C="",C+="pub_"+m[b].publications[_].type+" ",C+=m[b].publications[_].type+" ",m[b].publications[_].subjects)C+=m[b].publications[_].subjects[$].code+" ";0==_?y.append("<div class='pub_charCont'><span class='pub_char'><span>"+m[b].char+"</span></span><a href='"+m[b].publications[_].url+"' class='"+C+"'>"+m[b].publications[_].name+"</a></div>"):y.append("<a href='"+m[b].publications[_].url+"' class='"+C+"'>"+m[b].publications[_].name+"</a>")}}(JSON.parse($(this).find("input[name='pubModalData']").val()).publications,m)}))},$.fn.pubModal=function(m){return $(this).each((function(){var y=$(this),b=$(this).find(".pub_char"),_=$(this).find(".pub_charCont"),C=$(this).find(".pub-modal_close"),D=$(this).find(".pub-modal_left .pub-modal_back"),I=$(this).find(".pub-modal_right .pub-modal_back"),M=$(this).find(".pub-modal_right .pub-modal_control-text"),P=$(this).find(".pub-modal_types-list"),R="",N="",U=$(this).find(".pub-modal_subjects"),H=$(this).find(".pub-modal_subjects-list"),B="",z="",q=$(this).find(".pub-modal_right"),W=$(this).find(".pub-modal_left"),X=$(this).find(".pub-content"),V="",G=($(this).find(".pub-modal_left-content"),$(this).find(".pub-modal_left-dropdown a")),Y=!1,K=JSON.parse($(this).find("input[name='pubModalData']").val());function fillSubjectsLinksList(m,y){var b;for(b in y.append("<li data-type='pub_journals'><a href='#'>All Topics</a></li>"),m)y.append("<li data-type='"+m[b].code+"'><a>"+m[b].label+"</a></li>")}function slideInRight(m){m.animate({right:"0%"},500)}function slideOutRight(m,y){m.animate({right:"-100%"},500),y.scrollTop(0)}function clearEmptyListHeader(m){m.each((function(){var m,y,b,_=this.closest("span.journals");if(0===$(_).length)return!0;y=(m=$(_).nextUntil("span")).length,b=0,m.each((function(){"none"===$(this).css("display")&&b++})),b===y&&$(_).hide()}))}!function fillTypesList(m,y){var b,_;for(b in m)y.append("\n                            <li data-type=".concat(m[b].code," id=").concat(m[b].code,"ID>\n                                <a href=").concat(m[b].link,">\n                                    <h4>").concat(m[b].label,"</h4>\n                                </a>\n                            </li>\n                            ")),"journals"===m[b].code&&((_=y.find("li:last-child")).append("<ul class='pub-modal_subjects-links-list hidden-lg hidden-md'></ul>"),fillSubjectsLinksList(K.subjects,_.find("ul"))),"curated-content"===m[b].code&&y.find("#".concat(m[b].code,"ID a")).append('<i aria-hidden="true" class="icon-arrow-up-right hidden-sm hidden-xs"></i>')}(K.types,P),function fillSubjectsList(m,y){var b;for(b in m)y.append("<li id='"+m[b].code+"ID'><label class='checkbox--primary' tabindex='0'><input type='checkbox' data-subject='"+m[b].code+"'/><span>"+m[b].label+"</span></label></li>")}(K.subjects,H),N=P.find("a"),z=H.find("input[type='checkbox']"),B=$(this).find(".pub-modal_subjects-links-list"),V=X.find("> a, > div > a"),$(window).width()<768?Y=!0:(Y=!1,slideInRight(q)),N.click((function(m){var C,D,I,P,z;"curated-content"!==(null===(C=$(this).parent())||void 0===C?void 0:C.data("type"))&&(m.preventDefault(),M.html("Publications: "+$(this).html()),D=H.find("input[type='checkbox']:checked"),!1===(I=$(this).parent()).hasClass("pub-modal_types-active")&&(N.parent().removeClass("pub-modal_types-active"),I.addClass("pub-modal_types-active"),R=I.data("type"),"all"===I.data("type")||""===I.data("type")?(U.fadeIn("slow"),D.length?(V.hide(),b.hide(),_.each((function(){2===$(this).children(":hidden").length&&$(this).hide()})),$.each(D,(function(){X.find("."+$(this).data("subject")).fadeIn("slow")}))):(V.fadeIn("slow"),_.fadeIn("slow"),b.fadeIn("slow"))):"journals"===I.data("type")?Y||(U.fadeIn("slow"),V.hide(),b.hide(),_.each((function(){2===$(this).children(":hidden").length&&$(this).hide()})),D.length?$.each(D,(function(){P="."+$(this).data("subject"),(z=X.find(P)).fadeIn("slow"),z.closest(".pub_charCont").show()})):(_.fadeIn("slow"),b.fadeIn("slow"),X.find("."+I.data("type")).fadeIn("slow"),b.each((function(){$(this).siblings().length<2&&$(this).siblings().is(":hidden")&&!$(this).parent().next().is("a")?$(this).hide():$(this).show()}))),clearEmptyListHeader(V)):Y&&"pub_journals"===I.data("type")?(V.hide(),X.find(".journals").fadeIn("slow"),_.fadeIn("slow"),b.fadeIn("slow"),X.find("."+I.data("type")).fadeIn("slow"),U.hide(),clearEmptyListHeader(V)):(V.hide(),_.show(),b.hide(),X.find("."+I.data("type")).fadeIn("slow"),U.hide(),_.each((function(){2===$(this).children(":hidden").length?$(this).hide():$(this).show()})))),Y&&"journals"!==I.data("type")&&(slideInRight(q),y.hasClass("pub-modal_layout-not-fixed")&&(G.find("span").html($(this).html()),G.parent().toggleClass("pub-modal_left-dropdown-opened"))),Y&&"journals"===I.data("type")&&(B.slideToggle("slow"),I.toggleClass("pub-modal_types-opened")),"all"!==I.data("type")&&""!==I.data("type")&&"books"!==I.data("type")&&"news"!==I.data("type")||(B.slideUp("slow"),N.parent().removeClass("pub-modal_types-opened")))})),""!==G&&G.click((function(m){m.preventDefault(),G.parent().toggleClass("pub-modal_left-dropdown-opened")})),z.change((function(){var m;P.addClass("disabled"),H.addClass("disabled"),setTimeout((function(){P.removeClass("disabled"),H.removeClass("disabled")}),800),(m=H.find("input[type='checkbox']:checked")).length?(V.hide(),b.hide(),_.each((function(){2===$(this).children(":hidden").length&&$(this).hide()})),$.each(m,(function(y){X.find("."+$(this).data("subject")).fadeIn("slow"),_.each((function(){var b=m[y].getAttribute("data-subject"),$=_.find("."+b);$.length&&$.parent().show()}))}))):"all"===R||""===R?(V.show("slow"),_.show("slow"),b.show("slow")):"journals"===R?(X.find(".journals").show("slow"),_.show("slow"),b.show("slow")):X.find("."+R).fadeIn("slow")})),m.click((function(m){m.preventDefault(),freezePage(),y.show(),Y&&slideInRight(W)})),C.click((function(m){m.preventDefault(),unfreezePage(),y.hide()})),D.click((function(m){m.preventDefault(),Y&&(slideOutRight(q,X),slideOutRight(W,X)),unfreezePage(),setTimeout((function(){y.hide()}),500)})),I.click((function(m){m.preventDefault(),slideOutRight(q,X)})),$(document).keyup((function(m){27===m.keyCode&&(unfreezePage(),y.hide())}))}))}}(),$(".pub").length&&(m=$(".pubModal_button"),$(".pub").publications(m)),$(".pub-modal").length&&(m=$(".pubModal_button")).length&&$(".pub-modal").pubModal(m)),freezePage(),$(".pub .pub-modal").show(),$(".pub-modal_close").focus(),$(".pubModal_button").removeClass("disabled")}b.find("#ajaxUrl").length>0&&($(this).addClass("disabled"),m=b.find("#ajaxUrl").val(),$("input[name='pubModalData']").val().length<1&&$.ajax({type:"GET",dataType:"json",url:m,complete:function complete(m,y,_){b.find("input[name='pubModalData']").val(JSON.stringify(m.responseJSON)),preRenderPublications()}})),$("input[name='pubModalData']").val().length>0&&preRenderPublications()}))},function(m,y){var b;b={$moreAccessOptionsLink:$(".more-access-btn"),$previewLink:$(".preview_button"),$previewAndAccessOptionsContainer:$(".preview-and-access-options-links"),$robbin:$(".robbin"),init:function init(){b.$previewLink.length&&(b.$robbin.length&&b.$robbin.show(),b.$moreAccessOptionsLink.length&&b.$previewAndAccessOptionsContainer.length&&b.$previewAndAccessOptionsContainer.append('<a onclick="UX.tableOfContent.previewThisBook()">Preview this book</a>').append(" or find ").append('<a onclick="UX.tableOfContent.moreAccessOptions()">more access options</a>'))},previewThisBook:function previewThisBook(){b.$previewLink.click()},moreAccessOptions:function moreAccessOptions(){b.$moreAccessOptionsLink.click()}},UX.tableOfContent=b},function(m,y){var b;b={$tocGroupHeading:"",$inIssueTitelAndList:"",$smallImgs:"",$xlargeImgs:"",$largeImg:"",$largeImgSrc:"",$textContainer:"",$downloadBtn:"",$doi:"",$inIssue_list:"",$serviceUrl:"/pb/widgets/tocListWidgetController/getLargeCoverImage",$coverCaption:"",$el:"",xlargeImgSrc:"",init:function init(){b.$tocGroupHeading=$(".toc_group-heading"),b.$inIssueTitel=$(".niHeader_in-issue > h6"),b.$smallImgs=$(".niHeader_covers-sm input"),b.$xlargeImgs=$(".niHeader_covers-xlg input"),b.$largeImgClass=$(".niHeader_covers-lg"),b.$largeImg=$(".niHeader_covers-lg img"),b.$textContainer=$(".niHeader_about-caption div"),b.$downloadBtn=$(".niHeader_download-btn button"),b.$doi=$("input[name='niHeader_doi']").val(),b.$largeImgSrc=b.$largeImg.attr("src"),b.$coverCaption=$(".niHeader_about-caption"),b.$coverCaptionContent=$(".niHeader_about-caption-content"),b.$coverCaptionWrapper=$(".niHeader_about-caption-wrapper"),b.initDisplayController(),b.fillInThisIssue(),b.$el=$(".niHeader_covers-sm input[style*='display:none']"),b.updateXlargeImgSrc("1"),b.controller()},controller:function controller(){$(window).resize((function(){b.showHide()})),b.$smallImgs.click((function(){var m,y,_;!1===b.$largeImgClass.hasClass("acs_ajaxOverlay")&&(b.$el=$(this),b.showHide(this),b.updateXlargeImgSrc($(this).attr("data-order")),m=$(this).attr("src"),_=(y=$(".niHeader_covers-lg img")).css("height"),y.remove(),ajaxOverlay(".niHeader_covers-lg"),b.$largeImgClass.css("height",_),$(".niHeader_covers-lg_acs_ajaxOverlay").css("height",_),$.get(b.$serviceUrl,{issueDOI:b.$doi,fileName:m.substring(m.lastIndexOf("/")+1,m.length),imageLocation:$(this).data("loc")},(function(m,y){m="string"==typeof m?JSON.parse(m):m,b.$largeImg.fadeOut("slow",(function(){null!=m.coverImage[0].coverPath&&b.$largeImgClass.append("<img src='"+m.coverImage[0].coverPath+"' alt=''/>"),$(this).fadeIn("slow",(function(){setTimeout((function(){m.coverImage[0].coverCaption?""===m.coverImage[0].coverCaption.trim()||"&nbsp;"===m.coverImage[0].coverCaption.trim()?(b.$coverCaptionWrapper.removeClass("minHeight-caption"),b.$coverCaption.hide(),b.$textContainer.html("")):(b.$coverCaption.show(),b.$textContainer.html(m.coverImage[0].coverCaption)):(b.$coverCaptionWrapper.removeClass("minHeight-caption"),b.$coverCaption.hide(),b.$textContainer.html("")),b.$largeImg=$(".niHeader_covers-lg img"),b.$largeImgSrc=b.$largeImg.attr("src"),removeAjaxOverlay(".niHeader_covers-lg")}),100),setTimeout((function(){b.$largeImgClass.css("height","auto")}),100)}))}))})).fail((function(){console.log("error")})))})),b.hideDownloadButton(),b.$downloadBtn.click((function(){ajaxOverlay("body"),b.showXLargeCover(b.xlargeImgSrc)}))},showXLargeCover:function showXLargeCover(m){var y;window.XMLHttpRequest?y=new XMLHttpRequest:window.ActiveXObject&&(y=new ActiveXObject("Microsoft.XMLHTTP")),y.open("GET",m,!0),y.send(null),y.onreadystatechange=function(){4===y.readyState&&(200===y.status?(removeAjaxOverlay("body"),setTimeout((function(){parent.window.location=m}),100)):(removeAjaxOverlay("body"),alert("Sorry, there is not a high-resolution version of this cover.")))}},showHide:function showHide(){var m=window.matchMedia("only screen and (max-width: 767px)").matches,y=window.matchMedia("only screen and (min-width: 1026px) and (max-width: 1367px)").matches;m||y?b.$smallImgs.css("display","inline-block"):b.$smallImgs.css("display","block"),b.$el.css("display","none")},hideDownloadButton:function hideDownloadButton(){var m,y=b.$largeImgSrc;y.length>0&&null!==(y=y.match(/.*\/(.*?issue-.*?)\D/))&&null!==(m=y[1].match(/(.*?)\./))&&("cgeabj"!==m[1]&&"cenear"!==m[1]&&"neaca9"!==m[1]&&"iecnav"!==m[1]||b.$downloadBtn.hide())},fillInThisIssue:function fillInThisIssue(){var m,y;b.$tocGroupHeading.length?b.$tocGroupHeading.each((function(){m=$(this).text(),y=$(this).attr("id"),$('<li><a href="#'+y+'" title="" class="internalNav"><i class="icon-angle-double-right"></i>'+m+"</a>").appendTo(".niHeader_in-issue > ul")})):b.$inIssueTitel.addClass("acs_inVisible")},initDisplayController:function initDisplayController(){b.$coverCaptionContent.length>0&&b.$coverCaptionContent.html().length>0&&"&nbsp;"!==b.$coverCaptionContent.html().trim()&&""!==b.$coverCaptionContent.html().trim()?b.$coverCaption.show():(b.$coverCaptionWrapper.removeClass("minHeight-caption"),b.$coverCaption.hide())},updateXlargeImgSrc:function updateXlargeImgSrc(m){var y=$(".niHeader_covers-xlg input[data-order=".concat(m,"]"));y.length?(b.xlargeImgSrc=y.attr("data-src"),b.$downloadBtn.show()):b.$downloadBtn.hide()}},UX.niHeader=b},function(m,y){var b;b={$multiSearch:"",init:function init(){b.control()},initLazyLoad:function initLazyLoad(){lazyLoad(".multi-search .issue-item [data-src]")},control:function control(){b.$multiSearch=$(".multi-search"),b.$accessControlGroups=document.querySelectorAll(".access-management-access-icons"),b.$multiSearch.each((function(){var m=$(this),y=$(this).find("form input, form select"),_=$(this).find(".simple-pagination a"),C=m.find("input[name='currentPage']"),D=m.find("input[name='lastPage']");y.change((function(){ajaxOverlay(m),b.clearPageNum(m),b.ajax(m)})),_.click((function(y){y.preventDefault(),ajaxOverlay(m),$(this).hasClass("simple-pagination_first")?C.val(0):$(this).hasClass("simple-pagination_prev")?C.val(parseInt(C.val())-1):$(this).hasClass("simple-pagination_last")?C.val(parseInt(D.val())):$(this).hasClass("simple-pagination_next")&&C.val(parseInt(C.val())+1),b.ajax(m)}))}))},clearPageNum:function clearPageNum(m){m.find("input[name='currentPage']").val(0)},ajax:function ajax(m){var y=JSON.stringify(b.getWidgetState(m)),_="widgetState="+encodeURIComponent(y);_+="&pbContext="+encodeURIComponent(b.getPbContext()),_+="&widgetId="+encodeURIComponent(m.attr("id")),$.ajax({type:"POST",url:"/pb/widgets/multiSearch/updateWidget",dataType:"html",data:_,async:!0,success:function success(y){m.after(y),m.remove(),$(".multi-search").length&&(UX.multiSearch.init(),b.$accessControlGroups.forEach((function(m){new UX.AccessManagementConrols(m).initialize()}))),jcf.setOptions("Select",{wrapNative:!1,wrapNativeOnMobile:!0}),jcf.replace(b.$multiSearch.find(".jcf")),b.initLazyLoad()},error:function error(m){console.log(m)}})},getWidgetState:function getWidgetState(m){var y=m.find("input[name='currentPage']").val(),b=m.find("select[name='filter']").val(),_=m.find("select[name='topics']").val(),$=m.find("[name='sortBy']").val(),C="";return b&&b.length>0?C="&widgetFilter="+b:_&&_.length>0&&(C="&widgetTopicFilter="+_),window.history.pushState(null,"","?widgetSort="+$+C+"&widgetPage="+y),{widgetPage:y,widgetFilter:b,widgetTopicFilter:_,widgetSort:$}},getPbContext:function getPbContext(){var m=$('[name="pbContext"]').attr("content");return m||""}},UX.multiSearch=b},function(m,y){var b;b={$metricsServiceUrl:$("#jhJcrJson").val(),$jInfoServiceUrl:$("#jhJournalInfo").val(),init:function init(){b.$jcode=$("input[name='journalCodeForMetrics']").val(),b.updateMetrics(),b.updateHdrJournalInfo()},updateMetrics:function updateMetrics(){$.getJSON(b.$metricsServiceUrl,(function(m){m.jcr.journal[b.$jcode]&&m.jcr.journal[b.$jcode].impact&&($(".jhHeader_citations-year").html(m.jcr.year+" Total Citations"),$(".jhHeader_citations-value").html(m.jcr.journal[b.$jcode].citations),$(".jhHeader_impact-year").html("Impact Factor "+m.jcr.year),$(".jhHeader_impact-value").html(m.jcr.journal[b.$jcode].impact))}))},updateHdrJournalInfo:function updateHdrJournalInfo(){$.getJSON(b.$jInfoServiceUrl,(function(m){var y,_,C=$(".hdr_editors"),D=$(".hdr_tagline");if(m.journalInfo.journal[b.$jcode]){if(m.journalInfo.journal[b.$jcode].eic&&""!==(y=m.journalInfo.journal[b.$jcode].eic)[0]&&(y.length>1?C.text("Editors-in-Chief: "):C.text("Editor-in-Chief: "),C.append('<strong><a href="/page/'+b.$jcode+'/profile.html" title="About the Editor">'+y[0]+"</a></strong>"),y.length>1))for(_=1;_<y.length;_++)C.append(', <strong><a href="/page/'+b.$jcode+'/profile.html" title="About the Editor">'+y[_]+"</a></strong>");m.journalInfo.journal[b.$jcode].tagline&&""!==m.journalInfo.journal[b.$jcode].tagline&&D.text(m.journalInfo.journal[b.$jcode].tagline)}}))}},UX.jhHeader=b},function(m,y){$((function(){var m={$jsonFile:$("#cpJournalInfo").val(),$coden:"",init:function init(){$(".cpJournalHeader__coden-input").length>0&&(m.$coden=$(".cpJournalHeader__coden-input").val()),m.ajax()},ajax:function ajax(){var y;$.getJSON(m.$jsonFile).done((function(b){var _=b.journalInfo.journal[m.$coden].eic,C=$("div.cpJournalHeader__editorNames");if(C.append('<span><a href="/page/'+m.$coden+'/profile.html" title="About the Editor">'+_[0]+"</a></span>"),_.length>1)for($("div.cpJournalHeader__editorLabel").text("Editors-in-Chief"),$("div.cpJournalHeader__editorsLink a").text("Editors & Editorial Board"),y=1;y<_.length;y++)C.append(', <span><a href="/page/'+m.$coden+"/profile"+y+'.html" title="About the Editor">'+_[y]+"</a></span>");scrollToHash()}))}};UX.cpJournalHeader=m}))},function(m,y,b){var _=b(2),C=b(181);function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return y};var m,y={},b=Object.prototype,$=b.hasOwnProperty,C=Object.defineProperty||function(m,y,b){m[y]=b.value},D="function"==typeof Symbol?Symbol:{},I=D.iterator||"@@iterator",M=D.asyncIterator||"@@asyncIterator",P=D.toStringTag||"@@toStringTag";function define(m,y,b){return Object.defineProperty(m,y,{value:b,enumerable:!0,configurable:!0,writable:!0}),m[y]}try{define({},"")}catch(m){define=function define(m,y,b){return m[y]=b}}function wrap(m,y,b,_){var $=y&&y.prototype instanceof Generator?y:Generator,D=Object.create($.prototype),I=new Context(_||[]);return C(D,"_invoke",{value:makeInvokeMethod(m,b,I)}),D}function tryCatch(m,y,b){try{return{type:"normal",arg:m.call(y,b)}}catch(m){return{type:"throw",arg:m}}}y.wrap=wrap;var R="suspendedStart",N="executing",U="completed",H={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var B={};define(B,I,(function(){return this}));var z=Object.getPrototypeOf,q=z&&z(z(values([])));q&&q!==b&&$.call(q,I)&&(B=q);var W=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(B);function defineIteratorMethods(m){["next","throw","return"].forEach((function(y){define(m,y,(function(m){return this._invoke(y,m)}))}))}function AsyncIterator(m,y){function invoke(b,C,D,I){var M=tryCatch(m[b],m,C);if("throw"!==M.type){var P=M.arg,R=P.value;return R&&"object"==_(R)&&$.call(R,"__await")?y.resolve(R.__await).then((function(m){invoke("next",m,D,I)}),(function(m){invoke("throw",m,D,I)})):y.resolve(R).then((function(m){P.value=m,D(P)}),(function(m){return invoke("throw",m,D,I)}))}I(M.arg)}var b;C(this,"_invoke",{value:function value(m,_){function callInvokeWithMethodAndArg(){return new y((function(y,b){invoke(m,_,y,b)}))}return b=b?b.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(y,b,_){var $=R;return function(C,D){if($===N)throw Error("Generator is already running");if($===U){if("throw"===C)throw D;return{value:m,done:!0}}for(_.method=C,_.arg=D;;){var I=_.delegate;if(I){var M=maybeInvokeDelegate(I,_);if(M){if(M===H)continue;return M}}if("next"===_.method)_.sent=_._sent=_.arg;else if("throw"===_.method){if($===R)throw $=U,_.arg;_.dispatchException(_.arg)}else"return"===_.method&&_.abrupt("return",_.arg);$=N;var P=tryCatch(y,b,_);if("normal"===P.type){if($=_.done?U:"suspendedYield",P.arg===H)continue;return{value:P.arg,done:_.done}}"throw"===P.type&&($=U,_.method="throw",_.arg=P.arg)}}}function maybeInvokeDelegate(y,b){var _=b.method,$=y.iterator[_];if($===m)return b.delegate=null,"throw"===_&&y.iterator.return&&(b.method="return",b.arg=m,maybeInvokeDelegate(y,b),"throw"===b.method)||"return"!==_&&(b.method="throw",b.arg=new TypeError("The iterator does not provide a '"+_+"' method")),H;var C=tryCatch($,y.iterator,b.arg);if("throw"===C.type)return b.method="throw",b.arg=C.arg,b.delegate=null,H;var D=C.arg;return D?D.done?(b[y.resultName]=D.value,b.next=y.nextLoc,"return"!==b.method&&(b.method="next",b.arg=m),b.delegate=null,H):D:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,H)}function pushTryEntry(m){var y={tryLoc:m[0]};1 in m&&(y.catchLoc=m[1]),2 in m&&(y.finallyLoc=m[2],y.afterLoc=m[3]),this.tryEntries.push(y)}function resetTryEntry(m){var y=m.completion||{};y.type="normal",delete y.arg,m.completion=y}function Context(m){this.tryEntries=[{tryLoc:"root"}],m.forEach(pushTryEntry,this),this.reset(!0)}function values(y){if(y||""===y){var b=y[I];if(b)return b.call(y);if("function"==typeof y.next)return y;if(!isNaN(y.length)){var C=-1,D=function next(){for(;++C<y.length;)if($.call(y,C))return next.value=y[C],next.done=!1,next;return next.value=m,next.done=!0,next};return D.next=D}}throw new TypeError(_(y)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,C(W,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),C(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,P,"GeneratorFunction"),y.isGeneratorFunction=function(m){var y="function"==typeof m&&m.constructor;return!!y&&(y===GeneratorFunction||"GeneratorFunction"===(y.displayName||y.name))},y.mark=function(m){return Object.setPrototypeOf?Object.setPrototypeOf(m,GeneratorFunctionPrototype):(m.__proto__=GeneratorFunctionPrototype,define(m,P,"GeneratorFunction")),m.prototype=Object.create(W),m},y.awrap=function(m){return{__await:m}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,M,(function(){return this})),y.AsyncIterator=AsyncIterator,y.async=function(m,b,_,$,C){void 0===C&&(C=Promise);var D=new AsyncIterator(wrap(m,b,_,$),C);return y.isGeneratorFunction(b)?D:D.next().then((function(m){return m.done?m.value:D.next()}))},defineIteratorMethods(W),define(W,P,"Generator"),define(W,I,(function(){return this})),define(W,"toString",(function(){return"[object Generator]"})),y.keys=function(m){var y=Object(m),b=[];for(var _ in y)b.push(_);return b.reverse(),function next(){for(;b.length;){var m=b.pop();if(m in y)return next.value=m,next.done=!1,next}return next.done=!0,next}},y.values=values,Context.prototype={constructor:Context,reset:function reset(y){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(resetTryEntry),!y)for(var b in this)"t"===b.charAt(0)&&$.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=m)},stop:function stop(){this.done=!0;var m=this.tryEntries[0].completion;if("throw"===m.type)throw m.arg;return this.rval},dispatchException:function dispatchException(y){if(this.done)throw y;var b=this;function handle(_,$){return D.type="throw",D.arg=y,b.next=_,$&&(b.method="next",b.arg=m),!!$}for(var _=this.tryEntries.length-1;_>=0;--_){var C=this.tryEntries[_],D=C.completion;if("root"===C.tryLoc)return handle("end");if(C.tryLoc<=this.prev){var I=$.call(C,"catchLoc"),M=$.call(C,"finallyLoc");if(I&&M){if(this.prev<C.catchLoc)return handle(C.catchLoc,!0);if(this.prev<C.finallyLoc)return handle(C.finallyLoc)}else if(I){if(this.prev<C.catchLoc)return handle(C.catchLoc,!0)}else{if(!M)throw Error("try statement without catch or finally");if(this.prev<C.finallyLoc)return handle(C.finallyLoc)}}}},abrupt:function abrupt(m,y){for(var b=this.tryEntries.length-1;b>=0;--b){var _=this.tryEntries[b];if(_.tryLoc<=this.prev&&$.call(_,"finallyLoc")&&this.prev<_.finallyLoc){var C=_;break}}C&&("break"===m||"continue"===m)&&C.tryLoc<=y&&y<=C.finallyLoc&&(C=null);var D=C?C.completion:{};return D.type=m,D.arg=y,C?(this.method="next",this.next=C.finallyLoc,H):this.complete(D)},complete:function complete(m,y){if("throw"===m.type)throw m.arg;return"break"===m.type||"continue"===m.type?this.next=m.arg:"return"===m.type?(this.rval=this.arg=m.arg,this.method="return",this.next="end"):"normal"===m.type&&y&&(this.next=y),H},finish:function finish(m){for(var y=this.tryEntries.length-1;y>=0;--y){var b=this.tryEntries[y];if(b.finallyLoc===m)return this.complete(b.completion,b.afterLoc),resetTryEntry(b),H}},catch:function _catch(m){for(var y=this.tryEntries.length-1;y>=0;--y){var b=this.tryEntries[y];if(b.tryLoc===m){var _=b.completion;if("throw"===_.type){var $=_.arg;resetTryEntry(b)}return $}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(y,b,_){return this.delegate={iterator:values(y),resultName:b,nextLoc:_},"next"===this.method&&(this.arg=m),H}},y}!function(){var m,y;function figshareWidget(m,y){figshare.load("acs",(function(b){var _=document.getElementById(m),C=new b({version:"3",breakPoint:550,showStats:!0,showPageInfo:!1,showShareButton:!0,showFileDetails:!1,collection:{resourceDOI:y}}),D=$("body");C.on("mount",(function(){console.log("figshare widget mounted")})),C.on("unmount",(function(){console.log("figshare widget unmount")})),C.on("loading",(function(){console.log("figshare widget is loading")})),C.on("canDisplay",(function(){console.log("figshare widget can be displayed"),jQuery("#"+m).show()})),C.on("error",(function(m){console.log(m)})),C.on("done",(function(){console.log("figshare widget done")})),C.on("filesError",(function(){jQuery("#figshare-widget").hide()})),C.initialize(),C.mount(_),D.on("DOMSubtreeModified","#"+m,(function(){$("figshare-widget article").length&&("rightTab-figshare-widget"===m?$(window).width()<UX.grid.screenSm?$('.w-slide__content[original-target=".tab__pane-suppInfo"] .supInfoBoxOnFTP').hide():$(".tab__content .supInfoBoxOnFTP").hide():$(".supInfoBoxOnFTP").not(".tab__content .supInfoBoxOnFTP, .w-slide__content[original-target='.tab__pane-suppInfo'] .supInfoBoxOnFTP").hide(),D.off("DOMSubtreeModified","#figshare-widget"))}))}))}window.onload=function initFigshare(){$("#figshare-widget").length&&0===$(".container-cgeabj").length&&$.getScript($("#figshare-widget").data("url")).done((function(m,y){var b=$("#figshare-widget").data("doi");figshareWidget("figshare-widget",b),$("#rightTab-figshare-widget").length&&($(window).width()<UX.grid.screenSm?$('.w-slide__btn[data-slide-target=".tab__pane-suppInfo"]').click((function(){figshareWidget("rightTab-figshare-widget",b)})):$(".tab__nav-suppInfo").click((function(){0===$("#rightTab-figshare-widget").children().length&&setTimeout((function(){figshareWidget("rightTab-figshare-widget",b)}),3e3)})))})).fail((function(m,y,b){console.log("failed to load figshare !!!")}))},m={$articleHeaderFooterLeft:$(".article_header-footer-left"),$articleTaxonomy:$(".article_header-taxonomy"),$articleKeywords:$(".article_keywords"),$articleAbstractTitle:$(".article_abstract-title"),$articleHeader:$(".article_header"),$headerArticle:$(".header_article_inactive"),$loa:$(".article_header .loa"),$loaItems:$(".article_header .loa li>span"),$showRecommendedSlider:$(".show-recommended_slider"),$footer:$(".footer"),$lastScrollTop:0,$content:$(".article_content"),$leftContent:$(".article_content-left"),$articleLeftContent:$(".article__left-side"),$leftContentFullWidthClass:"article_content-left-fullwidth",$rightContent:$(".article_content-right"),$rightContentStickyClass:"article_content-right-sticky",$rightContentStickyBottomClass:"article_content-right-sticky-bottom",$rightContentHiddenClass:"article_content-right-hidden",$articleGridFullWidthClass:"article-grid--full",$supportingInfoLink:$(".article_header-suppInfo-link"),$supportingInfo:$(".article_header-suppInfo"),$supportingInfoSection:$(".article_supporting-info"),$headerArticleContentTitle:$(".article_content-title h2"),$isAccessDeniedOrAbstract:$(".isAccessDeniedOrAbstract"),$tab:$(".article_content-right .tab"),$tabContent:$(".article_content-right .tab__content"),$tabNavLinks:$(".article_content-right .tab__nav a"),$tabNavShortcut:$(".tab-nav-shortcut"),$tabNavShortcutStickyClass:"tab-nav-shortcut-sticky",$tabNavShortcutStickyBottomClass:"tab-nav-shortcut-sticky-bottom",$tabNavShortcutActiveClass:"tab-nav-shortcut-active",$tabNavShortcutItems:$(".tab-nav-shortcut li:not(.article-grid li), .article_header-suppInfo-link:not(.article-grid .article_header-suppInfo-link)"),$chapterTabClosebutton:$(".tab__close"),$recommendedArticlesLink:$(".article_content .show-recommended-qv"),$loggedInLink:$(".user-login-bar_is-loggedin"),$tabLabels:$(".article_content-right .tab__nav span"),$resizable_blockers:$(".article_content-left .scrollable-table-wrap, .article_content-left #figshare-widget"),$jumpTodropBlock:$(".article_sections-dropBlock a"),$articleHeadreHeight:94,$isMobile:!1,$pageResized:!1,$viewAffsLink:$(".view-affs"),$authorAffSymbols:$(".author-aff-symbol"),$SG_chapter:$(".styleguide-chapter"),$SG_tocLink:$(".styleguide-chapter a#pane-m1con"),$SG_refLink:$(".styleguide-chapter a#pane-m2con"),$overrideToggle:!1,$recommendedDropzone7:$(".recommendedDropzone7:not(.article-grid .recommendedDropzone7)"),$headerTopBar:$(".header_topbar"),$headerContent:$(".header_content"),$recommededHeaderHeight:70,$isGoToRecommendatons:!1,$denialPage:$(".denial-page"),$accessionCode:$(".accession-codes ul li"),$ccdcAccessionCode:$(".accession-codes ul li.ccdc"),$copyRights:$("#copyRights"),$eulaSection:!1,$isRightTabExpanded:!0,$tabElement:null,$copyRightElement:null,$chapterSectionHeadings:document.querySelectorAll(".article_content-left .article_content-title h2"),articleJumpLinksSelector:".article__jump__link",$articleGrid:document.querySelector(".article-grid"),$articleTabNavBtns:document.querySelectorAll(".article-grid .tab-nav-shortcut .tab-nav-shortcut__btn"),$articleTabClosebutton:document.querySelectorAll(".share__item--close button"),$articleTabCitationBtn:document.querySelectorAll(".share__item--citation button"),$articleTabShareBtn:document.querySelectorAll(".share__item--share button"),abstractSectionTitle:document.querySelector(".article_abstract-title h2"),abstractSection:document.querySelector(".article_abstract-title"),sectionHeadings:document.querySelectorAll(".article__left-side .article_content-title h2"),sectionHeadingWrappers:document.querySelectorAll(".article_content-left .article_content-title"),articleHeaderTitle:document.querySelector(".article-grid .article_header-title"),doiMetaUrl:document.querySelector('[property="og:url"]'),backToTopBtn:document.querySelector(".header_back-to-top button"),shareBlocks:document.querySelectorAll(".share__ctrl"),citeThisBlock:document.querySelectorAll(".article-grid  .article_header-cite-this"),citationValue:document.querySelector('input[name="citation-copy-value"]'),metaIdentifier:document.querySelector('[name="dc.Identifier"]'),alertElement:document.querySelector(".article__alert"),articleHeaderRow:document.querySelector(".article__header__content--row"),copyTimer:null,shownTimer:null,previousLeftContentWidth:null,previousRightContentWidth:null,numberOfStaticTabs:2,init:function init(){m.controller(),m.initArticleHeader(),m.initAffsLinks(),m.referenceAutoScrolling(),m.qvReferenceAction(),m.initStyleGuideOptionsControls(),m.initStyleGuideTocTreeControl(),m.scrollToHash(),m.initStyleGuideContentFooterNav(),m.initSectionAnchors(),m.SectionsAnchorsController(),m.removeTargetFromPDFButtonIfIEorEdge(),m.authorInformationAffiliationTextCleanup(),m.isOSX(),m.addEventListeners(),m.setAddStickyObserver(),m.setArticleHeaderDataIds(),m.$articleGrid||(m.stickyQV(),m.setAddStickyObserver(),m.calcRecommendedRightTabPosition(),m.setChapterPagesResizable()),$(".styleguideChapterHeader").length&screen.width>=1025&&$(".styleguideChapterHeader").css("background-image","url('"+$('input[name="styleguideChapterHeader_url_img"]').val()+"')"),$(".articleMetrics_close").click((function(){$("body").click()})),$(document).ready((function(){if(m.exapndTableCell(),m.$copyRightElement=m.$articleGrid?$(".article_header-article-copyright"):$(".article_header-article-copyright strong"),m.$copyRightElement.length&&""===m.$copyRightElement.text())if(null===sessionStorage.getItem("journal")){var y,b=m.$copyRights.val();$.ajax({type:"GET",url:b,complete:function complete(b,_,$){y=JSON.stringify(b.responseJSON.journalInfo.journal),publisher=JSON.stringify(b.responseJSON.journalInfo.publisher),sessionStorage.setItem("journal",y),sessionStorage.setItem("publisher",publisher),m.getSessionData()}})}else m.getSessionData()}))},scrollToTop:function scrollToTop(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;if("string"==typeof m){var b=document.querySelector(m);return setTimeout((function(){null==b||b.scrollIntoView()}),y)}window.scrollTo({top:0})},getSessionData:function getSessionData(){var y,b=JSON.parse(sessionStorage.getItem("journal")),_=m.$copyRights.attr("name"),C=$(".pub-doi").val(),D=JSON.parse(sessionStorage.getItem("publisher")),I=parseInt($(".cit-fg-year").text()),M=!1;Object.keys(D).forEach((function(m){D[m].hasOwnProperty("copyright")&&C.startsWith(D[m].doi_prefix)&&(y=D[m].copyright[0])})),Object.keys(b).forEach((function(y){var $,C,D;y===_&&b[y].hasOwnProperty("copyright")&&($=b[y].copyright[0].start,C=b[y].copyright[0].end,(I>$&&I<=C||I===C)&&(D=b[y].copyright[0].statement,m.$copyRightElement.text(D),M=!0))})),!M&&void 0!==y&&(I>y.start&&I<=y.end||I===y.end)&&m.$copyRightElement.text(y.statement)},controller:function controller(){m.scrollToParam(),$(document).on("click",".recommended-header",(function(){m.showRecommended()})),$(document).on("screen-sm-on",(function(){m.$isMobile=!0})),$(document).on("screen-sm-off",(function(){m.$isMobile=!1})),m.$loaItems.mouseenter((function(){var y=$(this).find(".loa-info");$(window).width()-$(this).offset().left-30<y.width()?m.$isMobile?y.css({left:"auto",right:-($(window).width()-($(this).offset().left+$(this).width())-15)}):y.css({left:"auto",right:0}):y.css({left:0,right:"auto"})})),$(window).width()>=1026&&0===m.$denialPage.length&&m.$articleTaxonomy.css("paddingLeft",m.$articleHeaderFooterLeft.width()+23),0===m.$denialPage.length&&m.$articleTaxonomy.find("ul").truncate({lines:1,type:"list",seeMoreLink:!0,seeMoreText:"",seeLessText:"",seeMoreHtml:'<i class="icon-angle-down" aria-hidden="true"></i><span class="sr-only">Show More</span>',seeLessHtml:'<i class="icon-angle-up" aria-hidden="true"></i><span class="sr-only">Show Less</span>'}),$(window).resize((function(){0===m.$denialPage.length&&($(window).width()>=1026?m.$articleTaxonomy.css("paddingLeft",m.$articleHeaderFooterLeft.width()+23):m.$articleTaxonomy.css("paddingLeft",0)),m.calcStickyQVPosition(),m.$rightContent.hasClass(m.$rightContentStickyClass)&&m.$tabNavShortcut.css({right:($(window).width()-m.$content.width())/2})})),m.$articleKeywords.find("ul").truncate({lines:1,type:"text",seeMoreLink:!0,seeMoreText:"",seeLessText:"",seeMoreHtml:'<i class="icon-angle-down" aria-hidden="true"></i><span class="sr-only">Show More</span>',seeLessHtml:'<i class="icon-angle-up" aria-hidden="true"></i><span class="sr-only">Show Less</span>'}),$(".purchase-item.add-article-to-cart,.add-article-to-cart").on("click",(function(m){if($(this).hasClass("clicked-offer"))return m.preventDefault(),!1;$(this).addClass("clicked-offer").click()})),$(document).on("smartResize",(function(){m.$resizable_blockers.css({display:"none"}),0===m.$SG_chapter.length&&m.$leftContent.width(parseInt(m.$leftContent.parent().width()/2)),m.$resizable_blockers.css({width:m.$articleGrid?"":m.$leftContent.width()-20,display:"block"}),m.$recommendedDropzone7.css({width:m.$rightContent.width()}),m.$rightContent.hasClass(m.$rightContentStickyClass)&&m.$tab.css({width:m.$rightContent.width()})})),m.$tabNavLinks.click((function(){m.$tabContent.scrollTop(0)})),$(".article_content-right").click((function(){$(".article_content-right").find(".tab__nav-suppInfo").removeClass("active")})),m.$tabNavShortcutItems.click(m.rightTabFadeIn),m.$jumpTodropBlock.each((function(){$(this).click((function(){var m;!1===$(this).hasClass("js--open")&&((m=$(this).next("div")).addClass("js--open"),m.height()+m.offset().top>$(".footer").offset().top&&m.css("bottom",$(".article_content-sections").height()+1))}))}))},rightTabFadeIn:function rightTabFadeIn(){if(m.$isRightTabExpanded=!0,m.$rightContent.removeClass(m.$rightContentHiddenClass),m.$leftContent.removeClass(m.$leftContentFullWidthClass),m.$tabNavShortcut.removeClass(m.$tabNavShortcutActiveClass),setTimeout((function(){m.$tabElement.fadeIn("slow"),m.$tabContent.scrollTop(0)}),800),$(this).hasClass("article_header-suppInfo-link")){var y=m.$rightContent.find(".tab__nav-suppInfo");y.length&&setTimeout((function(){y.trigger("click")}),1e3)}else m.$tabNavLinks.eq(m.$tabNavShortcutItems.index(this)-m.$supportingInfoLink.length).trigger("click")},rightTabFadeOut:function rightTabFadeOut(){m.$isRightTabExpanded=!1,m.$rightContent.addClass(m.$rightContentHiddenClass),m.$leftContent.addClass(m.$leftContentFullWidthClass),m.$tabNavShortcut.addClass(m.$tabNavShortcutActiveClass)},setChapterPagesResizable:function setChapterPagesResizable(){m.$resizable_blockers.css({width:m.$leftContent.width()-20,display:"block"}),m.$recommendedDropzone7.css({width:m.$rightContent.width()}),m.hideQvRecommendedLink(),m.hideAccessionCodeList(),m.$leftContent.resizable({handles:"e",grid:0,maxWidth:parseInt(m.$leftContent.parent().width()-240),minWidth:parseInt(m.$leftContent.parent().width()/2),start:function start(y,b){m.$rightContent.width("auto"),m.$leftContent.resizable("option","maxWidth",parseInt(m.$leftContent.parent().width()-240)),m.$leftContent.resizable("option","minWidth",parseInt(m.$leftContent.parent().width()/2))},resize:function resize(y,b){var _,C;m.$resizable_blockers.css("width",m.$leftContent.width()-20),m.$recommendedDropzone7.css({width:m.$rightContent.width()}),_=0,$(".recommendedDropzone7").length>0&&m.$rightContent.hasClass(m.$rightContentStickyClass)&&m.$recommendedDropzone7.hasClass("opened")&&(m.$recommendedDropzone7.hasClass("halfWayScrolling")?_=$(".recommendedDropzone7 li").height()+60:0===$(".recommendedDropzone7 li").length&&(_=$(".recommendedDropzone7").find("h6").height()+m.$recommededHeaderHeight),(m.$recommendedDropzone7.hasClass("halfWayScrolling")||0===$(".recommendedDropzone7 li").length)&&(m.$recommendedDropzone7.css({height:_}),C=_,document.getElementsByClassName("tab__content")[0].style.height="calc(100% - ".concat(C).concat("px)"))),m.$rightContent.hasClass(m.$rightContentStickyClass)&&m.$tab.css({width:m.$rightContent.width()}),m.$rightContent.hasClass(m.$rightContentStickyBottomClass)||(m.$recommendedDropzone7.css({bottom:"0"}),m.$tabContent.css("bottom","0px"))}})},scrollToHashIDImpl:function scrollToHashIDImpl(m,y,b){var _=$("#"+m);_.length>0&&$("html, body").animate({scrollTop:_.offset().top-b},y)},scrollToHashID:function scrollToHashID(y,b){var _=$("header.header").height();m.scrollToHashIDImpl(y,b,_)},scrollToHash:function scrollToHash(){"scrollRestoration"in history&&(history.scrollRestoration="manual"),$(document).ready((function(){var y=window.location.hash.substr(1);setTimeout((function(){m.scrollToHashID(y,500)}),1800)}))},initStyleGuideOptionsControls:function initStyleGuideOptionsControls(){var y=$(".styleguide-chapter .toc-option"),b=$(".styleguide-chapter .references-option");m.$SG_tocLink.length>0&&m.$SG_refLink.length>0&&(m.$SG_tocLink.on("click",(function(){y.addClass("active"),b.removeClass("active")})),m.$SG_refLink.on("click",(function(){b.addClass("active"),y.removeClass("active")})))},initStyleGuideTocTreeControl:function initStyleGuideTocTreeControl(){var m,y,b=$(".styleguide-chapter .this-pub-doi");b.length>0&&(m=b.val(),(y=$("span[doi='"+m+"']")).length>0&&y.closest(".chapter-container-content").siblings(".chapter-container-header").trigger("click"))},initArticleHeader:function initArticleHeader(){var y=$(".article_header-logo img"),b=y.attr("data-src")||y.attr("src");y.length&&$(".header_article-logo img").attr("src",b),$(".article_header-logo a").length&&$(".header_article-logo").attr("href",$(".article_header-logo a").attr("href")),$(".content-navigation__btn--pre").length?$(".header_contnav-pre").attr("href",$(".content-navigation__btn--pre").attr("href")):$(".header_contnav-pre").remove(),$(".content-navigation__btn--next").length?$(".header_contnav-next").attr("href",$(".content-navigation__btn--next").attr("href")):$(".header_contnav-next").remove(),m.cloneHeaderTitle(),$(".article_header").length&&(new Waypoint.Inview({element:m.$articleHeader[0],exited:function exited(y){"down"===y&&m.$headerArticle.animate({top:-m.$headerArticle.height()},300,(function(){m.$headerArticle.removeClass("header_article_inactive").addClass("header_article"),m.$headerArticle.animate({top:"0px"},500)}))},enter:function enter(y){"up"===y&&m.$headerArticle.animate({top:-m.$headerArticle.height()},300,(function(){m.$headerArticle.removeClass("header_article").addClass("header_article_inactive"),m.$headerArticle.animate({top:"0px"},500)}))}}),m.setSupportingInformationDirection()),$(window).scroll((function(){var y;m.calcStickyQVPosition(),m.$headerArticle.hasClass("header_article")&&((y=$(this).scrollTop())>m.$lastScrollTop?m.$rightContent.hasClass(m.$rightContentStickyClass)&&(m.$tab.css({paddingTop:m.$articleHeadreHeight+"px"}),m.$chapterTabClosebutton.css("top",m.$articleHeadreHeight+"px"),m.$tabNavShortcut.css("marginTop",m.$articleHeadreHeight+35+"px")):m.$rightContent.hasClass(m.$rightContentStickyClass)&&(m.$tab.css({paddingTop:m.$articleHeadreHeight+m.$showRecommendedSlider.height()+"px"}),m.$chapterTabClosebutton.css("top",m.$articleHeadreHeight+m.$showRecommendedSlider.height()+"px"),m.$tabNavShortcut.css("marginTop",m.$articleHeadreHeight+35+m.$showRecommendedSlider.height()+"px")),m.$lastScrollTop=y)})),$(".cited-content .deliverFormatsLinks").length&&$(".cited-content .deliverFormatsLinks").each((function(){var m=$(this).find("a");m.length>0&&($(this).empty(),$(this).append(m))}))},setAddStickyObserver:function setAddStickyObserver(){var y=document.querySelector(".advertisement");UX.achsUtils.mutationObserverSubscription((function callback(){m.$eulaSection&&m.scrollToEulaSection()}),y,{attributes:!0},!1)},stickyQV:function stickyQV(){$(".bodyExceptHeader").length>0?$stickyQVHeader=new Waypoint({element:$(".bodyExceptHeader")[0],handler:function handler(y){"down"===y?(m.$rightContent.addClass(m.$rightContentStickyClass),m.$tab.css({width:m.$rightContent.width(),paddingTop:m.$articleHeadreHeight+"px"}),m.$chapterTabClosebutton.css("top",m.$articleHeadreHeight+"px"),m.$tabNavShortcut.addClass(m.$tabNavShortcutStickyClass),m.$tabNavShortcut.css({marginTop:m.$articleHeadreHeight+85+"px",right:($(window).width()-m.$content.width())/2})):"up"===y&&(m.$rightContent.removeClass(m.$rightContentStickyClass),m.$tab.css({width:"auto",paddingTop:"0"}),m.$chapterTabClosebutton.css("top","0px"),m.$tabNavShortcut.removeClass(m.$tabNavShortcutStickyBottomClass),m.$tabNavShortcut.removeClass(m.$tabNavShortcutStickyClass),m.$tabNavShortcut.css({marginTop:"0",right:"0"}))},offset:94}):m.$content.length>0&&($stickyQVHeader=new Waypoint({element:m.$content[0],handler:function handler(y){"down"===y?(m.$rightContent.addClass(m.$rightContentStickyClass),m.$tab.css({width:m.$rightContent.width(),paddingTop:m.$articleHeadreHeight+"px"}),m.$chapterTabClosebutton.css("top",m.$articleHeadreHeight+"px"),m.$tabNavShortcut.addClass(m.$tabNavShortcutStickyClass),m.$tabNavShortcut.css({marginTop:m.$articleHeadreHeight+35+"px",right:($(window).width()-m.$content.width())/2}),UX.showRecommended.init()):"up"===y&&(m.$rightContent.removeClass(m.$rightContentStickyClass),m.$tab.css({width:"auto",paddingTop:"0"}),m.$chapterTabClosebutton.css("top","0px"),m.$tabNavShortcut.removeClass(m.$tabNavShortcutStickyClass),m.$tabNavShortcut.css({marginTop:"0",right:"0"}))},offset:94}))},calcStickyQVPosition:function calcStickyQVPosition(){var y,b,_,C,D,I,M,P,R,N;m.$rightContent.hasClass(m.$rightContentStickyClass)&&(y=m.$footer.offset().top,b=$(window).height(),_=$(window).scrollTop(),$(".bodyExceptHeader").length>0&&(C=$(".bodyExceptHeader"),I=(D=$(window).scrollTop())+$(window).height(),R=((P=(M=C.offset().top)+C.outerHeight())>I?I:P)-(M<D?D:M)),_>y-b?(m.$tab.css("bottom",Math.abs(y-b-_)),m.$rightContent.addClass(m.$rightContentStickyBottomClass),$(".recommendedDropzone7").length>0&&$(".recommendedDropzone7 li").length>0&&m.$recommendedDropzone7.hasClass("fullWayScrolling")&&(N=$(".paneContainer").height(),document.getElementsByClassName("recommendedDropzone7")[0].style.height="calc(".concat(N).concat("px / 3 )"),document.getElementsByClassName("tab__content")[0].style.height="calc(".concat(N).concat("px - (".concat(N).concat("px / 3 )"))),Math.abs(b-(Math.abs(y-b-_)+m.$headerArticle.height()+m.$showRecommendedSlider.height()))<m.$tabNavShortcut.height()&&(m.$tabNavShortcut.css("bottom",Math.abs(y-b-_)),m.$tabNavShortcut.addClass(m.$tabNavShortcutStickyBottomClass)),m.$tabNavShortcut.hasClass("styleguide-tap")&&Math.abs(R)<m.$tabNavShortcut.height()&&(m.$tabNavShortcut.css("bottom",Math.abs(y-b-_)+100),m.$tabNavShortcut.addClass(m.$tabNavShortcutStickyBottomClass))):(m.$tab.css("bottom","auto"),m.$tabNavShortcut.css("bottom","auto"),m.$rightContent.removeClass(m.$rightContentStickyBottomClass),m.$tabNavShortcut.removeClass(m.$tabNavShortcutStickyBottomClass),$(".recommendedDropzone7").length>0&&$(".recommendedDropzone7 li").length>0&&m.$recommendedDropzone7.hasClass("fullWayScrolling")&&(N=$(".paneContainer").height(),document.getElementsByClassName("recommendedDropzone7")[0].style.height="calc(".concat(N).concat("px / 2 )"),document.getElementsByClassName("tab__content")[0].style.height="calc(".concat(N).concat("px / 2 )"))))},setSupportingInformationDirection:function setSupportingInformationDirection(){var y="";0===m.$rightContent.length&&m.$supportingInfoLink.length&&(m.$supportingInfoSection.length?y=null==m.$supportingInfoSection.attr("id")||""==m.$supportingInfoSection.attr("id")?m.$headerArticleContentTitle.attr("id"):m.$supportingInfoSection.attr("id"):m.$supportingInfo.hide(),m.$supportingInfoLink.attr("href","#"+y),$(".article_header-suppInfo-link-mobile")&&($(".article_header-suppInfo-link-mobile").attr("href","#"+y),$(".article_header-suppInfo-link-mobile").addClass("internalNav")))},initAffsLinks:function initAffsLinks(){0!==m.$viewAffsLink.length&&(m.$viewAffsLink.on("click",(function(){m.toggleAffiliations(!0)})),$.each(m.$authorAffSymbols,(function(y,b){$(b).unbind("click"),$(b).on("click",(function(){m.toggleAffiliations(!1)}))})))},referenceAutoScrolling:function referenceAutoScrolling(){var m,y,b,_,C,D,I,M,P,R=0,N="ref1",U=[];$(".tab__pane-references .rightTabRefNumLink").click((function(H){if(H.preventDefault(),m=$(this).attr("href").substring(1),y=0,b="",m!==N&&(R=0,U=[]),0===U.length)for(U.push("a."+m),C=$(this)[0].parentNode.parentNode.firstChild;C;)null!==C&&C!==$(this)&&C.nodeType===Node.ELEMENT_NODE&&(C=C.nextElementSibling||C.nextSibling),null!=C&&"NLM_citation"===C.className&&U.push("a."+C.id.substring(9));if((D=U.length)>1){for(;y<D;)b+=U[y]+":not(.article_content-right "+U[y]+")",y!==D-1&&(b+=","),y++;_=$(b)}else _=$("a."+m+":not(.article_content-right a."+m+")");I=_.length,M=0,I>0&&(M="SUP"===_[R].parentElement.tagName.toUpperCase()?10:0,P=_[R].getBoundingClientRect().top+window.pageYOffset-M+5,scrollToElement(P,"#"+m),R<I-1?R++:R=0),N=m}))},qvReferenceAction:function qvReferenceAction(){var m;$("body").on("click",".w-slide__content .rightTabRefNumLink",(function(y){y.preventDefault(),m=$(this).attr("href").substring(1),showRef(y,m)}))},toggleAffiliations:function toggleAffiliations(y){var b=m.$viewAffsLink.find(".caret-icon"),_=m.$viewAffsLink.find("button");return b.hasClass("icon-angle-down")?($(".all-aff-infos").slideDown(400,m.initArticleHeader),b.removeClass("icon-angle-down"),b.addClass("icon-angle-up"),_.attr("aria-expanded","true"),void m.$viewAffsLink.find(".title").html("Hide Author Information")):y&&b.hasClass("icon-angle-up")?($(".all-aff-infos").slideUp(400,m.initArticleHeader),b.removeClass("icon-angle-up"),b.addClass("icon-angle-down"),_.attr("aria-expanded","false"),void m.$viewAffsLink.find(".title").html("View Author Information")):void 0},hideQvRecommendedLink:function hideQvRecommendedLink(){m.$loggedInLink.length&&"false"===m.$loggedInLink.val()&&m.$recommendedArticlesLink.css("display","none")},hideAccessionCodeList:function hideAccessionCodeList(){m.$accessionCode.length&&m.$accessionCode.length===m.$ccdcAccessionCode.length&&$(".accession-codes ul").css("display","none")},checkCharUrl:function checkCharUrl(m){return m.indexOf("#")>0?m=m.replace("#",""):m.indexOf("/")>0?m=m.replace("/",""):m.indexOf("/#")>0&&(m=m.replace("/#","")),m},scrollToParam:function scrollToParam(){if(getUrlParameter("goto").length>0)switch(m.checkCharUrl(getUrlParameter("goto"))){case"eulaContent":setTimeout((function(){return m.scrollToEulaSection()}),2e3);break;case"supporting-info":m.gotoFun(getUrlParameter("goto"));break;case"recommendations":"scrollRestoration"in history&&(history.scrollRestoration="manual"),m.$overrideToggle=!0,$(".article_content-right")&&(m.$isGoToRecommendatons=!0,$(document).ready((function(){var y=$(".article_content-right").offset().top;$("html, body").animate({scrollTop:y+m.$recommededHeaderHeight},100),setTimeout((function(){m.showRecommended()}),2e3)})));break;default:m.focusFun(getUrlParameter("goto"))}else getUrlParameter("fig").length>0&&m.figFun(getUrlParameter("fig"))},scrollToEulaSection:function scrollToEulaSection(){m.$eulaSection=!0;var y=$("#eulaContent").offset().top;scrollToElement(y,"eulaContent")},focusFun:function focusFun(y){var b;"scrollRestoration"in history&&(history.scrollRestoration="manual"),y=m.checkCharUrl(y),b=$("."+y),setTimeout((function(){scrollToSpecificElementWithClassImpl(y,$("header.header").height()+15)}),1700),setTimeout((function(){b.animate({borderSpacing:-90},{step:function step(){$(this).css("MozTransform","scale(1.2)"),$(this).css("OTransform","scale(1.2)"),$(this).css("msTransform","scale(1.2)"),$(this).css("WebkitTransform","scale(1.3)"),$(this).css("transition","all 2s")}},1e3),b.animate({borderSpacing:-90},{step:function step(){$(this).css("MozTransform","scale(1.0)"),$(this).css("OTransform","scale(1.0)"),$(this).css("msTransform","scale(1.0)"),$(this).css("WebkitTransform","scale(1.0)"),$(this).css("transition","all 2s")}},1e3)}),3e3)},figFun:function figFun(y){"scrollRestoration"in history&&(history.scrollRestoration="manual"),y=m.checkCharUrl(y),$(document).ready((function(){var b,_,C,D,I;$(".rlist.tab__content").scrollTop(0),$(".access-denial-widget-container").length?scrollToSpecificElementWithClassImpl("access-denial-widget-container",m.$headerTopBar.height()+m.$headerContent.height()):$("figure#"+y).length?(b=y.replace("rightTab-",""),_=$("header.header"),C=_.height(),D=$("#"+b),$("figure#"+y).length&&(I=$(".article_content-right").offset().top,$("html, body").animate({scrollTop:I},500),setTimeout((function(){var m=$("#rightTab-"+$("#"+y).children("img").attr("id"));m.length&&$(".rlist.tab__content").animate({scrollTop:m.parent("figure").position().top},{duration:2400,queue:!1}),$("html, body").animate({scrollTop:D.offset().top-C},{duration:2400,queue:!1})}),1500),setTimeout((function(){UX.figureViewer.$currentFigure=$("#"+b).data("index"),UX.figureViewer.setFigureViewer(UX.figureViewer.$currentFigure),UX.figureViewer.show(),freezePage()}),4500))):$(".article_abstract-img").length&&$(".article_abstract-img").attr("id")===y&&m.scrollToHashID(y,1e3)}))},gotoFun:function gotoFun(y){setTimeout((function(){m.$isMobile?$(".article_header-suppInfo-link")&&$(".article_header-suppInfo-link-mobile").click():0===m.$rightContent.length?scrollToSpecificElementWithClassImpl("article_supporting-info",m.$headerTopBar.height()+m.$headerContent.height()):$(".tab__nav-suppInfo").length&&$(".article_header-suppInfo-link").trigger("click")}),1600)},getDocHeight:function getDocHeight(){var m=document;return Math.max(m.body.scrollHeight,m.documentElement.scrollHeight,m.body.offsetHeight,m.documentElement.offsetHeight,m.body.clientHeight,m.documentElement.clientHeight)},calcRecommendedRightTabPosition:function calcRecommendedRightTabPosition(){$(".recommendedDropzone7").length>0&&$(window).scroll((function(){var y,b,_,C=window.innerHeight||(document.documentElement||document.body).clientHeight,D=m.getDocHeight(),I=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,M=D-C,P=Math.floor(I/M*100),R=$(".recommendedIcon");"none"!==m.$recommendedDropzone7.css("display")&&(!m.$overrideToggle&&P>=50&&P<75&&(m.$recommendedDropzone7.addClass("opened"),y=0,m.$recommendedDropzone7.removeClass("fullWayScrolling"),$(".recommendedDropzone7 li").length>0?(m.$recommendedDropzone7.addClass("halfWayScrolling"),y=$(".recommendedDropzone7 li")[0].offsetHeight,m.$recommendedDropzone7.css({height:50+y}),b=50+y,document.getElementsByClassName("tab__content")[0].style.height="calc(100% - ".concat(b).concat("px)")):(b=$(".recommendedDropzone7").find("h6").height()+m.$recommededHeaderHeight,m.$recommendedDropzone7.css({height:b}),document.getElementsByClassName("tab__content")[0].style.height="calc(100% - ".concat(b).concat("px)")),R.removeClass("icon-angle-down"),R.addClass("icon-angle-up")),!m.$overrideToggle&&P>=75&&(m.$recommendedDropzone7.addClass("opened"),m.$overrideToggle=!0,m.$recommendedDropzone7.removeClass("halfWayScrolling"),$(".article_content-right")&&($(".recommendedDropzone7 li").length>0?(m.$recommendedDropzone7.addClass("fullWayScrolling"),_=$(".paneContainer").height(),document.getElementsByClassName("recommendedDropzone7")[0].style.height="calc(".concat(_).concat("px / 2 )"),document.getElementsByClassName("tab__content")[0].style.height="calc(".concat(_).concat("px / 2 )")):(b=$(".recommendedDropzone7").find("h6").height()+m.$recommededHeaderHeight,m.$recommendedDropzone7.css({height:b}),document.getElementsByClassName("tab__content")[0].style.height="calc(100% - ".concat(b).concat("px)")),R.removeClass("icon-angle-down"),R.addClass("icon-angle-up"))),m.$rightContent.hasClass(m.$rightContentStickyBottomClass)||(m.$recommendedDropzone7.css({bottom:"0"}),m.$tabContent.css("bottom","0px")))}))},showRecommended:function showRecommended(){var y,b,_=$(".recommendedIcon");return _.hasClass("icon-angle-down")||!m.$isGoToRecommendatons&&m.$recommendedDropzone7.hasClass("halfWayScrolling")?(m.$recommendedDropzone7.removeClass("halfWayScrolling"),m.$tabContent.removeClass("rightTabHeightWhenNotLoggedIn"),m.$recommendedDropzone7.addClass("opened"),m.$overrideToggle=!0,$(".recommendedDropzone7 li").length>0?(m.$recommendedDropzone7.addClass("fullWayScrolling"),y=$(".paneContainer").height(),document.getElementsByClassName("recommendedDropzone7")[0].style.height="calc(".concat(y).concat("px / 2 )"),document.getElementsByClassName("tab__content")[0].style.height="calc(".concat(y).concat("px / 2 )")):(b=$(".recommendedDropzone7").find("h6").height()+m.$recommededHeaderHeight,m.$recommendedDropzone7.css({height:b}),document.getElementsByClassName("tab__content")[0].style.height="calc(100% - ".concat(b).concat("px)")),m.$rightContent.hasClass(m.$rightContentStickyBottomClass)||(m.$recommendedDropzone7.css({bottom:"0"}),m.$tabContent.css("bottom","0px")),void(_.hasClass("icon-angle-down")&&(_.removeClass("icon-angle-down"),_.addClass("icon-angle-up")))):_.hasClass("icon-angle-up")?(m.$recommendedDropzone7.removeClass("opened"),m.$recommendedDropzone7.removeClass("fullWayScrolling"),m.$overrideToggle=!0,m.$recommendedDropzone7.css({height:"50px"}),m.$tabContent.removeAttr("style"),m.$rightContent.hasClass(m.$rightContentStickyBottomClass)||(m.$recommendedDropzone7.css({bottom:"0"}),m.$tabContent.css("bottom","0px")),_.removeClass("icon-angle-up"),void _.addClass("icon-angle-down")):void 0},initStyleGuideContentFooterNav:function initStyleGuideContentFooterNav(){m.$SG_chapter.length>0&&($(".content-navigation__btn--pre").length?$(".footer_contnav-pre").attr("href",$(".content-navigation__btn--pre").attr("href")):$(".footer_contnav-pre").addClass("disabled"),$(".content-navigation__btn--next").length?$(".footer_contnav-next").attr("href",$(".content-navigation__btn--next").attr("href")):$(".footer_contnav-next").addClass("disabled"),$(".content-navigation__contentType").length?$(".footer_contnav-title").html($(".content-navigation__contentType").html()):$(".footer_contnav-title").remove())},initSectionAnchors:function initSectionAnchors(){var y="",b=m.$articleGrid?m.abstractSectionTitle:m.abstractSection;b&&(y+=m.constructJumpToListItem(b)),(m.$articleGrid?m.sectionHeadings:m.$chapterSectionHeadings).forEach((function(b){y+=m.constructJumpToListItem(b)})),m.appendJumpToSecionList(y)},constructJumpToListItem:function constructJumpToListItem(y){var b=y.id,_=y.textContent;if(!(b=y.parentElement.id||b)||!_)return"";var $=_.trim(),C=encodeURIComponent("article_header_JumpTo_".concat($));return'\n            <li>\n                <a title="'.concat($,'" class="article__jump__link internalNav" href="#').concat(b,'" ').concat(m.$articleGrid?"data-id=".concat(C):"",">\n                   <span>").concat($,"</span>\n                </a>\n            </li>")},appendJumpToSecionList:function appendJumpToSecionList(m){var y=document.querySelectorAll(".jump-to-dropblock-holder");document.querySelectorAll(".article_content-left .article_sections-dropBlock .dropBlock__holder").forEach((function(y){null==y||y.insertAdjacentHTML("beforeend","<ul>".concat(m,"</ul>"))})),y.forEach((function(y){null==y||y.insertAdjacentHTML("beforeend","<ul>".concat(m,"</ul>"))}))},SectionsAnchorsController:function SectionsAnchorsController(){$(document).ready((function(){UX.dropBlock.additionalControl=function(){$(".dropBlock__holder a").click((function(m){UX.dropBlock.on.hide()}))},UX.dropBlock.additionalControl()}))},isOSX:function isOSX(){null!==navigator.platform.match("Mac")&&document.body.setAttribute("class","OSX")},cloneHeaderTitle:function cloneHeaderTitle(){if($(".article_header-title").length){var m=$(".article_header-title").clone();m.find(".article__copy").remove();var y=m.html();$(".header_contnav-title span").html(y)}},exapndTableCell:function exapndTableCell(){var m=document.querySelectorAll("td.rowsep0");m.length&&m.forEach((function(m){var y=m.querySelector("img"),b=m.querySelector(".MathJaxEquation"),_=m.querySelector(".NLM_disp-formula");if(b&&y&&_){var $=y.naturalWidth,C=y.width,D=_.getBoundingClientRect().width;if($>C&&$>D){var I=(D+1.18*($-C))/16;_.style.minWidth="".concat(I<=36.3?I:36.3,"rem")}else if($>C){var M=(1.18*($-C)+D)/16;_.style.minWidth="".concat(M<=36.3?M:36.3,"rem")}}}))},isIEorEdge:function isIEorEdge(){var m=window.navigator.userAgent,y=m.indexOf("MSIE"),b=m.indexOf("Edge"),_=m.indexOf("Trident");return y>0||b>0||_>0},removeTargetFromPDFButtonIfIEorEdge:function removeTargetFromPDFButtonIfIEorEdge(){var y=$(".article_header-links .pdf-button");m.isIEorEdge()&&0!==y.length&&y.removeAttr("target")},authorInformationAffiliationTextCleanup:function authorInformationAffiliationTextCleanup(){$(".authorItemInformation .affiliation").each((function(){var m=$(this).html();m=(m=(m=(m=m.replace(/\s+and\s+and\s+/,"")).replace(/\s+and\s+,/,",")).replace(/,( ,)+/,",")).replace(/,(,)+/,","),$(this).html(m)}))},addEventListeners:function addEventListeners(){var y,b,_;m.$chapterTabClosebutton.click((function(){if(!m.$isRightTabExpanded)return m.rightTabFadeIn();m.$tabElement=m.$articleGrid?m.$rightContent:m.$tab,m.$tabElement.fadeOut("slow",m.rightTabFadeOut)})),m.$articleGrid&&(screen.orientation.addEventListener("change",m.handleOrientationChange),m.$articleTabNavBtns.forEach((function(y){y.addEventListener("click",m.articleCollapseController)})),m.$articleTabClosebutton.forEach((function(y){null==y||y.addEventListener("click",m.articleCollapseController),null==y||y.addEventListener("click",m.registerGtagAnalytics)})),m.$articleTabCitationBtn.forEach((function(y){null==y||y.addEventListener("click",m.registerCitationEvent)})),m.$articleTabShareBtn.forEach((function(y){null==y||y.addEventListener("click",m.registerShareEvent)})),m.shareBlocks.forEach((function(y){null==y||y.addEventListener("click",m.hadnleTooltipIconClick)})),m.articleHeaderTitle.addEventListener("click",(function(y){m.handleCopyClick(y,"title")})),m.articleHeaderTitle.addEventListener("keyup",(function(y){m.handleCopyClick(y,"title")})),m.sectionHeadingWrappers.forEach((function(y){null==y||y.addEventListener("click",(function(y){m.handleCopyClick(y,"section")})),null==y||y.addEventListener("keyup",(function(y){m.handleCopyClick(y,"section")}))})),null===(y=m.abstractSection)||void 0===y||y.addEventListener("click",(function(y){m.handleCopyClick(y,"section")})),null===(b=m.abstractSection)||void 0===b||b.addEventListener("keyup",(function(y){m.handleCopyClick(y,"section")})),m.citeThisBlock.forEach((function(y){null==y||y.addEventListener("click",(function(y){m.handleCopyClick(y,"citation")})),null==y||y.addEventListener("keyup",(function(y){m.handleCopyClick(y,"citation")}))})),null===(_=m.backToTopBtn)||void 0===_||_.addEventListener("click",m.scrollToTop),document.querySelectorAll(m.articleJumpLinksSelector).forEach((function(y){null==y||y.addEventListener("click",m.handleJumpToClick),null==y||y.addEventListener("keydown",m.handleJumpToClick)})))},setArticleHeaderDataIds:function setArticleHeaderDataIds(){m.articleHeaderRow&&m.articleHeaderRow.querySelectorAll(".share__list [data-id]").forEach((function(m){var y=m.getAttribute("data-id").replace("article_header","article_stickyheader");m.setAttribute("data-id",y)}))},registerGtagAnalytics:function registerGtagAnalytics(){var y,b;m.$isRightTabExpanded||null===(y=(b=window).gtag)||void 0===y||y.call(b,"event","Sidebar",{event_category:"Article",event_label:"Close"})},registerCitationEvent:function registerCitationEvent(m){var y,b;m.currentTarget.classList.contains("active")||null===(y=(b=window).gtag)||void 0===y||y.call(b,"event","Export",{event_category:"Citation",event_label:"Main"})},registerShareEvent:function registerShareEvent(m){var y,b;m.currentTarget.classList.contains("active")||null===(y=(b=window).gtag)||void 0===y||y.call(b,"event","Top",{event_category:"Article",event_label:"Share"})},fadeInRightContent:function fadeInRightContent(){var y=m.$rightContent[0],b=y.getBoundingClientRect().left,_=y.getBoundingClientRect().top,$=y.getBoundingClientRect().width;y.style.position="fixed",y.style.left=b+"px",y.style.top=_+"px",y.style.width=$+"px",y.style.zIndex="100"},resetFadeContentRight:function resetFadeContentRight(){var y=m.$rightContent[0];setTimeout((function(){y.style.position="",y.style.left="",y.style.top="",y.style.width="",y.style.zIndex="",y.style.opacity=""}),200)},articleCollapseController:function articleCollapseController(y){m.$isRightTabExpanded?m.expandLeftContent():m.collapseLeftContent(y)},expandLeftContent:function expandLeftContent(){var y;m.$isRightTabExpanded=!1,m.fadeInRightContent(),m.toggleLeftContentControllers("add"),m.$articleGrid.classList.add("expanded"),m.$articleGrid.classList.remove("collapsed"),m.$tabNavShortcut.addClass(m.$tabNavShortcutActiveClass),null===(y=UX.accessDenial)||void 0===y||y.animationEmulator()},collapseLeftContent:function collapseLeftContent(y){var b;m.$isRightTabExpanded=!0,m.toggleLeftContentControllers("remove"),m.resetFadeContentRight(),m.$articleGrid.classList.remove("expanded"),m.$articleGrid.classList.add("collapsed"),m.$tabNavShortcut.removeClass(m.$tabNavShortcutActiveClass),m.tabNavButtonsController(y),null===(b=UX.accessDenial)||void 0===b||b.animationEmulator(),m.createAlert("Right tab expanded")},handleOrientationChange:function handleOrientationChange(y){m.$isRightTabExpanded=!0,m.toggleLeftContentControllers("remove"),m.resetFadeContentRight(),m.$tabNavShortcut.removeClass(m.$tabNavShortcutActiveClass),m.$articleGrid.classList.remove("expanded"),m.$articleGrid.classList.remove("collapsed")},tabNavButtonsController:function tabNavButtonsController(y){var b=y.currentTarget,_=Array.from(m.$articleTabNavBtns).indexOf(b)-m.numberOfStaticTabs-m.$supportingInfoLink.length;if(_>=0&&_<m.$tabNavLinks.length){var $=m.$tabNavLinks[_];m.scrollToTop($.getAttribute("href")),$.click()}else b.closest(".tab-nav-shortcut__scroll")&&m.scrollToTop()},toggleLeftContentControllers:function toggleLeftContentControllers(y){m.$articleTabClosebutton.forEach((function(b){b.classList[y]("expand-active"),m.toggleLeftBtnDataID(b,y)}))},toggleLeftBtnDataID:function toggleLeftBtnDataID(m,y){var b=m.getAttribute("data-id"),_="add"===y?"Collapse":"Expand",$=b.split("_")[2];m.setAttribute("data-id",b.replace($,_))},handleCopyClick:function handleCopyClick(y,b){var _,$,C;if(13===y.which||1===y.which){var D,I=y.currentTarget,M=(null===(_=I.querySelector("[id]"))||void 0===_?void 0:_.id)||I.id,P=window.location,R=P.protocol,N=P.host,U="doi/".concat(null===($=m.metaIdentifier)||void 0===$?void 0:$.getAttribute("content"));switch(b){case"title":D=R+"//"+N+"/"+U;break;case"section":D=R+"//"+N+"/"+U+"#"+M;break;case"citation":D=null===(C=m.citationValue)||void 0===C?void 0:C.value}D&&I&&m.handleCopyText(I,D)}},handleCopyText:(y=C(_regeneratorRuntime().mark((function _callee(y,b){var _,$;return _regeneratorRuntime().wrap((function _callee$(C){for(;;)switch(C.prev=C.next){case 0:return C.prev=0,C.next=3,navigator.clipboard.writeText(b);case 3:m.handleCopyTextSuccess(y),$=null===(_=y.querySelector(".article__copy__success"))||void 0===_?void 0:_.textContent,m.createAlert($),C.next=11;break;case 8:return C.prev=8,C.t0=C.catch(0),C.abrupt("return",m.createAlert("Could not copy the link, please try again later"));case 11:case"end":return C.stop()}}),_callee,null,[[0,8]])}))),function handleCopyText(m,b){return y.apply(this,arguments)}),handleCopyTextSuccess:function handleCopyTextSuccess(y){var b=y.querySelector(".article__copy");if(b){b.classList.toggle("success"),b.classList.toggle("shown");var _=setTimeout((function(){b.classList.remove("success")}),1200),$=setTimeout((function(){b.classList.remove("shown")}),1e3);m.copyTimer&&clearTimeout(m.copyTimer),m.shownTimer&&clearTimeout(m.shownTimer),m.copyTimer=_,m.shownTimer=$}},handleJumpToClick:function handleJumpToClick(y){if(13===y.which||1===y.which){var b=y.currentTarget,_=b.closest(".share__item").querySelector("button");m.collapseIconTooltip(_),m.focusJumpToElement(b)}},focusJumpToElement:function focusJumpToElement(m){var y,b=m.getAttribute("href"),_=null===(y=document.querySelector(b))||void 0===y?void 0:y.closest("[tabindex]");null==_||_.focus()},hadnleTooltipIconClick:function hadnleTooltipIconClick(y){var b=y.currentTarget,_=Boolean(b.classList.contains("active"));m.openArticleTooltip(b,_)},openArticleTooltip:function openArticleTooltip(y,b){y.classList.toggle("active",!b),y.setAttribute("aria-expanded",!b);var _=y.parentElement;UX.achsUtils.addCloseTooltipsListener(_,m.collapseIconTooltip.bind(null,y))},collapseIconTooltip:function collapseIconTooltip(m){m&&(m.classList.remove("active"),m.setAttribute("aria-expanded","false"))},createAlert:function createAlert(y){m.alertElement&&y&&(m.alertElement.textContent=y,setTimeout((function(){m.alertElement.textContent=""}),2e3))}},UX.loader=m}()},function(m,y){function asyncGeneratorStep(m,y,b,_,$,C,D){try{var I=m[C](D),M=I.value}catch(m){return void b(m)}I.done?y(M):Promise.resolve(M).then(_,$)}m.exports=function _asyncToGenerator(m){return function(){var y=this,b=arguments;return new Promise((function(_,$){var C=m.apply(y,b);function _next(m){asyncGeneratorStep(C,_,$,_next,_throw,"next",m)}function _throw(m){asyncGeneratorStep(C,_,$,_next,_throw,"throw",m)}_next(void 0)}))}},m.exports.__esModule=!0,m.exports.default=m.exports},function(m,y){var b;b=$("body"),UX.slider.set.autoWidth=function(){return"true"===UX.slider.$slider.attr("data-autowidth")},UX.slider.stopAutoPlay=function(){b.on("touchend",".owl-carousel",(function(m){$(".owl-carousel").trigger("stop.owl.autoplay")}))},$(document).ready((function(){UX.slider.stopAutoPlay()})),UX.slider.additionalInit=function(){var m=$(".top-content .slideShow"),y=$(".multi-search_slider"),b=$(".publication-list_slider .slideShow");setTimeout((function(){m.each((function(){var m=$(this).find(".top-content_slider-dropzone"),y=$(this).find(".owl-carousel");m.appendTo(y),m.css("visibility","visible")})),y.each((function(){var m=$(this).find(".multi-search_slider-dropzone"),y=$(this).find(".owl-carousel");m.appendTo(y),m.css("visibility","visible")})),b.each((function(){var m=$(this).find(".publication-list_slider-dropzone"),y=$(this).find(".owl-carousel");m.appendTo(y),m.css("visibility","visible")})),$(".owl-prev").each((function(){$(this).attr("aria-label")||$(this).attr("aria-label","Go To Previous Slide")})),$(".owl-next").each((function(){$(this).attr("aria-label")||$(this).attr("aria-label","Go To Next Slide")}))}),150)}},function(m,y){var b;b={selectors:{articleGrid:".article-grid",metricsWidget:".articleMetrics--article",dropTarget:".article_header-metrics-dropzone"},classList:{tabletClass:"articleMetrics--tablet"},elements:{},texts:{$doi:"",$am_url:"",isTablet:window.matchMedia("(max-width: ".concat(UX.grid.screenSm,"px)")).matches},init:function init(){this.setValues(),this.fetchData(),this.moveWidget(),this.addEventListeners()},setValues:function setValues(){this.texts.$doi=$("input[name='articleMetricsDoi']").val(),this.texts.$am_url="https://api.altmetric.com/v1/doi/"+this.texts.$doi,this.elements.articleGrid=document.querySelector(this.selectors.articleGrid),this.elements.articleGrid&&(this.texts.isTablet=window.matchMedia("(max-width: ".concat(UX.grid.screenSm,"px)")).matches,this.elements.metricsWidget=document.querySelector(this.selectors.metricsWidget),this.elements.dropTarget=this.elements.articleGrid.querySelector(this.selectors.dropTarget))},addEventListeners:function addEventListeners(){$(".articleMetrics_altmetric").mouseenter(this.handleMouseEnter).mouseleave(this.handleMouseLeave).click(this.handleClick)},fetchData:function fetchData(){$.ajax({method:"GET",url:b.texts.$am_url}).done((function(m){var y=Math.ceil(m.score);jQuery(".articleMetrics_score").html(y)}))},handleMouseEnter:function handleMouseEnter(){$(".altmetric-embed div").length?"-"!==$(".articleMetrics_score").text()?$(".articleMetrics_altmetric .altmetric-donut").show():$(".articleMetrics_altmetric").css("cursor","text"):$.getScript("https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js").done((function(){"-"!==$(".articleMetrics_score").text()?$(".articleMetrics_altmetric .altmetric-donut").show():$(".articleMetrics_altmetric").css("cursor","text")}))},handleMouseLeave:function handleMouseLeave(){$(".articleMetrics_altmetric .altmetric-donut").hide()},handleClick:function handleClick(){$(".articleMetrics_altmetric .altmetric-donut").toggle()},moveWidget:function moveWidget(){var m,y;this.elements.articleGrid&&this.texts.isTablet&&this.elements.metricsWidget&&(null===(m=this.elements.metricsWidget)||void 0===m||m.classList.add(this.classList.tabletClass),null===(y=this.elements.dropTarget)||void 0===y||y.appendChild(this.elements.metricsWidget))}},UX.articleMetrics=b},function(m,y){var b;b={activeModalTrigger:null,init:function init(){$(window).resize((function(){b.rqv.calcNavPositionXS()})),window.showRef=function(m,y){var _;return b.activeModalTrigger=m.currentTarget,freezePage(),y?b.rqv.showOnly(y):b.rqv.showAll(m),null===(_=UX.getFTR)||void 0===_||_.getSelectedReferences(y),!1},b.initGoogleAnalyticsEvents()},initGoogleAnalyticsEvents:function initGoogleAnalyticsEvents(){"undefined"==typeof ga?setTimeout(UX.ACSPubs.initRqvPlugin,5e3):UX.ACSPubs.initRqvPlugin()},initRqvPlugin:function initRqvPlugin(){var m,y,b;function addRQVListeners(){setTimeout((function(){$("#rqv-reference-list").find("div.citationLinks a").each((function(m,b){$(b).analytics("gaEvent",{category:y,action:"Link Out",label:b.text})})),$("#ref-nav").find("a.prev-link").analytics("gaEvent",{category:y,action:"Navigate",label:"Previous Reference"}),$("#ref-nav").find("a.next-link").analytics("gaEvent",{category:y,action:"Navigate",label:"Next Reference"}),$("#ref-reference").find(".citationLinks").analytics("gaEvent",{category:y,action:"Navigate",label:"Direct from List"}),$("#ref-links").find("a.printView").analytics("gaEvent",{category:y,action:"Print Reference",label:"Print Selected Reference"}),$(".refQuivkViewLink").click(addRQVListeners)}),200)}m={gaEvent:function gaEvent(m){return this.each((function(){var y,b,_;y=$(this),b={category:"Miscellaneous",action:"Click",label:null,value:null},m=$.extend(b,m),y[0].tagName&&"a"===y[0].tagName.toLowerCase()&&(y[0].onclick?_=y[0].onclick:y[0].href&&(_=function onclick(){window.location=y[0].href}),y[0].onclick=function(){return!1}),y.off("click.analytics"),y.on("click.analytics",(function clickHandler(b){var $=y[0];return ga("send","event",m.category,m.action,m.label,m.value),_&&setTimeout((function(){_.call($,b)}),100),b.stopPropagation(),!1}))}))}},$.fn.analytics=function(y){if("function"==typeof m[y])return m[y].apply(this,Array.prototype.slice.call(arguments,1));$.error("Method "+y+" is undefined for jQuery.analytics")},y="Reference QuickView",b=window.location.pathname.match("/abs/")?"(Abstract)":"(Full Text)",$(".showRefLink").analytics("gaEvent",{category:y,action:"Open",label:"Format Selection Box "+b}).click(addRQVListeners),$('a.ref[onclick^="showRef"]').analytics("gaEvent",{category:y,action:"Open",label:"Inline Citation"}).click(addRQVListeners),$('li.refQuivkViewLink a[title="Open Reference QuickView"]').analytics("gaEvent",{category:y,action:"Open",label:"Reference List Heading"}).click(addRQVListeners),$("ol#references a.refNumLink").analytics("gaEvent",{category:y,action:"Open",label:"Reference List Item"}).click(addRQVListeners),$("#rqv-show-all").analytics("gaEvent",{category:y,action:"Show All",label:"See All Link "+b}).click(addRQVListeners)},seperateLine:function seperateLine(m){$(m).find(".NLM_citation").each((function(m,y){var b=$(y).find(".getFTR__content"),_=$(y).find(".references__suffix");if(b.length||_.length){var C=$("<div>").append(b).append(_).addClass("line");$(y).find(".links-group.getFTR").append(C)}}))},rqv:{showOnly:function showOnly(m){var y;for("string"==typeof m&&(m=m.replace(/, ?/g," ").split(" ")),y=0;y<m.length;y+=1)m[y]=m[y].replace(/ref/g,"cit");return UX.ACSPubs.rqv.$references?(UX.ACSPubs.rqv.$references.each((function(){var y,b,_;y=$(this),b=!0,y.find("div.NLM_citation, div.note").each((function(){var y,C,D,I;null!=(C=(y=$(this)).attr("id"))&&(C=C.replace(/ref/g,"cit")),_=$("#references #"+m),(D=-1!==m.indexOf(C)||C&&-1!==m.indexOf(C.replace(/^(\w+\d+)[A-Za-z]+$/,"$1"))||C&&-1!==m.indexOf(C.replace(/_\d+$/,"")))||_.length&&(I=_.find(".refNumLink")).length&&C===I.attr("data-citation")&&(D=!0),D?(y.removeClass("suppressed"),b=!1):y.addClass("suppressed")})),b?y.addClass("suppressed"):y.removeClass("suppressed"),y.attr("id")&&-1!==m.indexOf("cit"+y.attr("id").replace(/\D/g,""))&&(y.removeClass("suppressed"),y.find("div.NLM_citation, div.note").removeClass("suppressed"))})),$("#figureViewer-wrap").length>0&&"block"===$("#figureViewer-wrap").css("display")&&$("#figureViewer-wrap").css("display","none"),$("#rqv-container-wrap").removeClass("hidden"),$("#rqv-container").addClass("subset"),$(b.rqv.$references).not(".suppressed").first().find("div.NLM_citation:not(.suppressed), div.note:not(.suppressed)").first().click(),$(".rqv-container .close").focus()):UX.ACSPubs.rqv.show(m),!1},showAll:function showAll(m){var y;return UX.ACSPubs.rqv.$references?(UX.ACSPubs.rqv.$references.removeClass("suppressed").find("div.NLM_citation, div.note").removeClass("suppressed"),$("#rqv-container-wrap").removeClass("hidden"),$("#rqv-container").removeClass("subset"),y=UX.ACSPubs.rqv.CURRENT_REFERENCE||UX.ACSPubs.rqv.$references.find("div.NLM_citation.current, div.note.current"),UX.ACSPubs.rqv.CURRENT_REFERENCE.removeClass("current"),null!=m.data&&m.data.ClickCurrentReference?y.click():$(UX.ACSPubs.rqv.$references).first(":visible").find("div.NLM_citation:visible:first").click()):UX.ACSPubs.rqv.show(),$(this).hide(),!1},show:function show(m){var y=$("#rqv-container-wrap");if(!($("#references").find("div.reference").length>0))return!1;UX.ACSPubs.rqv.$references=UX.ACSPubs.rqv.$references||$(".article_content-left").find('[id="references"]').find("div.reference").parent().clone().find(".references__suffix").remove().end().map((function(){var m=document.createElement("li");return m.className="reference",$(this).find("a.refNumLink").replaceWith((function(){var y=document.createElement("span");return y.innerHTML=this.innerHTML,$(this).parents("li").length>0&&(m.id="rqv-reference-"+$(this).parents("li").attr("id").replace(/\D/g,"")),y})),m.innerHTML=$(this).children().first().html(),b.seperateLine(m),m})),0===y.length?(y=$("<div>").attr({id:"rqv-container-wrap",class:"rqv-container-wrap"}).append($("<div>").attr({id:"rqv-container",class:"rqv-container loop-trap"}).append($("<a>").attr({href:"#","aria-label":"close the reference modal window"}).text("x").addClass("close").click(UX.ACSPubs.rqv.hide),$("<div>").attr({id:"rqv-header",class:"rqv-header"}).append($("<h2>").addClass("logo").text("Reference QuickView"),$("<span>").addClass("power-by").text("Powered By"),$("<img>").addClass("logo").attr({alt:"SciFinder",src:"/pb-assets/ux3/images/cas-SFLogo.png"}),$("<ul>").attr({id:"ref-links",class:"ref-links"}).addClass("hidden").append($("<li>").html($("<a>").addClass("printView").attr({href:"#"}).text("PRINT").click(UX.ACSPubs.rqv.print)))),$("<div>").attr({id:"rqv-reference",class:"rqv-reference"}).append($("<div>").attr({id:"ref-nav",class:"ref-nav"}).append($("<div>").attr({id:"prev-dev-container",class:"prev-dev-container"}).append($("<a>").addClass("prev-link disabled").attr({href:"#",onclick:"javascript: void(0);"}).html("PREVIOUS").click((function(m){return m.preventDefault(),UX.ACSPubs.rqv.PREVIOUS_REFERENCE&&UX.ACSPubs.rqv.PREVIOUS_REFERENCE.click(),!1}))),$("<div>").attr({id:"next-dev-container",class:"next-dev-container"}).append($("<a>").addClass("next-link").attr({href:"#",onclick:"javascript: void(0);"}).html("NEXT").click((function(m){return m.preventDefault(),UX.ACSPubs.rqv.NEXT_REFERENCE&&UX.ACSPubs.rqv.NEXT_REFERENCE.click(),!1})))),$("<div>").attr({id:"ref-content",class:"ref-content"})),$("<ul>").attr({id:"rqv-reference-list",class:"rqv-reference-list"}),$("<div>").attr({id:"rqv-footer",class:"rqv-footer"}).append($("<a>").attr({id:"rqv-show-all",class:"rqv-show-all",href:"#"}).text("SEE ALL REFERENCES").click({ClickCurrentReference:!0},UX.ACSPubs.rqv.showAll)))),$(".article_content").before(y),UX.ACSPubs.rqv.$references.appendTo("#rqv-reference-list"),UX.ACSPubs.rqv.PREVIOUS_LINK=y.find("a.prev-link"),UX.ACSPubs.rqv.NEXT_LINK=y.find("a.next-link"),$("#rqv-reference-list").find("div.NLM_citation, div.note").click((function referenceClickHandler(m){var y,_=$(this);UX.ACSPubs.rqv.CURRENT_REFERENCE?UX.ACSPubs.rqv.CURRENT_REFERENCE.removeClass("current"):$("#rqv-reference-list").find("div.NLM_citation, div.note").removeClass("current"),0===(y=$(this).find("div.casRecord")).length&&(y=$(this).next().find("div.casRecord")),y.find("div.casTitle").length?$("#rqv-header #ref-links").removeClass("hidden"):$("#rqv-header #ref-links").addClass("hidden"),$("#ref-content").html($("<div>").addClass("casRecord").html(y.html())),UX.ACSPubs.rqv.CURRENT_REFERENCE=_,$("#rqv-reference-list").scrollTop(_.position().top+_.parents("li.reference:first").position().top-$("#rqv-reference-list").find("li:not(.suppressed)").position().top-25),_.addClass("current"),UX.ACSPubs.rqv.PREVIOUS_REFERENCE=function prevReference(){var m,y;return 0===(y=(m=UX.ACSPubs.rqv.CURRENT_REFERENCE||$("#rqv-reference-list").find("div.current")).prevAll("div.NLM_citation:visible:first")).length&&(y=$("#rqv-reference-list").find("div.current").parent("li").prevAll("li:visible:first").find("div.NLM_citation:visible, div.note:visible").last()),b.rqv.calcNavPositionXS(m,y),!!y.length&&y}(),UX.ACSPubs.rqv.PREVIOUS_REFERENCE?UX.ACSPubs.rqv.PREVIOUS_LINK.removeClass("disabled"):UX.ACSPubs.rqv.PREVIOUS_LINK.addClass("disabled"),UX.ACSPubs.rqv.NEXT_REFERENCE=function nextReference(){var m;return 0===(m=(UX.ACSPubs.rqv.CURRENT_REFERENCE||$("#rqv-reference-list").find("div.current")).nextAll("div.NLM_citation:visible:first")).length&&(m=$("#rqv-reference-list").find("div.current").parent("li").nextAll("li:visible:first").find("div.NLM_citation:visible, div.note:visible").first()),b.rqv.calcNavPositionXS(),!!m.length&&m}(),UX.ACSPubs.rqv.NEXT_REFERENCE?UX.ACSPubs.rqv.NEXT_LINK.removeClass("disabled"):UX.ACSPubs.rqv.NEXT_LINK.addClass("disabled")})),$("#rqv-reference-list").find("citationLinks").click((function(){return!0}))):y.removeClass("hidden"),m&&UX.ACSPubs.rqv.showOnly(m),$(UX.ACSPubs.rqv.$references).first(":visible").find("div.NLM_citation:visible:first").click()},print:function print(m){UX.ACSPubs.rqv.showPrintView(this,m.originalEvent)},hide:function hide(){var m;return unfreezePage(),$("#rqv-container-wrap").addClass("hidden"),$(".rqv-show-all").show(),null===(m=b.activeModalTrigger)||void 0===m||m.focus(),!1},showPrintView:function showPrintView(m,y){var b,_=$($("div.NLM_citation.current")[0]),C="Copyright &copy; "+(new Date).getFullYear()+" American Chemical Society(ACS). All Rights Reserved";-1!==_.html().indexOf("PubMed")&&(C="MEDLINE &reg; : is produced by the U.S. National Library of Medicine. MEDLINE is a registered trademark of the U.S. National Library of Medicine."),(b=window.open("","","")).document.write("<!DOCTYPE HTML><html><head>"+$($("head")[0]).html()+'</head><body class="casPrint"><div id="printInfoLayer" class="printInfoLayer"><div class="centered"><a class="rButton w150 marginSides10" style="display:inline;" href="javascript:void(0)" onclick="window.print();return false;">Print Page</a></div></div><div id="printCas" class="printCas"><div class="banner">Reference QuickView</div>'+_.html()+'<div class="casFooter">'+C+"</div></div></body></html>"),b.document.close()},calcNavPositionXS:function calcNavPositionXS(m,y){var b=$(".rqv-container-wrap"),_=b.find(".ref-nav"),C=b.find(".casTitleNuber ~ .casTitle"),D=b.find(".casTitleNuber"),I=b.find(".NLM_citation.current").closest("#rqv-container").find("#ref-content .casRecord");if(1===(null==I?void 0:I.children().length))return _.css({top:30});C.length>0&&D.length>0?C.height()>D.height()?_.css({top:C.height()+20}):0===D.height()?_.css({top:35}):_.css({top:D.height()+30}):_.css({top:30})}}},UX.ACSPubs=b},function(m,y){var b={page:{}};b.page.cart={}},function(m,y){var b;b={$body:$("body"),$indCont:$(".access-ind"),$moreOptionsButton:$(".access_more-options"),$loginLinkAccessDenial:$(".accessDenialWidget a.login-btn"),$form:$('form[name="slotLicenceConfirmationMessage"]'),$pubDoi:$(".pub-doi"),$purchseUrl:"",newDenialPurchaseCard:document.querySelector(".access-denials__option.purchase-access"),seamlessAccessCardHeader:document.querySelector(".seamless-access-btn-container h3"),newDenialsWrapper:document.querySelector(".newDenial"),eulaDiv:document.querySelector(".eulaLayer"),recommendedSection:null,animationTimer:null,firstCardChild:null,cardsHeight:null,caseNumber:null,recommendedChildIndex:null,staticTexts:{instNoAccess:"INST-NO-ACCESS",NoInst:"NO-INST",instGiveAccess:"INST-ACCESS",isDesktop:window.matchMedia("(max-width: ".concat(UX.grid.screenMd,"px)")).matches,isMobile:window.matchMedia("(max-width: ".concat(UX.grid.screenXs,"px")).matches,instName:"",hiddenClass:"hidden",recommendedUrl:"https://access.acspubs.org/recommend?ref=",recommendedLabel:"Recommend Publication",accessNotProvidedLabel:"Access is not provided via",containerBreakPoint:960},init:function init(){b.control(),b.initializeMemberBenefitsAndPPVs(),b.initSeamlessAccess(),b.moveSeamlessAccessBtnToHeader(),b.hideRestoreAccessLink(),screen.orientation.addEventListener("change",b.handleOrientationChange.bind(this))},control:function control(){b.$body.on("click",".access_more-options",(function(m){m.preventDefault(),$(this).hasClass("access_more-options_opened")?b.$indCont.slideUp():b.$indCont.slideDown(),$(this).toggleClass("access_more-options_opened")})),$(b.$form).submit((function(m){!0===$(b.$form).data("submitted")&&m.preventDefault(),$(".confirmSlotLicenceSubmit").attr("disabled","disabled")})),b.$loginLinkAccessDenial.length>0&&b.$loginLinkAccessDenial.on("click",(function(){UX.userLogin.saveCurrentUrlCookie()})),b.registerEulaRejectOnClick()},initializeMemberBenefitsAndPPVs:function initializeMemberBenefitsAndPPVs(){0!==$(".access-denial-widget-container").length&&(this.populatePurchaseAccessBtnHref(),this.populateMemberBenefitsBtnHref())},populatePurchaseAccessBtnHref:function populatePurchaseAccessBtnHref(){var m,y,b,_,C=$(".accessDenialWidget .ind-user-exists");0!==C.length&&0!==(m=$(C[0]).find(".ppv-offers a.add-article-to-cart").filter((function(){return"#"!==$(this).attr("href")&&""!==$(this).attr("href")}))).length&&(y=$(m[0]),0!==(b=C.find("a.purchase-access")).length&&(_=y[0],b.on("click",(function(){$(_).trigger("click")}))))},populateMemberBenefitsBtnHref:function populateMemberBenefitsBtnHref(){var m,y,b,_=$(".accessDenialWidget .ind-user-exists");0!==_.length&&(m=$(_[0]).find(".allowance-hidden-link").attr("href"),(y=$(_[0]).find(".member-benefits-notes-link")).length>0&&y.attr("href",m),(b=$(_[0]).find(".use-member-benefits")).length>0&&b.attr("href",m))},textInputFieldTyping:function textInputFieldTyping(){var m=$(".text-input-field").find(":input").val();b.isNullOrWhitespace(m)?($(".text-input-validation").removeClass("hidden"),$(".confirmSlotLicenceSubmit")[0].setAttribute("disabled","disabled")):($(".text-input-validation").addClass("hidden"),$(".confirmSlotLicenceSubmit")[0].removeAttribute("disabled"))},isNullOrWhitespace:function isNullOrWhitespace(m){return!m||0===m.trim().length},validateSlotLicenceConfirmationMessageForm:function validateSlotLicenceConfirmationMessageForm(){var m=$(".text-input-field").find(":input").val();return b.isNullOrWhitespace(m)?($(".slotLicenceConfirmationMessage").disabled=!0,!1):($(".slotLicenceConfirmationMessage").disabled=!1,!0)},registerEulaRejectOnClick:function registerEulaRejectOnClick(){if(b.eulaDiv){var m=document.querySelector(".access-denials__option .internalNav"),y=b.eulaDiv.querySelector(".eula-reject-terms");null==y||y.addEventListener("click",b.toggleEulaSection),null==m||m.addEventListener("click",(function(m){return b.toggleEulaSection(m,!1)}))}},toggleEulaSection:function toggleEulaSection(m){var y=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];m.preventDefault(),y?b.eulaDiv.classList.add(b.staticTexts.hiddenClass):b.eulaDiv.classList.remove(b.staticTexts.hiddenClass)},getDeprecatedIDs:function getDeprecatedIDs(m){var y=[];$.ajax({type:"GET",url:"/pb-assets/SeamlessAccess/oldentityids.json",dataType:"json",success:function success(b){y=b.IdPs.map((function(m){return decodeURIComponent(m.Entity_ID_old)})),m(y)},error:function error(){m(y)}})},removeEntityFromLocalStorage:function removeEntityFromLocalStorage(m){SeamlessAccessService.removeEntity(m)},removingDeprecatedIdPs:function removingDeprecatedIdPs(m,y){0===m.length&&y(m),b.getDeprecatedIDs((function(_){var $,C,D=[];for(0===_.length&&y(m),$=0;$<m.length;$++)C=m[$],_.includes(C.entityID)?b.removeEntityFromLocalStorage(C.entityID):D.push(C);y(D)}))},initSeamlessAccess:function initSeamlessAccess(){var m,y,_;0!==$(".seamless-access-btn").length&&SeamlessAccessService&&0!==b.$pubDoi.length&&(null===(m=(y=window).ga)||void 0===m||m.call(y,"send","event","Federated Access Impressions","Impression","Seamless Access Icon Impressions"),b.startLoading(),_=b.$pubDoi.val(),SeamlessAccessService.getEntitiesWithAllInfo(_).then((function(m){b.removingDeprecatedIdPs(m,(function(m){var y;if(0!==m.length){switch((y=m[m.length-1]).entityStatusObj.code){case 1001:b.institutionDidNotProvideAccess(y,"ENTITY_ID_NOT_SUPPORTED");break;case 1002:b.institutionDidNotProvideAccess(y,"ENTITY_ID_CANNOT_PROVIDE_ACCESS");break;case 1003:b.institutionProvideAccess(y,"ENTITY_ID_PROVIDE_ACCESS");break;case 1004:b.institutionProvideAccess(y,"ENTITY_ID_MAY_PROVIDE_ACCESS")}b.caseNumber=y.entityStatusObj.code,b.newDenialPurchaseCard&&b.showPurchaseAccessBtn(),b.setControlsMinHeight()}else b.handleNoInstitutions()}))}),(function(m){b.handleNoInstitutions()})))},removeStates:function removeStates(){$(".seamless-access-btn").removeClass("state-default"),$(".seamless-access-btn").removeClass("state-no-institutions"),$(".seamless-access-btn").removeClass("state-inst-did-not-provide-access"),$(".seamless-access-btn").removeClass("state-loading")},startLoading:function startLoading(){b.removeStates(),$(".seamless-access-btn").addClass("state-loading")},handleNoInstitutions:function handleNoInstitutions(){var m,y,_;b.removeStates(),$(".seamless-access-btn").addClass("state-no-institutions"),$(".seamless-access-btn").find("#seamless-access-institution-name").val(""),$(".seamless-access-btn").find("#entity-id").val("None"),$(".seamless-access-btn").find("#entitlement-check-result").val("ENTITY_ID_NONE"),$(".seamless-access-btn").off().on("click",(function(m){var y,_;m.preventDefault(),null===(y=(_=window).ga)||void 0===y||y.call(_,"send","event","Federated Access","click","Seamless Access"),b.seamlessAccessAnalyticAjax(),UX.userLogin.saveCurrentUrlCookie(),b.constructURLParams()})),(m=$(".accessDenialWidget .access .buttons a.purchase-access")).length>0&&!m.hasClass("clickBinded")&&b.showPurchaseAccessBtn(),(y=$("ul.signInLinks li.ppv-offers")).length>0&&y.show(),(_=$("ul.signInLinks li.restore-access")).length>0&&$("input[name='ppvLicenseType']").length>0&&_.show(),b.determineRecommendedSection(b.staticTexts.NoInst),b.setControlsMinHeight()},institutionDidNotProvideAccess:function institutionDidNotProvideAccess(m,y){var _;b.removeStates(),$(".seamless-access-btn").addClass("state-inst-did-not-provide-access"),$(".seamless-access-btn").find("#seamless-access-institution-name").val(m.entityTitle),$(".seamless-access-btn").find("#entity-id").val(m.entityID),$(".seamless-access-btn").find("#entitlement-check-result").val(y),$(".article_header-links .more-access").addClass("no-access"),0!==$(".access-not-available").length&&(_=(_=$(".access-not-available").html()).replace("{InstitutionName}",m.entityTitle),$(".access-not-available").html(_),$(".access-not-available").show()),b.determineRecommendedSection(b.staticTexts.instNoAccess),b.changeHeader(),b.injectInstitName(m.entityTitle),b.showNoAccessParagraph(),b.addNoAccesslistener(),b.handleAddOrChangeInstBtn()},moveSeamlessAccessBtnToHeader:function moveSeamlessAccessBtnToHeader(){var m=$(".accessDenialWidget .seamless-access-btn-container .access-denials__controls").children().clone(),y=$('<div class="seamless-access-btn-container"></div>');b.changeArticleGridLabel(m),y.append(m),m.length?(y.appendTo(".seamless-access-drop-area"),$(".seamless-access-drop-area").css("display","inline-block")):$(".article_header-links").addClass("no-space")},institutionProvideAccess:function institutionProvideAccess(m,y){b.removeStates(),$(".seamless-access-btn").addClass("state-inst-provide-access"),$(".seamless-access-btn").find(".inst-name").show(),$(".seamless-access-btn").find("#seamless-access-institution-name").val(m.entityTitle),$(".seamless-access-btn").find("#entity-id").val(m.entityID),$(".seamless-access-btn").find("#entitlement-check-result").val(y),$(".seamless-access-btn").on("click",(function(y){var _,$;y.preventDefault(),null===(_=($=window).ga)||void 0===_||_.call($,"send","event","Federated Access","click","Seamless Access"),b.seamlessAccessAnalyticAjax(),window.location.href=m.entitySsoUrl})),b.determineRecommendedSection(b.staticTexts.instGiveAccess),b.injectInstitName(m.entityTitle),b.handleAddOrChangeInstBtn()},handleAddOrChangeInstBtn:function handleAddOrChangeInstBtn(){var m=$(".add-or-change-inst");0!==m.length&&m.on("click",(function(m){m.preventDefault(),UX.userLogin.saveCurrentUrlCookie(),b.constructURLParams()}))},changeHeader:function changeHeader(){b.seamlessAccessCardHeader&&(b.seamlessAccessCardHeader.textContent=b.staticTexts.recommendedLabel)},addNoAccesslistener:function addNoAccesslistener(){document.querySelectorAll(".seamless-access-btn").forEach((function(m){null==m||m.addEventListener("click",b.handleRecommendedPublicationClick)}))},handleRecommendedPublicationClick:function handleRecommendedPublicationClick(){var m=window.location,y=m.protocol,_=m.host,$=m.pathname,C=m.search;window.location.href="".concat(b.staticTexts.recommendedUrl).concat(y,"//").concat(_).concat($).concat(C)},showPurchaseAccessBtn:function showPurchaseAccessBtn(){var m=$(".ppv-offers a.add-article-to-cart"),y=$(".ppv-offers a.add-article-to-cart[href!='#']"),_=$(".ppv-offers .purchase-options-container .addedMessage");0===m.length&&(y=$(".ppv-offers .cart_content a[href!='#']").length?$(".ppv-offers .cart_content a[href!='#']"):$(".access-denials__controls .cart_content a[href!='#']")),b.newDenialPurchaseCard&&(m.length>0||_.length)?(b.newDenialPurchaseCard.classList.add("shown"),b.$purchseUrl=$(y[0]).attr("href")):(m.length>0||_.length>0)&&(b.$purchseUrl=$(y[0]).attr("href"),$("a.purchase-access").css("display","inline-block")),_.css("display","none"),$("a.purchase-access").on("click",(function(m){$(this).addClass("clickBinded"),0!==y.length&&(m.preventDefault(),window.location.href=b.$purchseUrl)})),b.showVerticalStroke()},showVerticalStroke:function showVerticalStroke(){var m,y=!(null!==(m=b.newDenialPurchaseCard)&&void 0!==m&&m.classList.contains("shown")),_=document.querySelector(".seamless-access-btn.state-inst-did-not-provide-access")&&document.querySelector(".no-ind-user-exists");if(b.newDenialPurchaseCard&&y&&!_){var $=document.querySelector(".access-denials__option.log-in")||document.querySelector(".access-denials__option.member.disabled");null==$||$.classList.add("show-stroke")}},hideRestoreAccessLink:function hideRestoreAccessLink(){var m=$(".restore-access"),y=$("input[name='ppvLicenseType']");0!==m.length&&0===y.length&&m.css("display","none")},seamlessAccessAnalyticAjax:function seamlessAccessAnalyticAjax(){$.ajax({type:"POST",url:"/action/seamlessAccessAnalytics",data:{doi:b.$pubDoi.val(),action:"click",seamlessAccessInstitutionName:$(".seamless-access-btn").find("#seamless-access-institution-name").val(),seamlessAccessEntityId:$(".seamless-access-btn").find("#entity-id").val(),EntitlementCheckResult:$(".seamless-access-btn").find("#entitlement-check-result").val()},success:function success(){},error:function error(){}})},determineRecommendedSection:function determineRecommendedSection(m){var y=document.querySelector(".accessDenialWidget .ind-user-exists");(!y&&m===b.staticTexts.NoInst||m===b.staticTexts.instGiveAccess)&&$(".seamless-access-btn-container").addClass("recommended"),y||m!==b.staticTexts.instNoAccess||$(".access-denials__option.log-in").addClass("recommended"),y&&m===b.staticTexts.instNoAccess&&($(".access-denials__option.purchase-access").addClass("show-label"),document.querySelector(".accessDenialWidget .perks")&&$(".access-denials__option.log-in").addClass("show-label")),m===b.staticTexts.instGiveAccess&&$(".seamless-access-btn-container").addClass("recommended"),y&&m===b.staticTexts.NoInst&&$(".seamless-access-btn-container").addClass("recommended"),b.setRecommendedData(),b.animationEmulator(),b.showHorizontalStroke()},setRecommendedData:function setRecommendedData(){b.recommendedChildIndex||(b.recommendedSection=document.querySelector(".access-denials__option.recommended"),b.siblingsElements=document.querySelectorAll(".access-denials__option"),b.siblings=Array.from(b.siblingsElements),b.recommendedChildIndex=b.siblings.indexOf(b.recommendedSection))},changeArticleGridLabel:function changeArticleGridLabel(m){var y=null==m?void 0:m.find(".access-not-provided");y.length&&y.text(b.staticTexts.accessNotProvidedLabel)},showNoAccessParagraph:function showNoAccessParagraph(){var m=document.querySelector(".seamless-access-btn-container p.state-inst-did-not-provide-access"),y=document.querySelector(".seamless-access-btn-container .content");m&&y&&(m.classList.add("shown"),y.classList.add("hidden"))},injectInstitName:function injectInstitName(m){m&&(b.staticTexts.instName=m,$(".seamless-access-btn").find(".inst-name").html(m),b.truncateInstName())},handleOrientationChange:function handleOrientationChange(){b.setControlsMinHeight(),b.truncateInstName()},truncateInstName:function truncateInstName(){b.staticTexts.instName.length>32&&$(".seamless-access-btn").find(".inst-name").text((function(m,y){return y.slice(0,32).trim()+"..."})),b.staticTexts.isMobile&&$(".seamless-access-btn").find(".inst-name").truncate({midWordEnabled:!0})},removeCotrolsMinHeight:function removeCotrolsMinHeight(){document.querySelectorAll(".access-denials__controls").forEach((function(m){m.style.minHeight=""}))},setControlsMinHeight:function setControlsMinHeight(){var m;if((null===(m=b.newDenialsWrapper)||void 0===m?void 0:m.getBoundingClientRect().width)<=b.staticTexts.containerBreakPoint)return b.removeCotrolsMinHeight();if(!b.staticTexts.isDesktop){var y=document.querySelectorAll(".access-denials__controls"),_=document.querySelectorAll(".access-denials__option"),$=0;y.forEach((function(m){$=m.clientHeight>$?m.clientHeight:$})),y.forEach((function(m){return m.style.minHeight="".concat($,"px")})),$>66&&_.forEach((function(m){return m.classList.add("reduce-padding")}))}},constructURLParams:function constructURLParams(){var m,y,_,C,D={isDenialsRedirect:b.newDenialPurchaseCard?"true":"",purchaseUrl:b.$purchseUrl?b.$purchseUrl:"",redirectUri:encodeURI($.cookie("SSO_URL_BEFORE_LOGIN")),isLoggedIn:document.querySelector(".no-ind-user-exists")?"logged-out":"logged-in",memberLabel:null===(m=document.querySelector("#member-label"))||void 0===m?void 0:m.value,showAgreement:null===(y=document.querySelector("#show-agreement"))||void 0===y?void 0:y.value,remainingAllowance:null===(_=document.querySelector("#remaining-allowance"))||void 0===_?void 0:_.value,doAllowanceLicenseServiceUrl:null===(C=document.querySelector(".allowance-hidden-link"))||void 0===C?void 0:C.href},I=b.buildUrlWithParams(D);window.location.href=I},buildUrlWithParams:function buildUrlWithParams(m){var y=[];for(var b in m)""!==m[b]&&void 0!==m[b]&&y.push("".concat(encodeURIComponent(b),"=").concat(encodeURIComponent(m[b])));return"/action/ssostart?".concat(y.join("&"))},animationEmulator:function animationEmulator(){clearTimeout(b.animationTimer),b.animationTimer=setTimeout((function(){b.moveRecommendedDenialCard()}),200)},moveRecommendedDenialCard:function moveRecommendedDenialCard(){var m;if(b.setControlsMinHeight(),b.newDenialPurchaseCard&&b.recommendedSection){var y=b.recommendedSection.closest(".buttons"),_=(null===(m=b.newDenialsWrapper)||void 0===m?void 0:m.getBoundingClientRect()).width;b.firstCardChild||(b.firstCardChild=b.siblings[0]),_<=b.staticTexts.containerBreakPoint?y.insertBefore(b.recommendedSection,b.firstCardChild):y.insertBefore(b.recommendedSection,b.siblings[b.recommendedChildIndex+1])}},showHorizontalStroke:function showHorizontalStroke(){var m=b.siblings.slice(0,-1);switch(b.recommendedChildIndex){case 2:b.siblings[0].classList.add("show-stroke-horizontal");break;case-1:m.forEach((function(m){return m.classList.add("show-stroke-horizontal")}))}}},UX.accessDenial=b},function(m,y){var b;b={$eCommerceCheckoutFieldsWidget:document.querySelector(".eCommerceCheckoutFieldsWidget"),$returningUserBtnClass:"returningUser",init:function init(){b.control()},control:function control(){b.addEventListener(),b.safariBtnBackCaching()},addEventListener:function addEventListener(){var m;null===(m=b.$eCommerceCheckoutFieldsWidget)||void 0===m||m.addEventListener("click",b.saveUrlCookieCallBack)},saveUrlCookieCallBack:function saveUrlCookieCallBack(m){m.target.classList.contains(b.$returningUserBtnClass)&&UX.userLogin.saveCurrentUrlCookie()},safariBtnBackCaching:function safariBtnBackCaching(){window.onpageshow=function(m){m.persisted&&window.location.reload()}}},UX.returnUser=b},function(m,y){$(window).on("pageshow",(function(m){$(".loading-overlay").length&&m.originalEvent.persisted&&window.location.reload()}))},function(m,y){var b;b={$findGuestButton:"#guestButtonID",init:function init(){b.controller()},controller:function controller(){$("body").delegate(b.$findGuestButton,"click",(function(){window.scrollTo(0,0)}))}},UX.cartScrollTop=b},function(m,y,b){var _,C=b(55);function _createForOfIteratorHelper(m,y){var b="undefined"!=typeof Symbol&&m[Symbol.iterator]||m["@@iterator"];if(!b){if(Array.isArray(m)||(b=function _unsupportedIterableToArray(m,y){if(m){if("string"==typeof m)return _arrayLikeToArray(m,y);var b={}.toString.call(m).slice(8,-1);return"Object"===b&&m.constructor&&(b=m.constructor.name),"Map"===b||"Set"===b?Array.from(m):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?_arrayLikeToArray(m,y):void 0}}(m))||y&&m&&"number"==typeof m.length){b&&(m=b);var _=0,$=function F(){};return{s:$,n:function n(){return _>=m.length?{done:!0}:{done:!1,value:m[_++]}},e:function e(m){throw m},f:$}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var C,D=!0,I=!1;return{s:function s(){b=b.call(m)},n:function n(){var m=b.next();return D=m.done,m},e:function e(m){I=!0,C=m},f:function f(){try{D||null==b.return||b.return()}finally{if(I)throw C}}}}function _arrayLikeToArray(m,y){(null==y||y>m.length)&&(y=m.length);for(var b=0,_=Array(y);b<y;b++)_[b]=m[b];return _}_={accessOptions:document.querySelector(".access-options"),purchaseBlock:document.querySelector(".block"),federations:document.querySelector(".federations"),isTablet:window.matchMedia("(max-width: ".concat(UX.grid.screenSm-1,"px)")).matches,noMatchFoundMessage:"No matches found.",isDenialsRedirect:!1,seamlessAccessParams:{},areOtherOptionsShown:!1,useTabKey:!1,classes:[],currentNoResultsState:"",institutionWrapperMargin:45,init:function init(){var m,y=$(".preference-institution-input"),b=$(".mobile-back-container"),C=$(".back-container");_.seamlessAccessParams=_.constructSeamlessAccessParams(),_.accessOptions&&_.isDenialsRedirect&&(_.updateMaggicSuggestProperties(),_.constructSeamlessAccessLabels()),void 0!==jQuery.ui&&0!==$(".sso-start-widget").length&&(m=$(".inst-search-auto-complete").magicSuggest({allowFreeEntries:!1,data:"/pb/widgets/shibbolethLogin/institutions",dataUrlParams:{redirectUri:new URL(window.location.href).searchParams.get("redirectUri")},hideTrigger:!0,maxSelection:1,useTabKey:"".concat(_.useTabKey),method:"get",minChars:1,mode:"remote",resultsField:"name",placeholder:"Search By University or Organization",noSuggestionText:'<div class="no-results" style="display: block;"><span>'.concat(_.noMatchFoundMessage,"</span></div>"),renderer:function renderer(m){if(m)return $(".ms-res-ctn.dropdown-menu").length>0&&_.showEnterToSelectLabel(),'<span data-entityid="'+m.entityId+'" data-name="'+m.federationName+'" class="sso-institution" href="'+m.institutionUrl+'">'+m.name+"</span>"}}),_.accessOptions&&_.isDenialsRedirect&&(_.setObserver(),_.setFederationWrapperMargin(),_.setFederationWrapperListener()),$(m).on("blur",(function(m){$(".yes-results").hide(),UX.federatedLogin.toggleAttributes()})),$(m).on("keydown",(function(){for(var m=arguments.length,y=new Array(m),b=0;b<m;b++)y[b]=arguments[b];y[0];var C=y[1],D=y[2];_.isDenialsRedirect&&_.otherOptionsTabLogic(D,C),$(".yes-results").hide(),UX.federatedLogin.toggleAttributes()})),$(m).on("load",(function(m,y,b){b.length>0&&$(".ms-res-ctn.dropdown-menu").length>0?($(".yes-results").show(),UX.federatedLogin.toggleAttributes(!0),_.showEnterToSelectLabel()):($(".yes-results").hide(),UX.federatedLogin.toggleAttributes())})),$(m).on("keyup",(function(){""===$(".ms-sel-ctn input").val()&&($(".yes-results").hide(),UX.federatedLogin.toggleAttributes())})),$(m).on("selectionchange",(function(m,y){$(".ms-sel-item").remove(),UX.federatedLogin.toggleAttributes(),$(".yes-results").hide(),$(".ms-helper").remove(),m.currentTarget.getSelection().length>0&&UX.federatedLogin.onSelectionchange(m,y)})),y.change((function(){!0===y.prop("checked")?$.removeCookie("DO_NOT_SAVE_SELECTED_INST",{path:"/"}):$.cookie("DO_NOT_SAVE_SELECTED_INST",!0,{path:"/"})})),$("body").on("click",(function(){$(".custom-modal").hasClass("in")&&$(".custom-modal .modal__dialog .close").click()})),$("body").on("click","#learnMorePopup .close",(function(){UX.dropBlock.on.hide()})),$(".learn-more-dropBlock a").on("keydown",(function(m){13===m.keyCode&&$(this).click()})),SeamlessAccessService.retrieveEntity().then((function(m){UX.federatedLogin.isCheckboxWasChecked()&&y.prop("checked",!0)}),(function(m){UX.federatedLogin.showLocalStoragePreventedMsg()})),b.prepend(C.html()),$("#openLearnMorePopup").on("click",(function(){$("#learnMorePopup").modal({backdrop:"static",keyboard:!1})})))},showEnterToSelectLabel:function showEnterToSelectLabel(){setTimeout((function(){var m=$(".ms-res-ctn.dropdown-menu"),y=$(".yes-results"),b=m.position(),_=m.outerHeight(),C=(null==b?void 0:b.top)+_+10;m.parent().append(y),y.css({position:"absolute",top:C+"px",left:(null==b?void 0:b.left)+"px"})}),500)},toggleAttributes:function toggleAttributes(m){m?($(".ms-sel-ctn").attr("aria-expanded","true"),$(".ms-sel-ctn").attr("aria-controls","sso-dropdown"),$(".ms-res-ctn.dropdown-menu").attr("id","sso-dropdown")):($(".ms-sel-ctn input").removeAttr("aria-activedescendant"),$(".ms-sel-ctn").attr("aria-expanded","false"))},onSelectionchange:function onSelectionchange(m,y){var b,C,D=m.currentTarget.getSelection()[0].name,I=m.currentTarget.getSelection()[0].institutionUrl,M=m.currentTarget.getSelection()[0].entityId,P=$(".institution[url^='"+I+"']").attr("auth-type");m.preventDefault(),y.clear(),""===M||"undefined"===M?window.location.href=I:(C={id:M,name:D,url:I,authType:P},b=JSON.stringify(C),$.cookie("SELECTED_INST_DATA",b,{path:"/"}),_.updateSeamlessAccess(M,D,I))},openFederationPage:function openFederationPage(m){var y='<div class="institution-entry"><a class="institution-link" href="#" onclick="UX.federatedLogin.updateSeamlessAccess(\'%s1\', \'%s2\', \'%s3\');">%s2</a></div>',b=$(".sso-start-widget .insts-container"),C=$(m),D=C.siblings(".fed-institutions").find(".institution"),I=$(".fed-name-container .fed-name");_.showInstitutionsPage(),b.html(""),0!==D.length?($.each(D,(function(m,_){var C,D,I,M=$(_).html(),P=$(_).attr("url"),R=$(_).attr("auth-id");""===R||"undefined"===R?(I=UX.achsUtils.getParameterByName("redirectUri",P),D=UX.achsUtils.getParameterByName("entityId",I),C=y.replace("%s1",D)):C=y.replace("%s1",R),C=(C=(C=C.replace("%s2",M.replace(/\'/g,"\\'"))).replace("%s2",M)).replace("%s3",P),b.append(C)})),I.html(C.html()),window.scrollTo(0,0)):b.append("<p>No Institutions in this federation.</p>")},showInstitutionsPage:function showInstitutionsPage(){var m=$(".insts-preference-options-container"),y=$(".sso-start-widget .feds-page"),b=$(".sso-start-widget .insts-page"),_=$(".mobile-back-container");$(".preference-institution").appendTo(m),$(".popupMessageDropZone").appendTo(m),$(".local-storage-prevent").appendTo(m),y.addClass("hide"),b.removeClass("hide"),$(".custom-modal").addClass("center-modal"),$(".custom-modal").closest(".learnMorePopup-container").addClass("full-page"),_.removeClass("hide")},showFederationsPage:function showFederationsPage(){var m=$(".feds-preference-options-container"),y=$(".sso-start-widget .feds-page"),b=$(".sso-start-widget .insts-page"),_=$(".mobile-back-container");$(".preference-institution").appendTo(m),$(".popupMessageDropZone").appendTo(m),$(".local-storage-prevent").appendTo(m),y.removeClass("hide"),b.addClass("hide"),_.addClass("hide")},backToFedsList:function backToFedsList(){_.showFederationsPage()},updateSeamlessAccess:function updateSeamlessAccess(m,y,b){var _,C=!0===$(".preference-institution-input").prop("checked");SeamlessAccessService&&C?(_={entityID:m,title:y},SeamlessAccessService.updateEntity(_).then((function(m){window.location.href=b}))):window.location.href=b},showLocalStoragePreventedMsg:function showLocalStoragePreventedMsg(){var m=$(".preference-institution-input"),y=$(".local-storage-prevent");m.prop("disabled",!0),y.css("display","block")},hideLocalStoragePreventedMsg:function hideLocalStoragePreventedMsg(){$(".local-storage-prevent").css("display","none")},isCheckboxWasChecked:function isCheckboxWasChecked(){return"true"!==$.cookie("DO_NOT_SAVE_SELECTED_INST")},updateMaggicSuggestProperties:function updateMaggicSuggestProperties(){_.noMatchFoundMessage+=" Explore your other access options below.",_.useTabKey=!0},setObserver:function setObserver(){var m=document.querySelector(".ms-helper");UX.achsUtils.mutationObserverSubscription(_.mutationCallback.bind(this),m,{attributes:!0,subtree:!0},!1)},mutationCallback:function mutationCallback(){var m=document.querySelector(".ms-helper"),y=document.querySelector(".ms-helper div"),b=""===(null==m?void 0:m.style.display)&&y;b!==_.currentNoResultsState&&(b?(_.accessOptions.classList.add("shown"),_.setFederationWrapperMargin(!1),_.areOtherOptionsShown=!0):(_.accessOptions.classList.remove("shown"),_.setFederationWrapperMargin(),_.areOtherOptionsShown=!1),_.currentNoResultsState=b)},otherOptionsTabLogic:function otherOptionsTabLogic(m,y){8!==m.which||y.getData().length||(_.accessOptions.classList.remove("shown"),_.setFederationWrapperMargin(),_.areOtherOptionsShown=!1),9===m.which&&!m.shiftKey&&_.areOtherOptionsShown&&$(".access-options :focusable:first").focus(),9!==m.which||m.shiftKey||_.areOtherOptionsShown||(y.empty(),y.collapse(),$(".federations :focusable:first").focus()),9===m.which&&m.shiftKey&&_.areOtherOptionsShown&&$(".learn-more-dropBlock a").focus(),9===m.which&&m.shiftKey&&!_.areOtherOptionsShown&&(y.empty(),y.collapse(),$(".learn-more-dropBlock a").focus())},constructSeamlessAccessParams:function constructSeamlessAccessParams(){var m,y={},b=_createForOfIteratorHelper(new URLSearchParams(window.location.search).entries());try{for(b.s();!(m=b.n()).done;){var $=C(m.value,2),D=$[0],I=$[1];y[D]=decodeURIComponent(I)}}catch(m){b.e(m)}finally{b.f()}return _.isDenialsRedirect=y.isDenialsRedirect,y},constructSeamlessAccessLabels:function constructSeamlessAccessLabels(){var m=_.seamlessAccessParams,y=m.isLoggedIn,b=m.memberLabel,$=m.showAgreement,C=m.purchaseUrl,D=m.remainingAllowance;_.hideCartDropzoneWhenEmpty(),_.handleChinaRegion(C),_.handleDisableState(b,$),_.pushStaticClasses($,b,y),_.showRemainingAllowances(D),_.addOtherOptionsClasses()},hideCartDropzoneWhenEmpty:function hideCartDropzoneWhenEmpty(){var m=_.accessOptions.querySelector(".cartLinkDropZone");m.querySelector("a")||null==m||m.classList.add("hidden")},handleChinaRegion:function handleChinaRegion(m){m||_.purchaseBlock.classList.add("hidden")},handleDisableState:function handleDisableState(m,y){if("unavailable"===m||y){var b=_.accessOptions.querySelector(".access-options__login");_.classes.push("disabled"),b.setAttribute("aria-disabled",!0),b.addEventListener("keydown",(function(m){13===m.which&&m.preventDefault()}))}},pushStaticClasses:function pushStaticClasses(m,y,b){m&&_.classes.push(m),y&&_.classes.push(y),b&&_.classes.push(b)},showRemainingAllowances:function showRemainingAllowances(m){var y=_.accessOptions.querySelector(".remaining-memebr-benifits");m&&(_.classes.push("show-remaining"),y.textContent=" ".concat(m," "))},addOtherOptionsClasses:function addOtherOptionsClasses(){_.classes.forEach((function(m){_.accessOptions.classList.add(m)}))},setFederationWrapperMargin:function setFederationWrapperMargin(){var m=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(_.isTablet){var y=_.accessOptions.clientHeight+_.institutionWrapperMargin;_.federations.style.marginTop=m?"".concat(-y,"px"):0}else _.federations.style.marginTop=0},handleOrientationChange:function handleOrientationChange(){_.isTablet=window.matchMedia("(max-width: ".concat(UX.grid.screenSm-1,"px)")).matches,_.setFederationWrapperMargin()},setFederationWrapperListener:function setFederationWrapperListener(){screen.orientation.addEventListener("change",_.handleOrientationChange)}},UX.federatedLogin=_},function(m,y){var b;b={$loginLink:$("a.user-login-bar__Login"),$logoutLink:$("a.user-login-bar__Logout"),statusEndpoint:$(".statusEndpoint").val(),clientID:$(".clientID").val(),logoutUrl:$(".logoutUrl").val(),heartBeatReloadInterval:$(".heartBeatReloadInterval").val(),$heartBeatImage:$(".ssoHeartBeatImg"),$userName:$(".user-login-bar__name"),query_string:"?padding=jsonPaddingFunction&appid="+$(".clientID").val(),$logInBarMsgContainer:$("span.user-login-bar__value"),init:function init(){b.control(),b.showDevicePairingSuccessModal(),b.heartBeatImageReload(),b.checkIfSsoUserIsAlreadyLoggedIn((function(m,y){m&&0!==b.$loginLink.length&&(y&&b.updateLoginView(y),$("<iframe />",{src:"/action/ssoRequestForLoginPage",name:"sso-handshake",id:"sso-handshake",style:"width:0px;height:0px",load:function load(m){console.log("Login requested.")}}).appendTo("body"))}))},control:function control(){0!==b.$loginLink.length&&b.$loginLink.on("click",(function(){b.saveCurrentUrlCookie()})),0!==b.$logoutLink.length&&b.$logoutLink.on("click",(function(){b.removeDevicePairingAppearedBeforeCookie()}))},removeDevicePairingAppearedBeforeCookie:function removeDevicePairingAppearedBeforeCookie(){$.removeCookie("devicePairingModalAppearedBefore",!0,{path:"/"})},saveCurrentUrlCookie:function saveCurrentUrlCookie(){$.cookie("SSO_URL_BEFORE_LOGIN",window.location.href,{path:"/"})},saveCurrentUrlCookieForMendeley:function saveCurrentUrlCookieForMendeley(m){$.cookie("SSO_URL_BEFORE_LOGIN",m,{path:"/"})},updateLoginView:function updateLoginView(m){var y;$(".user-login-bar").length&&(y="<span class='welcomeMsg'>Welcome: </span><a href='/action/showPreferences?menuTab=AccountInfo' class='user-login-bar__name'>"+m+"</a><span class='user-login-bar__separator'>|</span><a href="+b.logoutUrl+" class='user-login-bar__Logout'>Logout</a>",b.$logInBarMsgContainer.html(y))},showDevicePairingSuccessModal:function showDevicePairingSuccessModal(){var m="devicePairingModalAppearedBefore",y=$(".pair-device-success-modal-btn");0!==$(".pair-device-is-paired").length&&"true"===$(".pair-device-is-paired").val()&&"true"!==$.cookie(m)&&(y.length>=0&&$(y[0]).trigger("click"),$.cookie(m,!0,{path:"/"}),setTimeout((function(){var m=$(".pair-device-success-modal .close");m.length>0&&$(m[0]).trigger("click")}),3e3))},checkIfSsoUserIsAlreadyLoggedIn:function checkIfSsoUserIsAlreadyLoggedIn(m){$.ajax({type:"get",dataType:"jsonp",url:b.statusEndpoint+b.query_string,jsonpCallback:"jsonPaddingFunction",contentType:"application/json",cache:!1,success:function success(y){var b,_;y.succ&&y.results?(b=y.results.loggedin,_=y.results.firstname,b?(console.log("Logged in using SSO!"),m(!0,_)):(console.log("Not logged using SSO!"),m(!1,_))):(console.log("Not logged using SSO! (No success in response)"),m(!1))},error:function error(y){m(!1),console.log("[[UX.userLogin.checkIfSsoUserIsAlreadyLoggedIn]], Error: "+y)}})},heartBeatImageReload:function heartBeatImageReload(){b.heartBeatReloadInterval&&$.cookie("AUTO_SINGIN_SSO")&&(setInterval((function(){b.setSSOHeartBeatImage()}),b.heartBeatReloadInterval),setInterval((function(){b.setLiteratumHeartBeatIframe()}),b.heartBeatReloadInterval))},setSSOHeartBeatImage:function setSSOHeartBeatImage(m){if(0!==b.$heartBeatImage.length){var y=Math.floor(1e7*Math.random()),_=b.$heartBeatImage.attr("src");_=b.removeParam("random",_),b.$heartBeatImage.get(0).onload=function(){m&&m()},b.$heartBeatImage.attr("src",_+"&random="+y)}else m&&(UX.achsMendeley.changeMendeleyModalToState0(),UX.achsAddToMendeley.hideProgress(),freezePage(),UX.achsMendeley.$achsMendeley.css("display","block"),UX.achsMendeley.$achsMendeley.find(".achs-mendeley_close").focus())},setLiteratumHeartBeatIframe:function setLiteratumHeartBeatIframe(){var m=$("iframe[name='literatum-session-heart-beat']");m.length>0&&m.remove(),$("<iframe />",{src:"/action/heartBeatSessionRevival",name:"literatum-session-heart-beat",id:"literatum-session-heart-beat",style:"width:0px; height:0px; display:none"}).appendTo("body")},removeParam:function removeParam(m,y){var b,_=y.split("?")[0],$=[],C=-1!==y.indexOf("?")?y.split("?")[1]:"";if(""!==C){for(b=($=C.split("&")).length-1;b>=0;b-=1)$[b].split("=")[0]===m&&$.splice(b,1);_=_+"?"+$.join("&")}return _},getUserName:function getUserName(){return b.$userName?b.$userName.html():""}},UX.userLogin=b},function(m,y){var b;b={$carouselItemTitle:$(".toc-article-group_carousel .toc-article-group_title a"),$itemSummary:$(".toc-article-group_text p"),init:function init(){b.truncateCarouselItemTitle(),b.truncateItemSummary()},truncateCarouselItemTitle:function truncateCarouselItemTitle(){b.$carouselItemTitle.length&&b.$carouselItemTitle.truncate({lines:3})},truncateItemSummary:function truncateItemSummary(){b.$itemSummary.length&&b.$itemSummary.truncate({lines:4})}},UX.tocArticleGroup=b},function(m,y){var b;b={$institutionId:$(".updateInstitutionMessageForm  select#institutionList"),$institutionMessage:$(".institutionMessageTextArea"),$institutionEnableSelect:$(".enabledTextInput"),init:function init(){b.control(),b.updateHiddenInput()},control:function control(){b.$institutionId.change((function(){var m=$(this).find(":selected");b.updateHiddenInput(),UX.intitutionId.$institutionMessage.val(m.data("info")),UX.intitutionId.$institutionEnableSelect.val(m.data("other-info")+"")}))},updateHiddenInput:function updateHiddenInput(){$("input[name=institutionId]").attr("value",$("#institutionList").val())}},UX.intitutionId=b},function(m,y){},function(m,y){$(document).ready((function(){UX.dropblockUl.vPort="screen-md",function showMendeleyOptionConditionally(){var m=$(".profile-menu-home .manageMendeley"),y=$(".profile-menu .manageMendeley");0===m.length&&0===y.length||UX.achsMendeley.checkAccessToken((function(b){b&&(m.length>0&&m.show(),y.length>0&&y.css("display","block"))}))}()})),UX.dropblockUl.get.activeTab=function(m){return m.find("a.active")}},function(m,y){var b;b={url:location.href,$searchFilters:$(".search__filters"),$appliedUrl:null,$standardLinkUrl:null,init:function init(){var m,y;b.$searchFilters.find("a[title|='Reference/Standard']").length&&(b.$standardLinkUrl=b.$searchFilters.find("a[title|='Reference/Standard']"),m=b.$standardLinkUrl.attr("href"),y=b.removeParamFromUrl(m,"PubType"),b.$appliedUrl=b.addParamToUrl(y,"PubType","reagentsBookSeries"),b.setUrl.setStandardUrl())},addParamToUrl:function addParamToUrl(m,y,b){var _;return void 0!==m&&void 0!==y&&void 0!==b?(_=-1===m.indexOf("?")?"?":"&",m+_+y+"="+b):m},removeParamFromUrl:function removeParamFromUrl(m,y){var b,_,$,C=m.split("?");if(C.length>1){for(b=encodeURIComponent(y)+"=",$=(_=C[1].split(/[&;]/g)).length;$-- >0;)-1!==_[$].lastIndexOf(b,0)&&_.splice($,1);return _.length>0?C[0]+"?"+_.join("&"):C[0]}return m},setUrl:{setStandardUrl:function setStandardUrl(){b.$standardLinkUrl.attr("href",b.$appliedUrl)}}},UX.searchFacets=b},function(m,y){var b;b={$cenArticleContentWidget:$(".figure-viewer-cgeabj"),init:function init(){var m;if(b.initCandENCarousel(),b.$cenArticleContentWidget.length>0)for(m=0;m<b.$cenArticleContentWidget.length;m++)b.initCandENCarousel(b.$cenArticleContentWidget[m])},showImage:function showImage(m){var y,b,_,C,D,I,M,P,R=window.figureViewer.figures,N=R[m],U="",H="";for(N||(N=R[m=0]),y=N.g,b=$("#"+N.i),_=$("#figureViewer-wrap"),C=0;C<y.length;C++)U+='<img alt="Figure" src="'+window.figureViewer.path+"/images/medium/"+y[C].m+'"/>';if(_.find(".figBox").html(U),D=$(b.find(".caption")),console.log("$fvw:"+_.find(".caption")),_.find(".caption").html(D.length>0?D.html():""),I=$(_.find(".prev")),0===m?(I.addClass("hidden"),I.attr("href","#")):(I.removeClass("hidden"),I.attr("href","JavaScript:showImage("+(m-1)+")")),m++,M=$(_.find(".next")),m===R.length?(M.addClass("hidden"),M.attr("href","#")):(M.removeClass("hidden"),M.attr("href","JavaScript:showImage("+m+")")),_.find(".index").html(m),N.weo)for(C=0;C<N.weo.length;C++)(P=N.weo[C])&&P.h&&(H+='<div class="weo"><a title="View this Web Enhanced Object',P.t&&(H+=": "+P.t),H+='" href="'+P.h+'" target="_blank"><span>Web Enhanced Object</span></a></div>');for(U="",C=0;C<y.length;C++)y[C].l&&(U&&(U+="<br />"),U+='<a href="'+window.figureViewer.path+"/images/large/"+y[C].l+'"><span>High Resolution Image</span></a>');U&&(H+='<div class="highRes">'+U+"</div>",H+='<div class="ppt"><a title="Download MS PowerPoint Slide" href="/action/downloadFigures?doi='+window.figureViewer.doi+"&id="+N.i+'">\t\t\t\t  <span>PowerPoint Slide</span>\t\t\t   </a></div>'),_.find("#figTools").html(H)},initCandEnPopup:function initCandEnPopup(m){var y,_,C=$(m.target),D=C.closest(".figure-viewer-cgeabj"),I=C.closest(".carousel-canvas-group"),M=$("#fade");0!==I.length&&0!==I.find(".figureCandENCanvas").length&&(0===(y=D.find("#figureViewer-cAndENwrap")).length&&(y=$("<div>",{id:"figureViewer-cAndENwrap",style:"display:none"}),D.append(y)),(_=I.find(".overlay")).hide(),0===M.length&&(M=$("<div>",{id:"fade"})),M.css("display","block"),M.unbind("click"),M.on("click",(function(){M.css("display","none"),y.css("display","none"),_.show()})),D.append(M),y.html($("<div/>").append(I.clone()).html()),y.css("display","block"),y.on("click",(function(m){0===$(m.target).closest(".figureCandENCanvas").length&&b.closeFigViewer(y)})),b.initCandENCarousel(y))},showCandENImage:function showCandENImage(m,y){var _,C,D,I,M,P,R,N=m-1,U=m,H=parseInt(m)+parseInt("1"),B=$(y),z=B.closest("#figureViewer-cAndENwrap"),q=void 0,W=!1;void 0===z.val()||0===z.length||"block"!==z.css("display")?q=B.find(".figureCandENCanvas"):(q=z.find(".figureCandENCanvas"),W=!0),0!==q.length&&(_=$(q[U]),W&&(D=(C=_.find(".absImg")).contents(),C.replaceWith(D)),I=_.find(".mid-img"),M=_.find(".large-img"),W?(I.addClass("hide"),M.removeClass("hide")):(I.removeClass("hide"),M.addClass("hide")),_.removeClass("hide"),P=$(_.find(".prev")),R=$(_.find(".next")),P.unbind("click"),R.unbind("click"),0===U?P.addClass("hidden"):(P.removeClass("hidden"),P.on("click",(function(m){m.preventDefault(),_.addClass("hide"),b.showCandENImage(N,B)}))),H===q.length?R.addClass("hidden"):(R.removeClass("hidden"),R.on("click",(function(m){m.preventDefault(),_.addClass("hide"),b.showCandENImage(H,B)}))),_.find(".index").html(H),1===q.length&&(_.find(".figureNav").remove(),_.find(".figureNum").remove()))},closeFigViewer:function closeFigViewer(m){var y=$("#fade");"none"!==m.css("display")&&(m.css("display","none"),y.css("display","none"))},displayCandENWithEffect:function displayCandENWithEffect(m,y){var b=$("#"+m);y||(y=window.event),0!==b.length&&"block"!==b.css("display")&&b.show("fast")},showCandENFigures:function showCandENFigures(m){m.preventDefault(),b.initCandEnPopup(m),b.displayCandENWithEffect("figureViewer-cAndENwrap",m)},initCandENCarousel:function initCandENCarousel(m){var y,_,C,D,I,M,P=$(m).find(".carousel-canvas-group"),R=$("#figureViewer-cAndENwrap").length>0;if(0!==P.length)for(y=0;y<P.length;y++)if(0!==(I=(D=$(P[y])).find(".figureCandENCanvas")).length){for(_=0;_<I.length;_++)M=$(I[_]),R||M.find(".absImg").on("click",(function(m){b.showCandENFigures(m)}));if(R){for(C=0;C<I.length;C++)if(!(M=$(I[C])).hasClass("hide")){b.showCandENImage(C,D);break}}else b.showCandENImage(0,D)}}},UX.figureViewerCGEABJ=b},function(m,y){UX.showRecommended.paramAdded=!1,UX.showRecommended.init=function(){$(UX.showRecommended.selectors.placeholder).each((function(m,y){UX.showRecommended.getContent(y)}))}},function(m,y){var b;b={init:function init(){b.addTocAlertDialogHandlers(),$("#jmodal-az-layer ul li a").on("click",b.journalLinksClickHandler),b.updateDialogwhenPageLoaded(),b.showHiddenPartsInPbEditMode(),b.initTocPbToolSelectAll()},addTocAlertDialogHandlers:function addTocAlertDialogHandlers(){var m,y,_=$("#registerAlerts");_.length<1||("undefined"!==(m=_.find("#showAlertDialog"))&&m.length>0&&$(m).on("click",(function(m){m.preventDefault(),$(".journalsModalWrap").removeClass("hidden"),$("#jmodal-az-layer").removeClass("hidden"),$(".topical-alerts-container").addClass("hidden")})),"undefined"!==(y=_.find("#jmodal-close_btn"))&&y.length>0&&$(y).on("click",(function(m){b.closeAlertsDialog(m)})))},closeAlertsDialog:function closeAlertsDialog(m){m.preventDefault(),$(".journalsModalWrap").addClass("hidden")},updateDialogwhenPageLoaded:function updateDialogwhenPageLoaded(){$("#jmodal-az-layer ul li input[type='checkbox']:checked").each((function(){var m,y,b,_=$(this).closest("li").find("a");if(0===_.length)return!0;_.parents(".journal-added").length||_.wrap("<div class='journal-added'></div>"),y=(m=_.prop("id")).substring("journal-".length,m.length),0!==(b=$(".browse-taxonomies-container .journalCode")).length&&y===b.val()||(_.addClass("not-allowed-link"),_.unbind("click"),_.attr("title","To remove an e-Alert, uncheck the Issue Alerts box and set Article Alerts to 'Never'"))}))},journalLinksClickHandler:function journalLinksClickHandler(m){var y,_,C,D,I,M=$(this).attr("id").replace("journal-",""),P=$(this).closest("li").find("input[type='checkbox']").eq(0),R=P.val(),N=$(this).closest("li").hasClass("aop-ja-disabled"),U=$("#journalCodes").val(),H=!0,B=$(this).parents(".journalsModalWrap").find(".journalCode"),z=$(this).parents(".manageAlertsWidget"),q=z.find(".iip-default-frequency"),W=q.length>0?q.val():"D",X="",V="",G="";if(""!==U)for(U=U.split(","),y=0;y<U.length;y++)U[y]===M&&(H=!1);if(0!==B.length&&M===B.val()&&"true"===z.find("#enableTaxonomyPanel").val())return(_=$(this).parents("#jmodal-az-layer")).length>0&&_.addClass("hidden"),void(z.length>0&&(C=z.find(".topical-alerts-container")).length>0&&C.removeClass("hidden"));0===$(this).parents(".journal-added").length?(console.log($(this).attr("id").replace("journal-","")),$(this).wrap("<div class='journal-added'></div>"),P.prop("checked","true"),console.log("journalCategoryID : "+R),H?(X='<input type="checkbox" id="toc-'+$(this).attr("id").replace("journal-","")+'" class="checkbox" checked="checked" value="true"  name="toc-'+R+'">',N&&(G="hide"),V='<select id="toc-asap-'+$(this).attr("id").replace("journal-","")+'" class="dropDownList '+G+'" name="toc-asap-iip-'+R+'"><option value="N" selected="">Never</option><option value="D">Daily</option><option value="W">Weekly</option><option value="M">Monthly</option></select>'):(X='<input type="checkbox" id="toc-'+$(this).attr("id").replace("journal-","")+'" class="checkbox hide"  value="false"  name="toc-'+R+'"  disabled>',G="",N&&(G="hide"),V='<select id="toc-asap-'+$(this).attr("id").replace("journal-","")+'" class="dropDownList '+G+'" name="toc-asap-iip-'+R+'">    <option value="N" '+("N"===W?"selected":"")+'>Never</option>    <option value="D" '+("D"===W?"selected":"")+'>Daily</option>    <option value="W" '+("W"===W?"selected":"")+'>Weekly</option>    <option value="M" '+("M"===W?"selected":"")+">Monthly</option></select>"),D='<tr id="added-journal-'+M+'"><td class="rowText journalTitle">'+$(this).text()+'</td><td class="rowText"><div class="settingInput"><span>Issue alerts:</span>'+X+'</div></td><td class="rowText"><div class="settingInput"><span>Article alerts:</span>'+V+"</div></td></tr>",(I=$("#journalsAlertsTable").find("tr.topical_alert:first")).length>0?I.before(D):$("#journalsAlertsTable > tbody").append(D)):(console.log("remove:"+$(this).attr("id").replace("journal-","")),$(this).unwrap(),$("#added-journal-"+M).remove(),P.removeAttr("checked")),$("#journalsAlertsTable > tbody").children().length>1?$("#nojournals:visible")&&$("#nojournals").hide():$("#nojournals:hidden")&&$("#nojournals").show(),b.closeAlertsDialog(m)},showHiddenPartsInPbEditMode:function showHiddenPartsInPbEditMode(){var m=$(".journalsModalWrap.all-journals"),y=m.find("#jmodal-az-layer"),b=m.find(".topical-alerts-container"),_=$(".journalsModalWrap .journalsModal");"pb-editor"===$("html").attr("id")&&0!==m.length&&(m.removeClass("hidden"),m.css("position","relative"),m.css("z-index","auto"),y.removeClass("hidden"),b.removeClass("hidden"),_.css("position","relative"),_.css("height","auto"))},initTocPbToolSelectAll:function initTocPbToolSelectAll(){var m,y=$(".publications-list").find("input[name='doi']:checkbox");$(".selectAll").length>0&&($(".selectAll").prop("checked",!1),$(".selectAll").on("click",(function(){y.prop("checked",$(this).is(":checked"))})),$(".publications-list").find("input[name='doi']:checkbox").on("change",(function(){(m=y.filter(":checked")).length<y.length?$(".selectAll").prop("checked",!1):m.length===y.length&&$(".selectAll").prop("checked",!0)})))},submitArticles:function submitArticles(m,y){var _=$(m).closest("form");b.submitMultiArticles(_,y,!1)},submitMultiArticles:function submitMultiArticles(m,y,_,C){var D,I=!1,M=$(m).find("input");for(D=0;D<M.length;D++)if("doi"===M[D].name&&"checkbox"===M[D].type&&M[D].checked){I=!0;break}if(!I){if(!_)return alert(C||"Please check at least one article."),!1;b.markAllCheckboxes(m,"doi",!0)}for(D=0;D<M.length;D++)"doi"===M[D].name&&"checkbox"!==M[D].type&&(M[D].name="xdoi");return null==m.attr("action")?m.action=y:m.attr("action",y),m.attr("method","post"),m.submit(),!0},markAllCheckboxes:function markAllCheckboxes(m,y,b){var _,C;for(m&&m.length>0&&m[0].tagName&&"FORM"===m[0].tagName&&(m=m[0]),_=$(m).find("input"),C=0;C<_.length;C++)"checkbox"===_[C].type&&0===_[C].name.indexOf(y)&&(_[C].checked=b)}},UX.manageAlerts=b},function(m,y){var b;b={init:function init(){b.initOnClickTagsHandlers(),b.initSaveOnClickHandler(),b.setExpandLinkOnClickEvent(),b.moveToFocusedElement(),b.highLightTopicalJournal(!1),b.addCloseClickHandler()},initOnClickTagsHandlers:function initOnClickTagsHandlers(){var m,y,_,C=$(".topical-alerts-container");if(0!==C.length)for(m=C.find(".tagLink"),y=0;y<m.length;y++)(_=$(m[y])).unbind("click"),_.on("click",b.clickTagHandler)},clickTagHandler:function clickTagHandler(m){var y,_,C,D,I=$(m.target).parent(),M=$(I),P=M.closest(".browse-taxonomies"),R=M.closest(".topical-alerts-container");M.length<=0||(_=(y=$(M.closest(".tag")[0])).attr("tagUri"),y.hasClass("selected")||(C=M.find("span").text(),D=M.closest(".tagGroup").attr("level"),P.append('<input class="conceptsIDs" type="hidden" value="'+_+'" tagLabel="'+C+'" level="'+D+'">'),b.selectCurrentTagAndDeselectParents(y,P),b.deselectTopicalChildren(y,P),b.reDrawSelectedTags(P),b.updateCounters(R)))},selectCurrentTagAndDeselectParents:function selectCurrentTagAndDeselectParents(m,y){var b,_,C,D=$(m),I=$(y),M=$(D.find(".tagName")[0]);for(D.addClass("selected"),M.addClass("selected"),b=D.parents(".tag.selected"),_=0;_<b.length;_++)(C=$(b[_])).removeClass("selected"),$(C.find(".tagName")[0]).removeClass("selected"),I.find(".conceptsIDs[value='"+C.attr("tagUri")+"']").remove()},deselectTopicalChildren:function deselectTopicalChildren(m,y){var b,_,C=$(m),D=$(y),I=C.find(".tag.selected");for(b=0;b<I.length;b++)(_=$(I[b])).removeClass("selected"),$(_.find(".tagName")[0]).removeClass("selected"),D.find(".conceptsIDs[value='"+_.attr("tagUri")+"']").remove()},reDrawSelectedTags:function reDrawSelectedTags(){var m,y,b,_=$(".topical-alerts-container"),C=_.find(".conceptsIDs[type='hidden']"),D=_.find(".selected-tags");D.empty(),$.each(C,(function(_,I){m=$(C[_]),y=m.val(),b=m.attr("tagLabel"),D.append('<div class="filter-wrapper" tagUri="'+y+'"><div class="topical-alert-filter"><span>'+b+'</span><div class="close" onclick="removeTopicalFilter(\''+y+"', true)\"></div></div>"),_!==C.length-1&&D.append('<div class="separator">, </div>'),D.append("</div>")})),0===C.length&&changeCounterLineToDefault()},changeCounterLineToDefault:function changeCounterLineToDefault(){var m=$(".topical-alerts-container"),y=m.find(".counter-line"),b=m.find(".all-articles-count"),_=0;0!==b.length&&(_=b.val()),y.html('Articles that match your criteria: <span class="bold-counter all-articles-counter">'+_+"</span>. Select a term to narrow your results.")},removeTopicalFilter:function removeTopicalFilter(m,y){var _=$(".topical-alerts-container"),C=_.find(".conceptsIDs[type='hidden'][value='"+m+"']"),D=_.find('.tag.selected[tagUri="'+m+'"]');""!==m&&void 0!==m&&(0!==C.length&&C.remove(),0!==D.length&&(D.removeClass("selected"),$(D.find(".tagName")[0]).removeClass("selected")),b.reDrawSelectedTags(_),!0===y&&b.updateCounters(_))},initSaveOnClickHandler:function initSaveOnClickHandler(){var m=$(".topical-alerts-container .save-btn");0!==m.length&&(m.unbind(),m.on("click",b.saveTopicalAlertsWidget))},saveTopicalAlertsWidget:function saveTopicalAlertsWidget(m){var y,_,C,D,I,M,P,R=$(".topical-alerts-container"),N=$("#journalsAlertsTable tbody"),U=R.find(".journalCode").val(),H=$("#journal-"+U).html(),B=R.find(".JourPubID").val(),z=$("#journalCodes").val(),q=R.find(".iip-default-frequency"),W=q.length>0?q.val():"N",X=R.find(".show-issue-alert-check-box"),V=R.find(".hide-article-alerts-frequency"),G="true"===X.val(),Y=R.find(".conceptsIDs[type='hidden']"),K="",Q=N.find("#added-journal-"+U),J="",Z="";if(""!==z)for(z=z.split(","),y=0;y<z.length;y++)z[y]===U&&(G=!1);if(0===Y.length){if(Q.length>0)return void alert("An alert with the same terms you selected already exists");J=G?'<input type="checkbox" id="toc-'+U+'" class="checkbox" checked="checked" value="true" name="toc-'+B+'">':'<input type="checkbox" id="toc-'+U+'" class="checkbox hide" value="false" name="toc-'+B+'" disabled>',Z="true"===V.val()?'<div class="settingInput hide"><select id="toc-asap-'+U+'" class="dropDownList" name="toc-asap-iip-'+B+'">    <option value="N" selected>Never</option>    <option value="D">Daily</option>    <option value="W">Weekly</option>    <option value="M">Monthly</option></select>':'<div class="settingInput"><select id="toc-asap-'+U+'" class="dropDownList" name="toc-asap-iip-'+B+'">    <option value="N" '+("N"===W?"selected":"")+'>Never</option>    <option value="D" '+("D"===W?"selected":"")+'>Daily</option>    <option value="W" '+("W"===W?"selected":"")+'>Weekly</option>    <option value="M" '+("M"===W?"selected":"")+">Monthly</option></select></div>",N.append('<tr id="added-journal-'+U+'"><td class="rowText journalTitle">'+H+'</td><td class="rowText"><div class="settingInput">'+J+'</div></td><td class="rowText">'+Z+"</td></tr>"),(_=$('.journalsModalWrap #jmodal-az-layer input[type="checkbox"][name="jcatID"][value="'+B+'"]')).length>0&&(_.prop("checked","true"),(M=_.closest("li").find("#journal-"+U)).length>0&&0===M.parents(".journal-added").length&&M.wrap("<div class='journal-added'></div>"))}else{if($.each(Y,(function(m,y){C=$(y),D=C.attr("taglabel"),I=C.attr("level"),K+='<div class="leveled-concept"><span class="level-icon" level="'+I+'"></span><span class="topical-tag">'+D+"</span></div>"})),P=b.generateTopicalAlertData(U,Y),b.generateTopicalAlertName(U,Y).length>234)return void alert("You have selected a too many terms, please select a less number of terms");if(b.alertAlreadyExists(N,P,U))return void alert("An alert with the same terms you selected already exists");N.append('<tr id="'+P+'" class="topical_alert topical-saved-search-alert" queryInfoName="'+P+'"><td class="rowText journalTitle" colspan="2">'+H+'<input type="hidden" name="newTopicalAlert" value="'+P+'" /><div>'+K+'</div></td><td class="rowText"><div class="settingInput"><select id="toc-asap-iip-'+U+'" name="frequency-'+P+'" class="dropDownList">    <option value="N" '+("N"===W?"selected":"")+'>Never</option>    <option value="D" '+("D"===W?"selected":"")+'>Daily</option>    <option value="W" '+("W"===W?"selected":"")+'>Weekly</option>    <option value="M" '+("M"===W?"selected":"")+">Monthly</option></select></div></td></tr>")}b.removeDefaultTabletRecord(),b.highLightTopicalJournal(!0),$("#jmodal-close_btn").trigger("click"),Y.remove(),b.deselectAllTags()},removeDefaultTabletRecord:function removeDefaultTabletRecord(){$("#journalsAlertsTable tbody").find("tr#nojournals").length>0&&$("#nojournals").hide()},generateTopicalAlertData:function generateTopicalAlertData(m,y){var _=$(y),C=new Map;return $.each(_,(function(m,y){var b=$(y),_=b.attr("level"),D=b.val();C.set(D,_)})),b.generateSaveSearchName(m,C)},generateTopicalAlertName:function generateTopicalAlertName(m,y){var b="",_=$(y);return b+="TA##"+m+"#",$.each(_,(function(m,y){var _=$(y).val();b+=_})),b},deselectAllTags:function deselectAllTags(){var m=$(".topical-alerts-container"),y=m.find(".browse-taxonomies-container .tag.selected, .browse-taxonomies-container .tagName.selected"),b=m.find(".selected-tags");$.each(y,(function(m,y){$(y).removeClass("selected")})),b.html("")},generateSaveSearchName:function generateSaveSearchName(m,y){var b="TA##"+m+"#";return y.forEach((function(m,y,_){b+=y+"@"+m+","})),y.size>0&&(b=b.substring(0,b.length-1)),b},calculateCounts:function calculateCounts(m){},setExpandLinkOnClickEvent:function setExpandLinkOnClickEvent(){var m=$(".topical-alerts-container .expandServiceUrl");0!==m.length&&$.each(m,(function(m,y){$(y).attr("value","/pb/widgets/topicalAlerts/getTagChildren/")}))},moveToFocusedElement:function moveToFocusedElement(){var m,y=$("#journalsAlertsTable .focused");0!==y.length&&(m=y[0],$("html, body").animate({scrollTop:$(m).offset().top-50},2e3))},highLightTopicalJournal:function highLightTopicalJournal(m){var y=$(".topical-alerts-container .journalCode").val(),b=$('tr.topical-saved-search-alert[queryinfoname^="TA##'+y+'"]'),_=$("#jmodal-az-layer a#journal-"+y),C=_.parent(".journal-added");(m||0!==b.length)&&0===C.length&&_.wrap("<div class='journal-added'></div>")},addCloseClickHandler:function addCloseClickHandler(){var m=$(".topical-alerts-container"),y=$("#jmodal-close_btn");0!==m.length&&0!==y.length&&y.on("click",(function(y){var _,C,D,I,M=m.find(".tag"),P=C.find(".nav-icon.collapsible"),R=C.find(".nav-icon.expandable");for(_=0;_<M.length;_++)(C=$(M[_])).hasClass("selected")&&(D=C.attr("taguri"),b.removeTopicalFilter(D,!1)),I=C.find(".tagGroup"),$.each(I,(function(m,y){$(y).remove()})),P.length>0&&P.addClass("hidden"),R.length>0&&R.removeClass("hidden");b.changeCounterLineToDefault()}))},updateCounters:function updateCounters(m){var y,_,C,D=$(m),I=$(".taxonomyCode").val(),M=D.find(".journalCode").val(),P=D.find(".loader-wrap"),R=D.find(".is-synchronous-counter-update"),N=!1;0!==D.length&&(y=D.find(".conceptsIDs"),_=new Array,0!==y.length&&($.each(y,(function(m,y){var b=$(y).val();_[m]=b})),C={ConceptID:_,taxonomyCode:I},P.empty(),P.append('<img class="loader" src="/templates/jsp/_style2/_achs/images/loading.gif">'),b.addCalculatingLabel(D),N=0!==R.length&&R.val(),setTimeout((function(){$.ajax({async:"false"===N,type:"POST",url:"/pb/widgets/topicalAlerts/getSelectedTagsCounts/"+M,data:C,success:function success(m){var y=$.parseJSON(m),b=y.numOfArticles,_=y.lastMonthNumOfArticles;D.find(".status-line .counter-line").html('Articles that match your criteria: <span class="bold-counter all-articles-counter">'+b+'</span>. Matches in the last month: <span class="bold-counter last-month-counter">'+_+"</span>"),P.find(".loader").remove()},error:function error(m){var y=D.find(".errors");y.empty(),y.append(m)}})}),120)))},addCalculatingLabel:function addCalculatingLabel(m){var y=m.find(".all-articles-counter"),b=m.find(".last-month-counter");0!==y.length&&(y.html("calculating"),y.addClass("on-load-counter")),0!==b.length&&(b.html("calculating"),b.addClass("on-load-counter"))},alertAlreadyExists:function alertAlreadyExists(m,y,_){var C=$(m).find('.topical-saved-search-alert[queryInfoName="'+y+'"]'),D=y.replace("TA##"+_+"#","").split(","),I=$(m).find(".topical-saved-search-alert"),M=!1;return C.length>0||(D=D.sort(),0!==I.length&&($.each(I,(function(m,y){var C=$(y).attr("queryinfoname").replace("TA##"+_+"#","").split(",");if(C=C.sort(),b.areEqualArrays(D,C))return M=!0,!1})),M))},areEqualArrays:function areEqualArrays(m,y){var b;if(m.length!==y.length)return!1;for(b=m.length;b--;)if(m[b]!==y[b])return!1;return!0}},UX.topicalAlerts=b},function(m,y){var b;b={init:function init(){b.initParentDiv(),b.loadTaxonomies(),b.initTopicalEAlertEventHandler()},initParentDiv:function initParentDiv(){var m=$(".browse-taxonomies-nodes"),y=$(".maxHeight");0!==m.length&&0!==y.length&&m.css("max-height",y.val()+"px")},loadTaxonomies:function loadTaxonomies(){var m,y,_,C,D=$(".browse-taxonomies");0!==D.length&&(D.children(".tagGroup").length>0||(0!==(m=D.find(".journalCode")).length&&""!==m.val()?0!==(y=D.find(".taxonomyCode")).length&&""!==y.val()?0!==(_=D.find(".useAjaxFixedCounts")).length&&""!==_.val()?0!==(C=D.find(".maxDepth")).length&&""!==C.val()?b.afterLoadAjaxRequest(m.val(),y.val(),_.val(),C.val()):b.showError('Error: can not find value for widget property: "Max Taxonomy Depth".'):b.showError('Error: can not find value for widget property: "Use Ajax to load filters (Fixed count)".'):b.showError("Error: Could not find taxonomy code."):b.showError("Error: Could not find journal code.")))},onCountClick:function onCountClick(m){var y,b,_=$(m).siblings(".nav-links");_.length<=0||(y=_.find(".collapsible"),b=_.find(".expandable"),y.length>0&&!y.hasClass("hidden")?y.trigger("click"):b.length>0&&!b.hasClass("hidden")&&b.trigger("click"))},afterLoadAjaxRequest:function afterLoadAjaxRequest(m,y,_,C){var D,I=$(".conceptsIDs"),M="/pb/widgets/browseTaxonomies/";if(M+="true"===_?"fixedCountsTree":"dynamicCountsTree",M+="/"+C+"/"+m+"/"+y,I.length>0)for(M+="?",D=0;D<I.length;D++)M+="concept="+$(I[D]).val(),D!==I.length-1&&(M+="&");M=b.includeDateParameters(M),$.ajax({method:"GET",url:M,error:function error(m){404===m.status?b.showError("Error: Ajax is requesting to invalid url."):b.showError("Error while loading taxonomies tree.")}}).done((function(m){var y,_,C,D="No articles exist with the selected filters combination",I=$(".browse-taxonomies"),M=I.children(".maxDepth");void 0!==m&&""!==m&&(y=$.parseJSON(m))&&y.children&&0!==$(y.children).length?0!==I.length&&(0!==M.length?(_=b.renderTagNode(y,0,M.val()),I.append(_),C=window.location.search.substring(1),b.highlightSelectedTags(C),b.registerTagsOnClickEvent(),b.closeUnselectedLevels(C),b.handleCollapseOrExpandLinkState(I,C),b.initDependentWidgets()):b.showError("Maximum depth widget property is not found.")):b.showError(D)}))},renderTagNode:function renderTagNode(m,y,_){var C="";return y<=_&&$(m.children).length>0&&(C+='<div class="tagGroup" level="'+y+'">',$(m.children).each((function(m,$){C+=b.renderNode($,y,_)})),C+="</div>"),C},renderNode:function renderNode(m,y,_){var C,D=m.tagName,I=m.tagUri,M=m.children,P=$(".useAjaxFixedCounts"),R=m.hasChildren&&($(M).length>0||"true"===P.val()),N=m.hashCode,U=m.level,H="";return H+='<div class="tag" tagUri="'+I+'" hashCode="'+N+'">',H+='<div class="tag-name-count">',H+='<div class="tagName" tagUri="'+I+'" hashCode="'+N+'">',H+='<span class="level-icon"></span>',H+='<a class="tagLink"><span>'+D+"</span></a>",H+="</div>",H+='<div class="articleCount '+((C=!0===R&&y+1<=_&&U+1<=_)?"clickable":"")+'" onclick="UX.browseTaxonomies.onCountClick(this)">',H+=m.articleCount,H+="</div>",C&&(H+='<div class="nav-links">',H+='<a class="nav-icon collapsible hidden" onclick="collapseTag.collapseTag(this)"></a>',H+='<a class="nav-icon expandable" onclick="UX.browseTaxonomies.expandTag(\''+I+"', "+N+", "+y+", "+_+', this)"></a>',H+="</div>"),H+="</div>",!0===R&&(y+=1,H+=b.renderTagNode(m,y,_)),H+="</div>"},showError:function showError(m){var y=$(".browse-taxonomies-error");0!==y.length&&(y.text(m),y.removeClass("hidden"))},expandTag:function expandTag(m,y,_,C,D){var I,M,P,R=$(D).closest(".tag"),N=R.find(".tagGroup");N.length>0?$(N[0]).removeClass("hidden"):0!==(M=(I=$(D).closest(".browse-taxonomies")).find(".useAjaxFixedCounts")).length&&"true"===M.val()&&b.populateDirectChildrenTagsUsingAjax(I,R,_,C),$(D).addClass("hidden"),P=$(D).siblings(".collapsible")[0],$(P).removeClass("hidden")},populateDirectChildrenTagsUsingAjax:function populateDirectChildrenTagsUsingAjax(m,y,_,C){var D,I,M=$(m),P=$(y),R=P.attr("hashCode"),N=P.attr("tagUri");0!==M.length&&(I=(D=M.find(".expandServiceUrl")).val()+R,D.val().indexOf("topicalAlerts")>=0&&(I=I+"/"+N+"/"+_),I=b.includeDateParameters(I),$.ajax({method:"GET",url:I,error:function error(m){b.showError("Error while getting children tags for tagUri ["+N+"]")}}).done((function(m){var y,D,I,M="Error while getting children tags for tagUri ["+N+"]";void 0!==m&&""!==m&&(y=$.parseJSON(m))&&y.children&&0!==$(y.children).length?(D=b.renderTagNode(y,_+1,C),P.append(D),I=window.location.search.substring(1),b.highlightSelectedTags(I),b.registerTagsOnClickEvent(),b.initDependentWidgets()):b.showError(M)})))},collapseTag:function collapseTag(m){var y=$(m),b=y.siblings(".expandable")[0],_=y.closest(".tag").children(".tagGroup");y.addClass("hidden"),$(b).removeClass("hidden"),_.length>0&&_.addClass("hidden")},registerTagsOnClickEvent:function registerTagsOnClickEvent(){var m,y,_,C,D=$(".browse-taxonomies");if(0!==D.length)for(m=D.find(".tagLink"),y=0;y<m.length;y++)_=$(m[y]),(C=$._data(_.get(0),"events"))&&C.click||_.on("click",b.registerTagOnClickEvent)},registerTagOnClickEvent:function registerTagOnClickEvent(m){var y,_,C,D,I,M=$(m.target).parent(),P=$(M);P.length<=0||(y=$(P[0]).closest(".tagName")).length<=0||(_=y.attr("tagUri"),C=b.getSearchServiceUrl(y),y.hasClass("selected")||(D=y.closest(".tag"),I=y.closest(".tagGroup").attr("level"),C=b.addParamToUrl(C,"ConceptID",_),C=b.addParamToUrl(C,_+"_level",I),C=b.deselectChildren(D,C),C=b.deselectParent(D,C),document.location.href=C))},getSearchServiceUrl:function getSearchServiceUrl(m){var y,b,_=$(m);if(0!==_.length&&0!==(y=_.closest(".browse-taxonomies")).length&&0!==(b=y.find(".searchUrl")).length)return b.val()},deselectChildren:function deselectChildren(m,y){var _,C=$(m);return 0===C.length||0===(_=C.find(".tagGroup .tag")).length||_.each((function(m,_){var C=$(_).attr("tagUri");y=b.removeValuedParamFromURL(y,"ConceptID",C)})),y},deselectParent:function deselectParent(m,y){var b,_,C,D,I,M=$(m);if(0===M.length)return y;if(0===(b=M.parents(".tagGroup .tag")).length)return y;for(_=0;_<b.length;_++)(C=$(b[_]).children(".tag-name-count")).length<=0||(D=C.find(".tagName.selected")).length<=0||(D.removeClass("selected"),I=D.attr("tagUri"),y=paramExistsInUrl.removeValuedParamFromURL(y,"ConceptID",I));return y},highlightSelectedTags:function highlightSelectedTags(m){var y,_,C,D,I=$(".browse-taxonomies");if(0!==I.length)for(y=(I=$(I[0])).find(".tagName"),_=0;_<y.length;_++)D=(C=$(y[_])).attr("tagUri"),b.paramExistsInUrl("ConceptID",D,m)&&C.addClass("selected")},closeUnselectedLevels:function closeUnselectedLevels(m){var y,b,_,C,D,I,M,P=$(".browse-taxonomies");if(0!==P.length&&0!==(y=P.find(".tagGroup")).length)for(b=0;b<y.length;b++)if(0!==(C=$(y[b])).length&&0!==C.attr("level")){for(D=C.find(".tag"),I=!0,_=0;_<D.length;_++)M=$(D[_]).attr("tagUri"),paramExistsInUrl.paramExistsInUrl("ConceptID",M,m)&&(I=!1);I&&C.addClass("hidden")}},handleCollapseOrExpandLinkState:function handleCollapseOrExpandLinkState(m,y){var _,C,D,I,M,P,R,N,U,H,B=$(m);if(0!==B.length)for(_=B.find(".tagGroup"),C=0;C<_.length;C++)if(0!==(I=$(_[C])).length){for(M=I.find(".tag"),P=!1,D=0;D<M.length;D++)if(R=$(M[D]).attr("tagUri"),b.paramExistsInUrl.paramExistsInUrl("ConceptID",R,y)){P=!0;break}0!==(N=I.closest(".tag")).length&&(U=$(N[0]).find(".collapsible"),H=$(N[0]).find(".expandable"),0!==U.length&&0!==H.length&&(U=$(U[0]),H=$(H[0]),P?(U.removeClass("hidden"),H.addClass("hidden")):(U.addClass("hidden"),H.removeClass("hidden"))))}},includeDateParameters:function includeDateParameters(m){var y=b.getParameterByName("BeforeYear"),_=b.getParameterByName("BeforeMonth"),$=b.getParameterByName("AfterYear"),C=b.getParameterByName("AfterMonth"),D=b.getParameterByName("firstMonth"),I=b.getParameterByName("lastMonth"),M=b.getParameterByName("firstYear"),P=b.getParameterByName("lastYear");return m=b.addParamToUrl(m,"BeforeYear",y),m=b.addParamToUrl(m,"BeforeMonth",_),m=b.addParamToUrl(m,"AfterYear",$),m=b.addParamToUrl(m,"AfterMonth",C),m=b.addParamToUrl(m,"firstMonth",D),m=b.addParamToUrl(m,"lastMonth",I),m=b.addParamToUrl(m,"firstYear",M),m=b.addParamToUrl(m,"lastYear",P)},initDependentWidgets:function initDependentWidgets(){0!==$(".topical-alerts-container").length&&UX.topicalAlerts.init()},initTopicalEAlertEventHandler:function initTopicalEAlertEventHandler(){var m=$(".browse-taxonomies-container"),y=$(".register-e-alerts");0!==y.length&&(0!==m.length?$.each(y,(function(m,y){$(y).on("click",(function(m){b.registerEAlertButtonClicked(m)}))})):y.remove())},registerEAlertButtonClicked:function registerEAlertButtonClicked(m){var y,_,C,D,I=$(".browse-taxonomies-container"),M=$(".journalCode"),P=$("#loginButton"),R=M.val(),N=b.getTopicalAlertName(R,I),U=encodeURIComponent(N),H=$(m.target),B=0===$(".browse-taxonomies-nodes .tagName.selected").length,z=$(".omega-filters .filter"),q=$(".register-e-alerts");if(0!==M.length&&""!==M.val())if(window.location.hash=window.location.hash+"#register-clicked",P.length>0)P.trigger("click");else{if(H.length>0&&H.hasClass("registered")){if(0===(I=H.closest(".e-alert-container")).length)return;if(0===(y=I.find(".e-alert-target-page")).length)return;return _="?",y.val().indexOf("?")>0&&(_="&"),B&&z.length>0&&(B=!1),void(B?(D=encodeURIComponent("iipAlertName-"+R),window.location=y.val()+_+"iipAlertName="+D):window.location=y.val()+_+"topicalAlertName="+U)}C="/pb/widgets/browseTaxonomies/registerTopicalAlert/",C+=R+"/"+U,0!==q.length&&b.registerEAlert(C,q)}},registerEAlert:function registerEAlert(m,y){var b,_,C,D;$.each($(y),(function(m,y){var b=$(y);b.removeClass("registered"),b.addClass("loading")})),$.ajax({method:"GET",url:m,error:function error(m){$(y).removeClass("loading"),alert("Failed to register e-Alert")},success:function success(m,I,M){if(b=$.parseJSON(m),_=b.login,C=b.error,D=!1,_?D=!0:void 0!==C&&""!==C&&null!==C&&(alert(C),D=!0),D)return $(y).removeClass("loading"),void $(y).removeClass("registered");$(y).removeClass("loading"),$(y).addClass("registered")}})},getTopicalAlertName:function getTopicalAlertName(m,y){var _,C=$(y).find(".browse-taxonomies-nodes .tagName.selected"),D=new Map,I=$(".omega-filters");return 0===C.length?I.length>0&&(_=$(I[0]).find(".filter"),$.each(_,(function(m,y){var b=$(y).attr("tagUri"),_=$(y).attr("tagLevel");D.set(b,_)}))):$.each(C,(function(m,y){var b=$(y),_=b.attr("taguri"),C=b.closest(".tagGroup").attr("level");D.set(_,C)})),b.generateSaveSearchName(m,D)},addParamToUrl:function addParamToUrl(m,y,b){var _,$;return void 0!==m&&void 0!==y&&void 0!==b&&""!==b?(_=y+"="+(b=encodeURIComponent(b)),m.indexOf(_)>-1?m:($=-1===m.indexOf("?")?"?":"&",m+$+_)):m},paramExistsInUrl:function paramExistsInUrl(m,y,b){var _,$,C;if(b.length>0)for(_=b.split("&"),$=0;$<_.length;$++)if((C=_[$].split("="))[0]===m&C[1]===encodeURIComponent(y))return!0;return!1},removeValuedParamFromURL:function removeValuedParamFromURL(m,y,b){var _,$,C,D=m.split("?");if(D.length>=2){for(_=encodeURIComponent(y)+"="+encodeURIComponent(b),C=($=D[1].split(/[&;]/g)).length;C-- >0;)$[C]===_&&$.splice(C,1);return m=D[0]+"?"+$.join("&")}return m},getParameterByName:function getParameterByName(m){var y;return m=m.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),y=new RegExp("[\\?&]"+m+"=([^&#]*)"),results=y.exec(location.search),null==results?"":decodeURIComponent(results[1].replace(/\+/g," "))}},UX.browseTaxonomies=b},function(m,y){var b;b={$body:$("body"),$achsMendeley:$(".achs-mendeley"),$achsMendeleyAlert:$(".achs-mendeley_alert"),$achsMendeleyAlertErrorMsg:$(".achs-mendeley_alert_error-msg"),$achsMendeleyClose:$(".achs-mendeley_close"),$achsMendeleyLoginButton:$(".achs-mendeley_login_button"),$achsMendeleyAlertClose:$(".achs-mendeley_alert_close"),$achsAcsSsoLoginButton:$(".achs-mendeley_acsLogin_button"),tokenEndpoint:$(".tokenEndpoint").val(),revokePairingEndPoint:$(".revoke-pairing").val(),appID:$(".appID").val(),$revokeButton:$(".mendeley-revoke-btn"),$reopenModalIfNeeded:$(".reopen-mendeley-modal-after-reload"),$continueButton:$(".achs-mendeley_continue-btn"),$token:$(".mendeley-token"),$reconnectDialogContainer:$(".pairing-expired-dialog-container"),$reconnectButton:$(".pairing-expired-dialog_reconnect"),infoVarName:"extraInfo",init:function init(){b.controls(),b.reopenModalIfNeeded(),b.addEventListeners()},addEventListeners:function addEventListeners(){b.$reconnectButton.on("click",b.reconnectOnClickHandler)},hideOverlay:function hideOverlay(m){m.target===m.currentTarget&&$(m.currentTarget).closest('[style="display: block;"]').hide()},controls:function controls(){b.$body.on("click",".achs-mendeley_cell, .achs-mendeley_alert_cell",(function(m){b.hideOverlay(m)})),b.$achsMendeleyClose.click((function(){b.hideMendeleyModal()})),b.$achsMendeleyLoginButton.click((function(){var m;b.$achsMendeley.hasClass("achs-mendeley_step1")?b.checkAccessToken((function(y){y?UX.achsAddToMendeley.shareAppropriateOption():(m={userName:UX.userLogin.getUserName(),isFirstPairing:!0},localStorage.setItem(b.infoVarName,JSON.stringify(m)),b.askForAccessToken())})):b.$achsMendeley.hasClass("achs-mendeley_step2")||(b.$achsMendeleyAlert.removeClass("achs-mendeley_alert_show-error-msg"),b.showMendeleyAlert())})),b.$achsMendeleyAlertClose.click((function(){b.hideMendeleyAlert()})),b.$achsAcsSsoLoginButton.click((function(){var m=$(this).closest(".achs-mendeley");0===m.length||m.hasClass("achs-mendeley_step1")||m.hasClass("achs-mendeley_step2")||(UX.userLogin.saveCurrentUrlCookieForMendeley(b.getCurrentUrlWithRedirectionParams()),window.location.href="/action/ssoRequestForLoginPage")})),b.$revokeButton.length>0&&b.checkAccessToken((function(m){m?b.enableRevokeButton():b.disableRevokeButton()})),b.$revokeButton.click((function(){ajaxOverlay($("body")),b.checkAccessToken((function(m){m?$.ajax({type:"GET",url:b.revokePairingEndPoint+"?appId="+b.appID,dataType:"text",xhrFields:{withCredentials:"true"},cache:!1,success:function success(m){var y;if(removeAjaxOverlay($("body")),void 0!==m&&""!==m){if((y=$.parseJSON(m)).proxyErrorId)return console.log(m),void b.showErrorMsg("Failed to revoke pairing with Mendeley");y.success&&(console.log("Successfully Revoked pairing with Mendeley!"),b.disableRevokeButton()),b.afterSuccessfulTokenRevoke()}else b.showErrorMsg("Failed to revoke pairing with Mendeley")},error:function error(m,y,_){var C="Failed to Revoke pairing with Mendeley for the current user.";removeAjaxOverlay($("body")),console.log(C+" status code: ("+y+"), err: ("+_+")"),b.showErrorMsg(C)}}):(removeAjaxOverlay($("body")),b.afterSuccessfulTokenRevoke())}))})),b.$continueButton.click((function(){localStorage.removeItem(b.infoVarName),b.hideMendeleyModal(),UX.achsAddToMendeley.shareAppropriateOption()}))},afterSuccessfulTokenRevoke:function afterSuccessfulTokenRevoke(){b.removeTokenFromUserSession(),localStorage.removeItem(b.infoVarName),window.location.href=$("a.AccountInfo").attr("href")},showMendeleyModal:function showMendeleyModal(){b.isSsoUserLoggedIn((function(m){m?b.checkAccessToken((function(m){m?b.changeMendeleyModalToState2():b.changeMendeleyModalToState1(),UX.achsAddToMendeley.hideProgress()})):(b.changeMendeleyModalToState0(),UX.achsAddToMendeley.hideProgress())})),freezePage(),b.$achsMendeley.css("display","block"),b.$achsMendeley.find(".achs-mendeley_close").focus()},hideMendeleyModal:function hideMendeleyModal(){unfreezePage(),b.$achsMendeley.css("display","none")},showMendeleyAlert:function showMendeleyAlert(){freezePage(),b.$achsMendeleyAlert.css("display","block")},hideMendeleyAlert:function hideMendeleyAlert(){"none"===b.$achsMendeley.css("display")&&unfreezePage(),b.$achsMendeleyAlert.css("display","none")},checkAccessToken:function checkAccessToken(m){$.ajax({type:"GET",url:b.tokenEndpoint+"?appId="+b.appID,dataType:"text",async:!1,xhrFields:{withCredentials:"true"},cache:!1,success:function success(y){var b,_="";void 0!==y&&""!==y&&(b=$.parseJSON(y))&&(b.accesstoken&&(_=b.accesstoken),m(_))},error:function error(y,b,_){m("")}})},askForAccessToken:function askForAccessToken(){ajaxOverlay($("body")),$.ajax({type:"GET",url:b.tokenEndpoint+"?appId="+b.appID,dataType:"text",async:!1,xhrFields:{withCredentials:"true"},cache:!1,success:function success(m){var y,_;if(removeAjaxOverlay($("body")),void 0!==m&&""!==m){if(y=$.parseJSON(m))return y.reason&&"REFRESH_TOKEN_EXPIRED"===y.reason?(UX.achsMendeley.showReconnectDialog(),void UX.achsAddToMendeley.hideProgress()):y.mendeleyUrl?(_=y.mendeleyUrl,b.addMendeleyCookie(),void(document.location.href=_)):y.accesstoken?(b.hideMendeleyAlert(),void UX.achsAddToMendeley.shareAppropriateOption()):void b.showErrorMsg("Failed to pair with Mendeley");b.showErrorMsg("Failed to pair to Mendeley")}else b.showErrorMsg("Failed to pair to Mendeley")},error:function error(m,y,_){removeAjaxOverlay($("body")),401===m.status?b.showErrorMsg("Failed to pair with Mendeley, Invalid credentials (Unauthorized)"):403===m.status?b.showErrorMsg("Failed to pair with Mendeley, Pair refused from endpoint (Forbidden)"):404===m.status?b.showErrorMsg("Failed to pair with Mendeley, Endpoint not found"):b.showErrorMsg("Failed to pair with Mendeley")}})},showErrorMsg:function showErrorMsg(m){b.$achsMendeleyAlertErrorMsg.html(m),b.$achsMendeleyAlert.addClass("achs-mendeley_alert_show-error-msg"),b.showMendeleyAlert(),UX.achsAddToMendeley.hideProgress()},addMendeleyCookie:function addMendeleyCookie(){$.cookie("Mendeley_UrlBeforeRedirection",b.getCurrentUrlWithRedirectionParams(),{path:"/"})},reopenModalIfNeeded:function reopenModalIfNeeded(){var m;"true"===b.$reopenModalIfNeeded.val()&&b.checkAccessToken((function(y){y?((m=localStorage.getItem(b.infoVarName))&&(m=JSON.parse(m)),m&&UX.userLogin.getUserName()===m.userName&&m.isFirstPairing?b.showMendeleyModal():UX.achsAddToMendeley.shareAppropriateOption()):b.showMendeleyModal()}))},getRedirectionParams:function getRedirectionParams(){return[{name:"openMendeleyModalAfterReload",value:"true"},{name:"selectedShareOption",value:UX.achsAddToMendeley.getSelectedShareOption()}]},getCurrentUrlWithRedirectionParams:function getCurrentUrlWithRedirectionParams(){var m,y=window.location.href,_=b.getRedirectionParams();for(y.indexOf("#")===y.length-1&&(y=y.slice(0,-1)),m=0;m<_.length;m++)y.indexOf("?")>=0?y+="&":y+="?",y+=_[m].name+"="+encodeURIComponent(_[m].value);return y},enableRevokeButton:function enableRevokeButton(){$(".mendeley-revoke-btn").removeAttr("disabled"),$(".pair-status-msg").html("Your ACS ID is currently paired with a Mendeley account")},disableRevokeButton:function disableRevokeButton(){$(".mendeley-revoke-btn").attr("disabled","disabled"),$(".pair-status-msg").html("Your ACS ID is not paired with a Mendeley account")},removeTokenFromUserSession:function removeTokenFromUserSession(){$.ajax({type:"GET",url:"/pb/widgets/achsMendeley/removeSessionToken",dataType:"text",async:!1,cache:!1,success:function success(m){void 0!==m&&""!==m?$.parseJSON(m).success&&console.log("Successfully removed Mendeley session token!"):console.log("Failed to remove Mendeley session token")},error:function error(m,y,b){removeAjaxOverlay($("body")),console.log("Failed to removed Mendeley session token. status code: ("+y+"), err: ("+b+")")}})},showReconnectDialog:function showReconnectDialog(){var m=b.$reconnectDialogContainer.html();b.showErrorMsg(m)},reconnectOnClickHandler:function reconnectOnClickHandler(){UX.achsMendeley.askForAccessToken()},isSsoUserLoggedIn:function isSsoUserLoggedIn(m){UX.userLogin.setSSOHeartBeatImage((function(){UX.userLogin.setLiteratumHeartBeatIframe(),UX.userLogin.checkIfSsoUserIsAlreadyLoggedIn(m)}))},changeMendeleyModalToState0:function changeMendeleyModalToState0(){UX.achsMendeley.$achsMendeley.removeClass("achs-mendeley_step1"),UX.achsMendeley.$achsMendeley.removeClass("achs-mendeley_step2")},changeMendeleyModalToState1:function changeMendeleyModalToState1(){UX.achsMendeley.$achsMendeley.addClass("achs-mendeley_step1"),UX.achsMendeley.$achsMendeley.removeClass("achs-mendeley_step2")},changeMendeleyModalToState2:function changeMendeleyModalToState2(){UX.achsMendeley.$achsMendeley.removeClass("achs-mendeley_step1"),UX.achsMendeley.$achsMendeley.addClass("achs-mendeley_step2")}},UX.achsMendeley=b},function(m,y){var b;b={$addToMendeleyDiv:$(".achs-addto-mendeley"),$disabledButtons:$(".achs-addto-mendeley_disabled-button"),$addFullDocButton:$(".add-full-document"),$addMetadataDescription:$(".add-metadata-description"),mendeleyAPIEndpoint:$(".mendeley-api-endpoint").val(),$metaData:$(".meta-data"),$addToMendeleyButton:$(".achs-addto-mendeley_button"),$pubAccess:$(".pub-access"),$doi:$(".achs-addto-mendeley .doi"),$iconLoader:$(".achs_loader"),$sharedSuccessfullyButton:$(".achs-addto-mendeley_viewin-button"),$mendeleyLibraryUrl:$(".library-url"),$selectedShareOption:$(".selected-share-option"),METADATA:"metadata",PDF_DOC:"pdfDoc",isMobile:$(window).width()<=UX.grid.screenSm,init:function init(){b.controls()},controls:function controls(){var m;b.$addToMendeleyButton.click((function(m){var y=b.$pubAccess.val();b.showProgress(),setTimeout((function(){"full"===y||"free"===y?b.$addFullDocButton.trigger("click"):b.$addMetadataDescription.trigger("click")}),0)})),b.$disabledButtons.click((function(m){m.preventDefault()})),b.$addMetadataDescription.click((function(){b.performBeforeShareValidationsThenCallShareLogic((function(){b.$selectedShareOption.val(b.METADATA),UX.achsMendeley.checkAccessToken((function(m){m?b.sendMetadataToMendeley(m):UX.achsMendeley.showMendeleyModal()}))}))})),"full"!==(m=b.$pubAccess.val())&&"free"!==m||(b.$addFullDocButton.removeClass("achs-addto-mendeley_disabled-button"),b.$addFullDocButton.addClass("achs-mendeley_button")),b.$addFullDocButton.click((function(){b.performBeforeShareValidationsThenCallShareLogic((function(){$(this).hasClass("achs-addto-mendeley_disabled-button")||(b.$selectedShareOption.val(b.PDF_DOC),UX.achsMendeley.checkAccessToken((function(m){m?b.sendFullPDFToMendeley(m):UX.achsMendeley.showMendeleyModal()})))}))})),b.$sharedSuccessfullyButton.click((function(){var m=b.$mendeleyLibraryUrl.val();window.open(m,"_blank")}))},sendMetadataToMendeley:function sendMetadataToMendeley(m){var y=b.$metaData.val();b.showProgress(),jQuery.ajax({url:b.mendeleyAPIEndpoint,type:"POST",data:y,beforeSend:function beforeSend(y){y.setRequestHeader("Authorization","BEARER "+m)},headers:{Accept:"application/vnd.mendeley-document.1+json","Content-Type":"application/vnd.mendeley-document.1+json"},success:function success(m){b.showSharedSuccessfullyButton(),console.log("Publication is added to Mendeley successfully")},error:function error(m,y,_){var $;if(b.hideProgress(),m){if(($=JSON.stringify(m))&&$.indexOf("TOKEN_EXPIRED")>=0)return void UX.achsMendeley.askForAccessToken();if($&&$.indexOf("REFRESH_TOKEN_EXPIRED")>=0)return void UX.achsMendeley.showReconnectDialog()}UX.achsMendeley.showErrorMsg("Failed to share publication to Mendeley")}})},sendFullPDFToMendeley:function sendFullPDFToMendeley(m){var y,_=b.$doi.val(),C=encodeURIComponent(_),D=encodeURIComponent(m);void 0!==_&&""!==_||UX.achsMendeley.showErrorMsg("No publication is specified"),b.showProgress(),jQuery.ajax({url:"/pb/widgets/addToMendeley/shareArticlePDF?doi="+C+"&accessToken="+D,type:"GET",success:function success(m){if(!m)return b.hideProgress(),void UX.achsMendeley.showErrorMsg("Failed to share PDF with Mendeley");if((y=$.parseJSON(m))&&y.result&&y.result.indexOf("TOKEN_EXPIRED")>=0)return UX.achsMendeley.askForAccessToken(),void b.hideProgress();if(y&&y.result&&y.result.indexOf("REFRESH_TOKEN_EXPIRED")>=0)return UX.achsMendeley.showReconnectDialog(),void b.hideProgress();if(y&&y.result&&y.result.indexOf("INVALID_TOKEN")>=0)UX.achsMendeley.askForAccessToken();else{if(y&&y.code&&"USER_SESSION_EXPIRED"===y.code)return UX.achsMendeley.showErrorMsg(y.error),void b.hideProgress();if(!y.success)return b.hideProgress(),void UX.achsMendeley.showErrorMsg("Failed to share PDF with Mendeley");b.showSharedSuccessfullyButton(),console.log("PDF Publication is added to Mendeley successfully!")}},error:function error(m,y,_){b.hideProgress(),UX.achsMendeley.showErrorMsg("Failed to share PDF to Mendeley")}})},showProgress:function showProgress(){b.isMobile&&scrollToSpecificElementWithClass("achs-addto-mendeley"),b.$addToMendeleyDiv.addClass("achs-addto-mendeley_loading-state")},hideProgress:function hideProgress(){b.$addToMendeleyDiv.removeClass("achs-addto-mendeley_loading-state"),b.$addToMendeleyDiv.removeClass("achs-addto-mendeley_viewin-state")},showSharedSuccessfullyButton:function showSharedSuccessfullyButton(){b.$addToMendeleyDiv.removeClass("achs-addto-mendeley_loading-state"),b.$addToMendeleyDiv.addClass("achs-addto-mendeley_viewin-state")},getSelectedShareOption:function getSelectedShareOption(){return b.$selectedShareOption.val()},shareAppropriateOption:function shareAppropriateOption(){b.$addToMendeleyButton.trigger("click")},performBeforeShareValidationsThenCallShareLogic:function performBeforeShareValidationsThenCallShareLogic(m){UX.achsMendeley.isSsoUserLoggedIn((function(y){if(!y)return b.hideProgress(),void UX.achsMendeley.showMendeleyModal();m()}))},isSsoUserLoggedInCallbackFunction:function isSsoUserLoggedInCallbackFunction(m){m||UX.achsMendeley.showErrorMsg("Sharing on Mendeley is allowed only for users logged in using SSO")}},UX.achsAddToMendeley=b},function(m,y){var b;b={$recommendationForm:$(".recommendationForm"),$recaptcha:null,init:function init(){b.controls()},controls:function controls(){b.$recaptcha=b.$recommendationForm.find(".recaptcha"),$.ajax({type:"GET",dataType:"html",url:"/pb/widgets/CaptchaResponseHandler/"}).done((function(m){b.$recaptcha.append(m)}))}},UX.recommendToLibrarian=b},function(m,y){var b;b={$body:$("body"),$level1:$(".topical-index_level1"),$level1_parentLink:$(".topical-index_level1 .topical-index_parent-link"),$level1_listItems:$(".topical-index_level1 .topical-index_column-cont-scroll > ul > li"),$level1_contDiv:$(".topical-index_level1 .topical-index_column-cont"),$level1_contScroll:$(".topical-index_level1 .topical-index_column-cont-scroll"),$level1_upBtn:$(".topical-index_level1 .topical-index_upBtn"),$level1_downBtn:$(".topical-index_level1 .topical-index_downBtn"),$level2:$(".topical-index_level2"),$level2_parentLink:$(".topical-index_level2 .topical-index_parent-link"),$level2_title:$(".topical-index_level2 h3"),$level2_title_legacy:$(".topical-index_level2 h6"),$level2_list:$(".topical-index_level2 ul"),$level2_contDiv:$(".topical-index_level2 .topical-index_column-cont"),$level2_seeAllLink:$(".topical-index_level2 .topical-index_seeAll-link"),$level2_contScroll:$(".topical-index_level2 .topical-index_column-cont-scroll"),$level2_upBtn:$(".topical-index_level2 .topical-index_upBtn"),$level2_downBtn:$(".topical-index_level2 .topical-index_downBtn"),$level2_backBtn:$(".topical-index_level2 .topical-index_backBtn"),$level3:$(".topical-index_level3"),$level3_title:$(".topical-index_level3 h3"),$level3_title_legacy:$(".topical-index_level3 h6"),$level3_list:$(".topical-index_level3 ul"),$level3_contDiv:$(".topical-index_level3 .topical-index_column-cont"),$level3_seeAllLink:$(".topical-index_level3 .topical-index_seeAll-link"),$level3_contScroll:$(".topical-index_level3 .topical-index_column-cont-scroll"),$level3_listItems:$(".topical-index_level3 .topical-index_column-cont-scroll > ul > li"),$level3_upBtn:$(".topical-index_level3 .topical-index_upBtn"),$level3_downBtn:$(".topical-index_level3 .topical-index_downBtn"),$level3_backBtn:$(".topical-index_level3 .topical-index_backBtn"),$vPort:"screen-md",$isMobileOrTablet:!1,init:function init(){b.control(),b.selectCurrentTag()},control:function control(){$(document).on(b.$vPort+"-on",(function(){b.$isMobileOrTablet=!0})),$(document).on(b.$vPort+"-off",(function(){b.$isMobileOrTablet=!1})),b.$level1_listItems.length>0&&b.$level1_contDiv.addClass("topical-index_column-cont_hasItems"),b.$level1_listItems.length<=5&&(b.$level1_upBtn.hide(),b.$level1_downBtn.hide()),b.$level2_list.children().length<=5&&(b.$level2_upBtn.hide(),b.$level2_downBtn.hide()),b.$level3_list.children().length<=5&&(b.$level3_upBtn.hide(),b.$level3_downBtn.hide()),b.$body.on("click",".topical-index_level1 .topical-index_parent-link",(function(m){m.preventDefault(),b.$level1_parentLink.removeClass("topical-index_selected").removeClass("topical-index_current").attr("aria-expanded",!1),$(this).addClass("topical-index_selected").attr("aria-expanded",!0),$(this).next("ul").children().length<=5?(b.$level2_upBtn.hide(),b.$level2_downBtn.hide()):(b.$level2_upBtn.show(),b.$level2_downBtn.show()),b.$level2_title.html($(this).find("span").html()),b.$level2_title_legacy&&b.$level2_title_legacy.html($(this).find("span").html()),b.$level2_list.html($(this).next("ul").html()),b.$level2_seeAllLink.attr("href",$(this).attr("href")),b.$level2_seeAllLink.attr("title","See All ("+$(this).find("span").html()+")"),b.$level2_seeAllLink.html("See All ("+$(this).data("count")+")"),b.$level2_contDiv.addClass("topical-index_column-cont_hasItems"),b.$level3_contDiv.removeClass("topical-index_column-cont_hasItems"),b.$level3_title.html(""),b.$level3_title_legacy.html(""),b.$level3_list.html(""),b.$level2_parentLink=$(".topical-index_level2 .topical-index_parent-link"),b.$isMobileOrTablet&&setTimeout((function(){b.$level1.hide(),b.$level2.show()}),300)})),b.$body.on("click",".topical-index_level2 .topical-index_parent-link",(function(m){m.preventDefault(),b.$level2_parentLink.removeClass("topical-index_selected").removeClass("topical-index_current").attr("aria-expanded",!1),$(this).addClass("topical-index_selected").attr("aria-expanded",!0),$(this).next("ul").children().length<=5?(b.$level3_upBtn.hide(),b.$level3_downBtn.hide()):(b.$level3_upBtn.show(),b.$level3_downBtn.show()),b.$level3_title.html($(this).find("span").html()),b.$level3_title_legacy&&b.$level3_title_legacy.html($(this).find("span").html()),b.$level3_list.html($(this).next("ul").html()),b.$level3_seeAllLink.attr("href",$(this).attr("href")),b.$level3_seeAllLink.attr("title","See All ("+$(this).find("span").html()+")"),b.$level3_seeAllLink.html("See All ("+$(this).data("count")+")"),b.$level3_contDiv.addClass("topical-index_column-cont_hasItems"),b.$isMobileOrTablet&&setTimeout((function(){b.$level2.hide(),b.$level3.show()}),300)})),b.$level1_upBtn.click((function(){b.$level1_contScroll.animate({scrollTop:b.$level1_contScroll.scrollTop()-b.$level1_contScroll.height()-2*b.$level1_upBtn.height()},1e3)})),b.$level1_downBtn.click((function(){b.$level1_contScroll.animate({scrollTop:b.$level1_contScroll.scrollTop()+b.$level1_contScroll.height()-2*b.$level1_upBtn.height()},1e3)})),b.$level2_upBtn.click((function(){b.$level2_contScroll.animate({scrollTop:b.$level2_contScroll.scrollTop()-b.$level2_contScroll.height()-2*b.$level1_upBtn.height()},1e3)})),b.$level2_downBtn.click((function(){b.$level2_contScroll.animate({scrollTop:b.$level2_contScroll.scrollTop()+b.$level2_contScroll.height()-2*b.$level1_upBtn.height()},1e3)})),b.$level3_upBtn.click((function(){b.$level3_contScroll.animate({scrollTop:b.$level3_contScroll.scrollTop()-b.$level3_contScroll.height()-2*b.$level1_upBtn.height()},1e3)})),b.$level3_downBtn.click((function(){b.$level3_contScroll.animate({scrollTop:b.$level3_contScroll.scrollTop()+b.$level3_contScroll.height()-2*b.$level1_upBtn.height()},1e3)})),b.$level2_backBtn.click((function(m){m.preventDefault(),b.$level2.hide(),b.$level1.show()})),b.$level3_backBtn.click((function(m){m.preventDefault(),b.$level3.hide(),b.$level2.show()})),b.$body.on("keyup",".topical-index_level1 .topical-index_parent-link",(function(m){13===m.keyCode&&(m.preventDefault(),$(".topical-index_level2 h3").attr("tabindex","0").focus())})),b.$body.on("keyup",".topical-index_level2 .topical-index_parent-link",(function(m){13===m.keyCode&&(m.preventDefault(),$(".topical-index_level3 h3").attr("tabindex","0").focus())}))},selectCurrentTag:function selectCurrentTag(){var m=getUrlParameter("ConceptID"),y=$("[data-conceptid='"+m+"']"),_="",C="",D=0;y.length>0&&(D=1,(_=$("[data-conceptid='"+y.data("pconceptid")+"']")).length>0&&(D=2,""!==_.data("pconceptid")&&(C=$("[data-conceptid='"+_.data("pconceptid")+"']")).length>0&&(D=3))),1===D?(y.addClass("topical-index_current"),y.hasClass("topical-index_parent-link")&&y.trigger("click")):2===D?(_.trigger("click"),(y=b.$level2.find("[data-conceptid='"+m+"']")).addClass("topical-index_current"),y.hasClass("topical-index_parent-link")&&y.trigger("click"),b.$level1_contScroll.scrollTop(b.$level1_contScroll.scrollTop()+_.position().top-b.$level1_contScroll.height()/2+_.height()/2),b.$level2_contScroll.scrollTop(b.$level2_contScroll.scrollTop()+y.position().top-b.$level2_contScroll.height()/2+y.height()/2),setTimeout((function(){b.$isMobileOrTablet&&(b.$level1.hide(),b.$level2.show(),b.$level3.hide())}),300)):3===D&&(C.trigger("click"),(_=b.$level2.find("[data-conceptid='"+y.data("pconceptid")+"']")).trigger("click"),(y=b.$level3.find("[data-conceptid='"+m+"']")).addClass("topical-index_current"),b.$level1_contScroll.scrollTop(b.$level1_contScroll.scrollTop()+C.position().top-b.$level1_contScroll.height()/2+C.height()/2),b.$level2_contScroll.scrollTop(b.$level2_contScroll.scrollTop()+_.position().top-b.$level2_contScroll.height()/2+_.height()/2),b.$level3_contScroll.scrollTop(b.$level3_contScroll.scrollTop()+y.position().top-b.$level3_contScroll.height()/2+y.height()/2),setTimeout((function(){b.$isMobileOrTablet&&(b.$level1.hide(),b.$level2.hide(),b.$level3.show())}),300))}},UX.topicalIndex=b},function(m,y){var b;b={$logInUserLink:$("#saveSearchDialog .modal__body a"),init:function init(){b.control()},control:function control(){b.$logInUserLink.length>0&&b.$logInUserLink.on("click",(function(){UX.userLogin.saveCurrentUrlCookie()}))}},UX.saveSearchLogInUser=b},function(m,y){$(document).ready((function(){var m=UX.reports.$form.find('[name="counterIds"]'),y=UX.reports.$form.find('[name="markall"]');m.change((function(){$(this).is(":checked")?m.length===UX.reports.$form.find('[name="counterIds"]:checked').length&&y.prop("checked",!0):y.prop("checked",!1)}))}))},function(m,y){var b;b={$containerDropzone:$(".articleHeaderDropzone8"),$ealertsButton:null,$ealertsIframe:$("iframe.ealerts-frame"),$externalAlertsEnabled:$(".external-alerts-management .is-enabled"),$hasAlerts:$(".has-alerts"),linkoutUrl:$(".linkout-url").val(),$acsId:$(".acs-id"),$ealertsToggleBtn:$(".ealerts-toggle-btn"),$pubCode:$(".pub-code"),$modal:$(".modal"),$isAuthenticated:$(".is-authenticated"),$articleCoverImageDropzone:$(".articleHeaderDropzone2"),$ealertsButtonMobileContainer:$(".e-alertsMobile_container"),$counter:0,$eAlertsButtonsArticleSelector:".article-grid .external-alerts-management .niHeader_getEAlerts",$eAlertsButtons:null,init:function init(){var m=$(window).width();$(".editorschoice").length>0&&(m>=UX.grid.screenSm?$(".ajcHeader_external-alert-dropzone.hidden-lg.hidden-md").remove():$(".ajcHeader_external-alert-dropzone.hidden-sm.hidden-xs").remove()),$(".niHeader_left .eAlerts-Mobile").length>0&&(m>=UX.grid.screenSm?$(".niHeader_left .eAlerts-Mobile").remove():$(".niHeader_right .external-alerts-management").remove()),0!==b.$externalAlertsEnabled.length&&"true"===b.$externalAlertsEnabled.val()&&b.control()},control:function control(){b.moveThisWidgetToMobileContainer(),b.setElements(),b.$ealertsButton.unbind("click"),b.assignEAlertsBtnHandler_ifUserHasAlerts(),b.bindWindowMessageEvent(),b.addEventListeners()},setElements:function setElements(){b.$eAlertsButtons=document.querySelectorAll(b.$eAlertsButtonsArticleSelector),b.$ealertsButton=$(".niHeader_getEAlerts")},assignEAlertsBtnHandler_ifUserHasAlerts:function assignEAlertsBtnHandler_ifUserHasAlerts(){b.$ealertsButton.unbind("click"),b.$ealertsButton.hasClass("disabled")||(b.$hasAlerts.length&&"true"===b.$hasAlerts.val()?b.bindLinkoutClickHandler():b.$ealertsButton.on("click",(function(){var m;$("#ealertsModalSrc").length&&(m=$("#ealertsModalSrc").val(),b.$ealertsIframe.attr("src",m)),b.$ealertsToggleBtn.trigger("click")})))},bindLinkoutClickHandler:function bindLinkoutClickHandler(){b.$ealertsButton.addClass("registered"),b.$ealertsButton.find(".ealerts-btn-text").text("Registered"),b.$ealertsButton.unbind("click"),b.$ealertsButton.on("click",(function(){var m=window.open(b.linkoutUrl,"_blank");m?m.focus():alert("Please allow popups for this website")})),b.changeDataId()},changeDataId:function changeDataId(){Array.from(b.$ealertsButton).forEach((function(m){m.getAttribute("data-id")&&m.setAttribute("data-id","article_drawer_eAlerts_Registered")}))},assignEAlertsBtnHandler_ifUserWithNoAcsId:function assignEAlertsBtnHandler_ifUserWithNoAcsId(){b.$isAuthenticated.length&&"true"===b.$isAuthenticated.val()&&(b.$acsId.length&&""!==b.$acsId.val()||b.disableEAlertsBtn())},bindWindowMessageEvent:function bindWindowMessageEvent(){b.bindEvent(window,"message",(function(m){var y;try{(y=JSON.parse(m.data))&&"success"===y.result&&b.success(y),y&&"error"===y.result&&b.error(y)}catch(m){}}))},bindEvent:function bindEvent(m,y,b){m.addEventListener?m.addEventListener(y,b,!1):m.attachEvent&&m.attachEvent("on"+y,b)},bindIframeOnloadEvent:function bindIframeOnloadEvent(){b.$ealertsIframe.on("load",(function(){var m="",y="";b.$acsId.length&&(m=b.$acsId.val()),b.$pubCode.length&&(y=b.$pubCode.val()),b.sendMessageToIFrame('{"ACSID": "'+m+'", "code": "'+y+'"}')}))},sendMessageToIFrame:function sendMessageToIFrame(m){b.$ealertsIframe[0].contentWindow.postMessage(m,"*")},disableEAlertsBtn:function disableEAlertsBtn(){b.$ealertsButton.unbind("click"),b.$ealertsButton.on("click",(function(m){m.preventDefault()})),b.$ealertsButton.addClass("disabled")},success:function success(m){console.log("e-alerts Success: \n"+m.message),b.$modal.trigger("click"),"Alert not registered."!==m.message&&b.bindLinkoutClickHandler()},error:function error(m){console.log("e-alerts error: \n"+m.message),b.$modal.trigger("click")},moveThisWidgetToCoverImage:function moveThisWidgetToCoverImage(){b.$articleCoverImageDropzone.length&&(b.$articleCoverImageDropzone.append(b.$containerDropzone.html()),b.addUniqueId(b.$articleCoverImageDropzone,"ealertsModalSrc"))},moveThisWidgetToMobileContainer:function moveThisWidgetToMobileContainer(){b.$ealertsButtonMobileContainer.prepend(b.$containerDropzone.html()),b.addUniqueId(b.$ealertsButtonMobileContainer,"ealertsModalSrc")},addUniqueId:function addUniqueId(m,y){b.$counter++,m.find("#".concat(y)).attr("id","".concat(y,"--").concat(b.$counter))},addEventListeners:function addEventListeners(){b.$eAlertsButtons.forEach((function(m){null==m||m.addEventListener("click",b.sendGoogleAnalyticsLog)}))},sendGoogleAnalyticsLog:function sendGoogleAnalyticsLog(m){var y,b,_,$=null!==(y=m.target)&&void 0!==y&&y.classList.contains("registered")?"Registered":"Get";null===(b=(_=window).gtag)||void 0===b||b.call(_,"event","Article Page Click",{event_category:"".concat($," e-Alert"),event_label:"ascecg"})},setButtonsHref:function setButtonsHref(){b.$eAlertsButtons.forEach((function(m){var y=m.href;y&&(y.href="#")}))}},UX.externalAlertsManagement=b},function(m,y){var b;b={$journalInfosJson:$("#partnerJournalInfo").val(),$journalCode:$("input[name='journalCodeForjhpLink']").val(),$journalPadgeContainers:$(".pj-badge"),init:function init(){0!==b.$journalPadgeContainers.length&&(b.updatePartnerJournalsLinks(),b.updateUI(),$(window).on("scroll",(function(){b.updateUI()})))},updatePartnerJournalsLinks:function updatePartnerJournalsLinks(){var m;b.$journalPadgeContainers&&b.$journalCode&&$.getJSON(b.$journalInfosJson,(function(y){var _=y.journalInfo.journal[b.$journalCode.toLowerCase()];_&&(m=_.partnerLink)&&b.$journalPadgeContainers.each((function(){$(this).html("<a href='"+m+"'>ACS Partner Journal</a>")}))}))},updateUI:function updateUI(){var m=$(".header_content_left .pj-badge a"),y=$(".header_content_left .header_article-logo");0!==m.length&&y.addClass("partner-journal-exists")}},UX.partnerJournal=b},function(m,y){var b;b={$findMyInstButton:$(".no-institution-link"),init:function init(){b.controller()},controller:function controller(){var m,y;b.$findMyInstButton.on("click",(function(){-1!==b.getPbContext().indexOf("List of Issues")&&(m=window.location.pathname,y="/action/ssostart?redirectUri="+encodeURIComponent(m),b.$findMyInstButton.attr("href",y),window.location=window.location.origin+y)}))},getPbContext:function getPbContext(){var m=$('[name="pbContext"]').attr("content");return m||""}},UX.InsinuationBanner=b},function(m,y){var b;b={$moreAccessOptionsLink:$(".more-access-btn"),$pubDoi:$(".pub-doi"),$accessDenialWidget:null,init:function init(){0!==b.$moreAccessOptionsLink.length&&($(".book-toc-infocus-header").length>0&&($(window).width()>=UX.grid.screenSm?$(".accessDenial-mobile").remove():$(".accessDenial-desktop").remove()),b.$accessDenialWidget=$(".accessDenialWidget"),b.scrollToHash(),b.control())},control:function control(){b.$moreAccessOptionsLink.on("click",(function(){var m;b.$accessDenialWidget.length>0?scrollToElement(b.$accessDenialWidget.offset().top,"accessDenialContent"):(m=b.$pubDoi.val(),window.location.href="/doi/epub/"+m+"#accessDenialContent")}))},scrollToHash:function scrollToHash(){$(document).ready((function(){setTimeout((function(){b.$accessDenialWidget.length>0&&scrollToElement(b.$accessDenialWidget.offset().top,"accessDenialContent")}),1300)}))}},UX.moreAccesOptionsBtn=b},function(m,y){function hideProcessing(){var m=$(".editors-choice-subscription .loader");0!==m.length&&(m.removeClass("processing"),m.hide())}function hideAllLinks(){$(".editors-choice-subscription .ec-subscribtion-link").removeClass("active")}function hideSubscriptionErrors(){var m=$(".editors-choice-subscription .error");m.html(""),m.hide(),hideProcessing()}function showProcessing(){var m=$(".editors-choice-subscription .loader");0!==m.length&&(m.addClass("processing"),m.show(),hideAllLinks())}function showSubscriptionError(m){var y=$(".editors-choice-subscription .error");y.html(m),y.show(),hideProcessing()}function showLinK(m){$(".editors-choice-subscription ."+m).addClass("active")}function initEditorsChoiceAlertSubscriptionWidget(){var m=$(".editors-choice-subscription");0!==m.length&&(-1===m.find(".user-id").val()&&m.find(".manage-alert-settings").addClass("active"),function initLinksOnClickEvents(){var m=$(".editors-choice-subscription .manage-alert-settings"),y=$(".editors-choice-subscription .subscribe-to-ec-alert"),b=$(".editors-choice-subscription .unsubscribe-from-alert"),_=$("#loginButton");m.off("click"),y.off("click"),b.off("click"),m.on("click",(function(){if(window.location.hash=window.location.hash+"#subscribe-to-ec-alert",_.length>0)return _.trigger("click"),!1})),y.on("click",(function(m){var y,b="Failed to subscribe to Editors' Choice E-alert.";showProcessing(),$.ajax({url:"/pb/widgets/editorsChoiceAlertsController/subscribe",method:"GET",error:function error(m){showSubscriptionError(b)},success:function success(m){return""===m?(showSubscriptionError(b),!1):"Error"===(y=jQuery.parseJSON(m)).status?(showSubscriptionError(y.errorMsg),!1):(hideAllLinks(),showLinK("you-are-subscribed"),hideSubscriptionErrors(),void hideProcessing())}}),m.preventDefault()})),b.on("click",(function(m){var y,b="Failed to unsubscribe from Editors' Choice E-alert.";showProcessing(),$.ajax({url:"/pb/widgets/editorsChoiceAlertsController/unsubscribe",method:"GET",error:function error(m){showSubscriptionError(b)},success:function success(m){return""===m?(showSubscriptionError(b),!1):"Error"===(y=jQuery.parseJSON(m)).status?(showSubscriptionError(y.errorMsg),!1):(hideAllLinks(),showLinK("you-have-unsubscribed"),hideSubscriptionErrors(),void hideProcessing())}}),m.preventDefault()}))}())}$(document).ready(initEditorsChoiceAlertSubscriptionWidget),window.PB&&window.PB.$&&window.PB.$(document.documentElement).on("ScopeModified ScopeLoaded WidgetReloaded",initEditorsChoiceAlertSubscriptionWidget)},function(m,y){var b;b={$infocusCoverImg:"",$othersCoverImg:"",$bookSeriesCode:"",$downloadBtn:"",$infocusCoverImgSrc:"",$othersCoverImgSrc:"",$imgPath:null,$getAccessBtn:"",$cancelBtn:"",$moreAccessOptionsLink:"",$infocusBookPage:"",$infocusBookTitle:"",init:function init(){b.$infocusCoverImg=$(".book-toc-infocus-header_cover img"),b.$othersCoverImg=$(".book-toc-header_cover img"),b.$bookSeriesCode=$("input[name='book_seriesCode']").val(),b.$downloadBtn=$(".download-btn-container button"),b.$infocusCoverImgSrc=b.$infocusCoverImg.attr("datasrc"),b.$othersCoverImgSrc=b.$othersCoverImg.attr("src"),b.$getAccessBtn=$(".get-access-btn"),b.$cancelBtn=$(".preview__options .btn-cancel"),b.$moreAccessOptionsLink=$(".more-access-btn"),b.$infocusBookPage=$(".infocus"),b.$infocusBookTitle=$("h1 .hlFld-Title").text(),b.$googlePlayBtn=document.querySelector(".google-play__link"),b.controller(),b.addEventListeners()},controller:function controller(){var m,y;b.hideDownloadButton(b.getBookSeriesCode()),b.$downloadBtn.click((function(_){return ajaxOverlay("body"),m=b.$imgPath,window.XMLHttpRequest?y=new XMLHttpRequest:window.ActiveXObject&&(y=new ActiveXObject("Microsoft.XMLHTTP")),y.open("GET",m,!0),y.send(null),y.onreadystatechange=function(){4===y.readyState&&(200===y.status?(removeAjaxOverlay("body"),setTimeout((function(){parent.window.location=m}),100)):(removeAjaxOverlay("body"),alert("Sorry, there is not a high-resolution version of this cover.")))},!1})),b.$getAccessBtn.length>0&&b.$getAccessBtn.click((function(){b.$cancelBtn.click(),b.$moreAccessOptionsLink.click()}))},addEventListeners:function addEventListeners(){var m;null===(m=b.$googlePlayBtn)||void 0===m||m.addEventListener("click",b.googleAnalyticsInit)},getBookSeriesCode:function getBookSeriesCode(){return b.$bookSeriesCode},hideDownloadButton:function hideDownloadButton(m){null!=m&&m.length>0?(b.$imgPath="infocus"===m?b.$infocusCoverImgSrc:b.$othersCoverImgSrc,null==b.$imgPath||!b.$imgPath.length>0?b.$downloadBtn.hide():"acsguide"!==m&&"styleguide"!==m&&"advances"!==m&&"infocus"!==m||b.$downloadBtn.hide()):b.$downloadBtn.hide()},googleAnalyticsInit:function googleAnalyticsInit(){if(b.$infocusBookPage.length){var m=b.$infocusBookTitle;gtag("event","Click",{event_category:"Google_Play_Infocus",event_label:m})}}},UX.bookHeader=b},function(m,y){var b,_;_=$("body"),b={selectors:{generatePairingCodeBtn:".generate-pairing-code",devicePairingRequestCode:".device-pairing-request_code"},generatePairingCodeBtn:null,init:function init(){b.generatePairingCodeBtn=document.querySelector(b.selectors.generatePairingCodeBtn),b.devicePairingRequestCode=document.querySelector(b.selectors.devicePairingRequestCode),b.controller()},controller:function controller(){_.on("click",b.selectors.generatePairingCodeBtn,b.pairingCodeRequest)},pairingCodeRequest:function pairingCodeRequest(){var m,y,C=b.generatePairingCodeBtn.dataset.action;$.ajax({url:C,method:"GET",success:function success($){if((m=JSON.parse($)).code)for(b.generatePairingCodeBtn.hidden=!0,y=0;y<m.code.length;y++)_.find(b.devicePairingRequestCode).append("<span>"+m.code.charAt(y)+"</span>");m.error&&(console.log(m.error),_.find(b.devicePairingRequestCode).append('<div class="error-msg">Something went wrong!  Please refresh the page to generate your pairing code.</div>'))}})}},UX.devicePairingRequest=b},function(m,y){var b;b={$pairingAffPopup:$(".pairing-affiliations-popup"),$pairLink:$(".pair-link"),$pairUrl:$(".pair-ajaxUrl").val(),$responsrMsg:$(".responsrMsg"),$pairAffContainer:$(".pairing-affiliations-container"),$paringAffCloseBtn:$(".paringAffClose"),$pairLoginLink:$(".login-link"),$showMenuAlertMsgPopup:$(".showMenuAlertMsg-popup"),$responseMsgMenu:$(".showMenuAlertMsg-popup .responsrMsg"),$menuMsgPopupCloseBtn:$(".showMenuAlertMsg-popup .paringAffClose"),$successMessageInput:document.querySelector(".success-message-text"),$errorMessageInput:document.querySelector(".error-message-text"),$limitMessageInput:document.querySelector(".limit-message-text"),$limitLinkTextInput:document.querySelector(".limit-link-text"),$limitLinkHrefInput:document.querySelector(".limit-link-href"),staticTexts:{successMessage:"Your account is paired successfully",errorMessage:"An error occurred while pairing. Please contact your administrator or try again later",limitLinkText:"visit the affiliations page",limitLinkHref:"",limitLinkClass:"login-responsrMsg__link",limitMessage:"Sorry, you were not able to pair. You already have the maximum number of pairings (3). To add or drop institutions, "},init:function init(){b.controls(),b.setStaticMessages()},controls:function controls(){$(window).on("load",(function(){b.paringAffPopupShow(),b.$pairAffContainer.length>0&&$.cookie("affPopupAlreadySeen",!0,{path:"/;SameSite=None",secure:!0}),$.cookie("performAffiliation")&&$.removeCookie("performAffiliation",{path:"/"})})),$(".pairing-affiliations-popup").length&&$(".pair-link").length&&document.querySelector(".pair-link").addEventListener("keydown",(function(m){13!==m.keycode&&13!==m.which||m.preventDefault()})),b.$pairLink.on("click",(function(){$.ajax({type:"GET",dataType:"json",url:b.$pairUrl,success:function success(m){m?(b.showAlertMsg(),b.displayAlertMessage(m),$.fn.burgerMenu.checkPairedUser()):b.paringAffPopupHide()},error:function error(m){console.log("pairing affiliation failed: ",JSON.stringify(m))}})})),b.$paringAffCloseBtn.click((function(){b.paringAffPopupHide()})),b.$menuMsgPopupCloseBtn.click((function(){b.menuAlertMsgPopupHide()})),$(".aff-notfication #turnOffNotification").change((function(){$.cookie("pairingAffPopupTurnedOff","true",{expires:365}),b.paringAffPopupHide()})),b.$pairLoginLink.click((function(){$.cookie("performAffiliation",!0,{path:"/"})}))},setStaticMessages:function setStaticMessages(){var m,y,_,$,C;b.staticTexts.successMessage=(null===(m=b.$successMessageInput)||void 0===m?void 0:m.value)||b.staticTexts.successMessage,b.staticTexts.errorMessage=(null===(y=b.$errorMessageInput)||void 0===y?void 0:y.value)||b.staticTexts.errorMessage,b.staticTexts.limitMessage=(null===(_=b.$limitMessageInput)||void 0===_?void 0:_.value)||b.staticTexts.limitMessage,b.staticTexts.limitLinkText=(null===($=b.$limitLinkTextInput)||void 0===$?void 0:$.value)||b.staticTexts.limitLinkText,b.staticTexts.limitLinkHref=(null===(C=b.$limitLinkHrefInput)||void 0===C?void 0:C.value)||b.staticTexts.limitLinkHref},paringAffPopupShow:function paringAffPopupShow(){b.$pairingAffPopup.css({display:"block"})},paringAffPopupHide:function paringAffPopupHide(){b.$pairingAffPopup.css({display:"none"})},showAlertMsg:function showAlertMsg(){b.paringAffPopupShow(),b.$pairAffContainer.remove(),b.$responsrMsg.css({display:"block"})},showMenuAlertMsg:function showMenuAlertMsg(){b.$showMenuAlertMsgPopup.insertBefore($(".header_content")),b.$showMenuAlertMsgPopup.css({display:"block"}),b.$responseMsgMenu.css({display:"block"}),b.paringAffPopupHide()},displayAlertMessage:function displayAlertMessage(m){if(0!==Object.keys(m).length){var y=$("<a></a>").attr("href",b.staticTexts.limitLinkHref).addClass(b.staticTexts.limitLinkClass).text(b.staticTexts.limitLinkText);m.success?b.$responsrMsg.append(b.staticTexts.successMessage):m.reachLimit?b.$responsrMsg.append(b.staticTexts.limitMessage).append(y):b.$responsrMsg.append(b.staticTexts.errorMessage)}},menuAlertMsgPopupHide:function menuAlertMsgPopupHide(){b.$showMenuAlertMsgPopup.css({display:"none"})}},UX.pairingAff=b},function(m,y){var b;b={$target:null,$section:$(".section"),$removeBtn:$(".remove_button"),$statusMsg:$(".statusMsg"),selectors:{remoteInstitutionalAccess:".remote_institutional_access",removeBtn:".remove_button",section:".section"},init:function init(){b.$target=$(".ajaxCall"),this.widget=document.querySelector(this.selectors.remoteInstitutionalAccess),this.RemoveURL="/action/deleteInstitutionalAffiliation",b.control()},control:function control(){b.$target.on("click",(function(m){m.preventDefault(),b.update(m.target)})),this.removeButtons=this.widget.querySelectorAll(this.selectors.removeBtn),$(this.removeButtons).on("click",b.onRemoveButtonClick.bind(this))},update:function update(m){$(m).attr("disabled","disabled"),$.ajax({method:"GET",url:$(m).data("url"),success:function success(y){var _=JSON.parse(y);_.message&&b.displaySuccessMessage(m,_),$(m).removeAttr("disabled")},error:function error(){b.displayErrorMessage(m),$(m).removeAttr("disabled")}})},displaySuccessMessage:function displaySuccessMessage(m,y){$(m).parent(".renew_part").find(".renew_verification_message").html(y.message)},displayErrorMessage:function displayErrorMessage(m){},onRemoveButtonClick:function onRemoveButtonClick(m){var y=m.currentTarget,_=y.dataset.uuid,C=y.dataset.type,D=y.closest(this.selectors.section);$.ajax({url:this.RemoveURL,type:"POST",data:{institutionUuid:_,affiliationType:C},success:function success(m){m&&(b.$statusMsg.css({display:"block"}),b.$statusMsg.addClass("success-msg"),b.$statusMsg.text(m.message),D.remove()),location.reload()},error:function error(m,y,_){b.$statusMsg.css({display:"block"}),b.$statusMsg.addClass("error-msg"),b.$statusMsg.text("Institutional Affiliation has not been Deleted")}})}},UX.institutionAffiliations=b},function(m,y){var b;b={elements:{yearSelect:document.querySelector(".find-abook_year .years-select")},init:function init(){this.addEventListeners()},addEventListeners:function addEventListeners(){var m;null===(m=this.elements.yearSelect)||void 0===m||m.addEventListener("change",this.handleSelectInputChange.bind(this))},handleSelectInputChange:function handleSelectInputChange(m){var y;null===(y=m.currentTarget.form)||void 0===y||y.submit()}},UX.findBook=b},function(m,y){$.fn.myActivity=function(){return $(this).each((function(){var m=$("body"),y=$(this),b=$(this).find("> a"),_="header_my-activity_opened",C=$(this).find(".header_my-activity-single .icon-close");b.click((function(){y.toggleClass(_)})),m.click((function(m){y.hasClass(_)&&($(m.target).is(y)||$(m.target).parents("."+_).length||y.removeClass(_))})),$(document).keyup((function(m){27===m.keyCode&&y.removeClass(_)})),C.click((function(){y.removeClass(_)}))}))},$.fn.myActivityMobile=function(){var m=$(".activity-container .recentlyViewed"),y=$(".activity-container-tablet"),b=$(".recentlyViewed--open"),_=m.find(".activity_back"),C=$(".openTabletActivity"),D=$(".header_my-activity-single .show-recently");D.clone().appendTo(m),D.clone().appendTo(y),b.keydown((function(m){13!==m.keyCode&&13!==m.which||b.click()})),_.keydown((function(m){13!==m.keyCode&&13!==m.which||_.click()})),b.on("click",(function(){m.animate({right:"0%"},500),m.addClass("opened"),_.focus()})),_.on("click",(function(){m.animate({right:"-100%"},500),m.removeClass("opened"),C.focus()})),C.on("click",(function(){y.toggleClass("opened")})),y.find(".icon-close").on("click",(function(){y.removeClass("opened")})),$(document).on("click",(function(m){$(m.target).closest(".activity-container-tablet").length||$(m.target).closest(".openTabletActivity").length||y.hasClass("opened")&&y.removeClass("opened")}))},$.fn.burgerMenu=function(){return $(this).each((function(){var m=$(this),y=$(".pub-modal:not(.pub-modal_layout-not-fixed)"),b=$(this).children("a"),_=$("body"),C=$(this).find(".header_burger-menu_content > ul > li"),D=C.children("a"),I=C.find("ul"),M="header_burger-menu_opened",P="header_burger-menu_item_opened",R=$(".user-login-bar_is-loggedin"),N=$(".header_burger-menu_my-profile-link"),U=$(".header_burger-menu_login-link"),H=$(".header_burger-menu_logout-link"),B=!1,z=$(".recentlyViewed"),q=$(".header_burger-menu_content .menu-pair-section"),W=$(".header_burger-menu_pairadevice-link"),X=$(".header_burger-menu_pairadevice-link"),V=$(".header_burger-menu"),G=$(".user-login-bar__Logout");$(document).on("screen-sm-on",(function(){B=!0})),$(document).on("screen-sm-off",(function(){B=!1,I.show()})),b.click((function(_){_.preventDefault(),m.toggleClass(M),m.hasClass(M)?b.attr("aria-label","close menu"):b.attr("aria-label","open menu"),$.fn.burgerMenu.checkPairedUser(),B&&(y.hide(),z.hasClass("opened")&&(z.animate({right:"-100%"},0),z.removeClass("opened")),m.hasClass(M)?freezePage():unfreezePage(),C.each((function(){var m=$(this).children("ul");if($(this).hasClass(P))return $(this).removeClass(P),void m.slideUp(500)})))})),$.fn.burgerMenu.checkPairedUser=function(){$.ajax({type:"GET",dataType:"json",url:" /pb/widgets/pairSectionInformation",success:function success(m){m&&!0===m.display?m.pairLink?(X.attr("href",m.pairLink),X.addClass("pairDevice-url"),X.removeClass("login-url")):m.loginLink?(X.attr("href",m.loginLink),X.addClass("login-url")):m.profileLink&&(X.attr("href",m.profileLink),X.removeClass("pairDevice-url"),X.removeClass("login-url"),X.addClass("accountAff-url"),X.text("My Account Affiliations")):(null==q||q.css({display:"none"}),null==W||W.css({display:"none"}))}})},X.on("click",(function(m){$(this).hasClass("login-url")&&$.cookie("performAffiliation",!0,{path:"/"}),$(this).hasClass("pairDevice-url")&&(m.preventDefault(),$.ajax({type:"GET",dataType:"json",url:"/pb/widgets/affiliateDevice",success:function success(m){m&&(V.removeClass(M),UX.pairingAff.showMenuAlertMsg(),UX.pairingAff.displayAlertMessage(m),X.attr("href","/action/showPreferences?menuTab=institutionalAffiliations"),X.text("My Account Affiliations"),X.removeClass("pairDevice-url"),X.removeClass("login-url"),X.addClass("accountAff-url"))},error:function error(m){console.log("pairing affiliation failed: ",JSON.stringify(m))},complete:function complete(m){unfreezePage()}}))})),D.click((function(m){var y=$(this).parent(),b=y.children("ul");"#"===$(this).attr("href")&&m.preventDefault(),B&&(b.length>0?y.hasClass(P)?(y.removeClass(P),y.children("ul").slideUp(500)):(I.slideUp(500),C.removeClass(P),y.addClass(P),b.slideToggle(500)):(I.slideUp(500),C.removeClass(P)))})),_.click((function(b){m.hasClass(M)&&($(b.target).is(m)||$(b.target).parents("."+M).length||$(b.target).is(y)||$(b.target).parents(".pub-modal").length||$(b.target).parent(".activity-container")||(m.removeClass(M),y.hide()))})),R.length&&("true"===R.val()?(N.length&&N.css("display","block"),H.length&&(G.length&&H.attr("href",G.attr("href")),H.css("display","block"))):(U.length&&U.css("display","block"),H.length&&H.css("display","none"))),U.click((function(){UX.userLogin.saveCurrentUrlCookie()}))}))}},function(m,y){$(window).on("load",(function(){var m=document.querySelector(".journal-home_section .top-content .slideShow");UX.achsUtils.mutationObserverSubscription((function mutationCallback(){$(".journal-home_section .teaser_title").truncate({lines:4,addClass:"min-height"}),$(".journal-home_section .teaser .loa, .journal-home_section .teaser .issue-item_loa").truncate({lines:1,type:"list",addClass:"loa-height"})}),m,{childList:!0}),setTimeout((function(){$(".journal-home_section ul .ellipsis").each((function(){$(this).replaceWith("<span class='ellipsis'>"+$(this).html()+"</span>")}))}),1e3)})),$(window).on("resize orientationchange",(function(){$(".journal-home_section .teaser_title, .journal-home_section .teaser .loa, .journal-home_section .teaser .issue-item_loa").truncate(),setTimeout((function(){$(".journal-home_section ul .ellipsis").each((function(){$(this).replaceWith("<span class='ellipsis'>"+$(this).html()+"</span>")}))}),1e3)}))},function(m,y){var b;b={$pageHeader:$("header.header"),$accessTypeParam:"",$booksSeriesTab:$(".books-series_tab"),$tabNavItems:$(".books-series_tab .tab__nav li"),init:function init(){b.controller()},controller:function controller(){b.$tabNavItems.click((function(){ajaxOverlay($("body")),b.$booksSeriesTab.hide(),setTimeout((function(){var m=$(".books-series_tab .tab__content .active form");m.length?m.trigger("submit"):(removeAjaxOverlay($("body")),b.$booksSeriesTab.show())}),1e3)})),b.$accessTypeParam=getUrlParameter("tabActivePane"),""!==b.$accessTypeParam&&b.$booksSeriesTab.length>0&&$([document.documentElement,document.body]).animate({scrollTop:b.$booksSeriesTab.offset().top-b.$pageHeader.height()},1e3)}},UX.booksSeries=b},function(m,y){!function(){if("function"==typeof window.CustomEvent)return!1;function CustomEvent(m,y){y=y||{bubbles:!1,cancelable:!1,detail:void 0};var b=document.createEvent("CustomEvent");return b.initCustomEvent(m,y.bubbles,y.cancelable,y.detail),b}CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent}()},function(m,y){var b;b={listenersClickCallback:[],listenersEscCallback:[],listenersOptions:{capture:!0},getParameterByName:function getParameterByName(m,y){var b;return m=m.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),null==(b=new RegExp("[\\?&]"+m+"=([^&#]*)").exec(y))?"":decodeURIComponent(b[1].replace(/\+/g," "))},mutationObserverSubscription:function mutationObserverSubscription(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,y=arguments.length>1?arguments[1]:void 0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{attributes:!0},_=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(y){var $=function callback(y,b){m&&m(),_&&b.disconnect()},C=new MutationObserver($);C.observe(y,b)}},addCloseTooltipsListener:function addCloseTooltipsListener(m,y){var _=function callbackFunction(b){UX.achsUtils.handleOutsideClicks(b,m,y)};b.listenersClickCallback.push(_),b.listenersEscCallback.push(_),document.body.addEventListener("click",_,b.listenersOptions),document.body.addEventListener("keydown",_,b.listenersOptions)},removeCloseTooltipsListener:function removeCloseTooltipsListener(){b.listenersClickCallback.forEach((function(m,y){document.body.removeEventListener("click",m,b.listenersOptions),document.body.removeEventListener("keydown",b.listenersEscCallback[y],b.listenersOptions)})),b.listenersClickCallback=[],b.listenersEscCallback=[]},handleOutsideClicks:function handleOutsideClicks(m,y,_){var $=null==y?void 0:y.contains(m.target),C="Escape"===m.key;$&&!C||(_(),b.removeCloseTooltipsListener())}},UX.achsUtils=b},function(m,y,b){var _=b(3),$=b(5),C=b(7),D=b(38),I=_.Object,M=$("".split);m.exports=C((function(){return!I("z").propertyIsEnumerable(0)}))?function(m){return"String"==D(m)?M(m,""):I(m)}:I},function(m,y,b){var _=b(6),$=b(28),C=b(18),D=_("unscopables"),I=Array.prototype;null==I[D]&&C.f(I,D,{configurable:!0,value:$(null)}),m.exports=function(m){I[D][m]=!0}},function(m,y,b){var _=b(13),$=b(18),C=b(9),D=b(21),I=b(228);m.exports=_?Object.defineProperties:function defineProperties(m,y){C(m);for(var b,_=D(y),M=I(y),P=M.length,R=0;P>R;)$.f(m,b=M[R++],_[b]);return m}},function(m,y,b){var _=b(3),$=b(10),C=b(12),D=b(73),I=b(42),M=b(227),P=b(6),R=_.TypeError,N=P("toPrimitive");m.exports=function(m,y){if(!C(m)||D(m))return m;var b,_=I(m,N);if(_){if(void 0===y&&(y="default"),b=$(_,m,y),!C(b)||D(b))return b;throw R("Can't convert object to primitive value")}return void 0===y&&(y="number"),M(m,y)}},function(m,y,b){var _=b(3),$=b(10),C=b(4),D=b(12),I=_.TypeError;m.exports=function(m,y){var b,_;if("string"===y&&C(b=m.toString)&&!D(_=$(b,m)))return _;if(C(b=m.valueOf)&&!D(_=$(b,m)))return _;if("string"!==y&&C(b=m.toString)&&!D(_=$(b,m)))return _;throw I("Can't convert object to primitive value")}},function(m,y,b){var _=b(74),$=b(45);m.exports=Object.keys||function keys(m){return _(m,$)}},function(m,y,b){var _=b(21),$=b(230),C=b(75),createMethod=function(m){return function(y,b,D){var I,M=_(y),P=C(M),R=$(D,P);if(m&&b!=b){for(;P>R;)if((I=M[R++])!=I)return!0}else for(;P>R;R++)if((m||R in M)&&M[R]===b)return m||R||0;return!m&&-1}};m.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},function(m,y,b){var _=b(43),$=Math.max,C=Math.min;m.exports=function(m,y){var b=_(m);return b<0?$(b+y,0):C(b,y)}},function(m,y,b){var _=b(43),$=Math.min;m.exports=function(m){return m>0?$(_(m),9007199254740991):0}},function(m,y,b){var _=b(3),$=b(4),C=b(33),D=_.WeakMap;m.exports=$(D)&&/native code/.test(C(D))},function(m,y,b){"use strict";var _={}.propertyIsEnumerable,$=Object.getOwnPropertyDescriptor,C=$&&!_.call({1:2},1);y.f=C?function propertyIsEnumerable(m){var y=$(this,m);return!!y&&y.enumerable}:_},function(m,y,b){var _=b(11),$=b(5),C=b(235),D=b(236),I=b(9),M=$([].concat);m.exports=_("Reflect","ownKeys")||function ownKeys(m){var y=C.f(I(m)),b=D.f;return b?M(y,b(m)):y}},function(m,y,b){var _=b(74),$=b(45).concat("length","prototype");y.f=Object.getOwnPropertyNames||function getOwnPropertyNames(m){return _(m,$)}},function(m,y){y.f=Object.getOwnPropertySymbols},function(m,y,b){"use strict";var _=b(81).IteratorPrototype,$=b(28),C=b(24),D=b(49),I=b(23),returnThis=function(){return this};m.exports=function(m,y,b){var M=y+" Iterator";return m.prototype=$(_,{next:C(1,b)}),D(m,M,!1,!0),I[M]=returnThis,m}},function(m,y,b){var _=b(7);m.exports=!_((function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype}))},function(m,y,b){var _=b(3),$=b(4),C=_.String,D=_.TypeError;m.exports=function(m){if("object"==typeof m||$(m))return m;throw D("Can't set "+C(m)+" as a prototype")}},function(m,y,b){var _=b(51),$=b(17),C=b(241);_||$(Object.prototype,"toString",C,{unsafe:!0})},function(m,y,b){"use strict";var _=b(51),$=b(34);m.exports=_?{}.toString:function toString(){return"[object "+$(this)+"]"}},function(m,y,b){"use strict";var _,$,C,D,I=b(16),M=b(22),P=b(3),R=b(11),N=b(10),U=b(82),H=b(17),B=b(243),z=b(50),q=b(49),W=b(244),X=b(14),V=b(4),G=b(12),Y=b(245),K=b(33),Q=b(35),J=b(249),Z=b(84),ee=b(85).set,te=b(253),ie=b(88),oe=b(256),re=b(25),ae=b(36),le=b(32),ce=b(80),de=b(6),ue=b(257),he=b(53),pe=b(69),fe=de("species"),ge=le.get,me=le.set,ve=le.getterFor("Promise"),ye=U&&U.prototype,be=U,_e=ye,we=P.TypeError,$e=P.document,Ce=P.process,ke=re.f,xe=ke,Se=!!($e&&$e.createEvent&&P.dispatchEvent),Te=V(P.PromiseRejectionEvent),Ee=!1,Ae=ce("Promise",(function(){var m=K(be),y=m!==String(be);if(!y&&66===pe)return!0;if(M&&!_e.finally)return!0;if(pe>=51&&/native code/.test(m))return!1;var b=new be((function(m){m(1)})),FakePromise=function(m){m((function(){}),(function(){}))};return(b.constructor={})[fe]=FakePromise,!(Ee=b.then((function(){}))instanceof FakePromise)||!y&&ue&&!Te})),De=Ae||!J((function(m){be.all(m).catch((function(){}))})),isThenable=function(m){var y;return!(!G(m)||!V(y=m.then))&&y},notify=function(m,y){if(!m.notified){m.notified=!0;var b=m.reactions;te((function(){for(var _=m.value,$=1==m.state,C=0;b.length>C;){var D,I,M,P=b[C++],R=$?P.ok:P.fail,U=P.resolve,H=P.reject,B=P.domain;try{R?($||(2===m.rejection&&onHandleUnhandled(m),m.rejection=1),!0===R?D=_:(B&&B.enter(),D=R(_),B&&(B.exit(),M=!0)),D===P.promise?H(we("Promise-chain cycle")):(I=isThenable(D))?N(I,D,U,H):U(D)):H(_)}catch(m){B&&!M&&B.exit(),H(m)}}m.reactions=[],m.notified=!1,y&&!m.rejection&&onUnhandled(m)}))}},dispatchEvent=function(m,y,b){var _,$;Se?((_=$e.createEvent("Event")).promise=y,_.reason=b,_.initEvent(m,!1,!0),P.dispatchEvent(_)):_={promise:y,reason:b},!Te&&($=P["on"+m])?$(_):"unhandledrejection"===m&&oe("Unhandled promise rejection",b)},onUnhandled=function(m){N(ee,P,(function(){var y,b=m.facade,_=m.value;if(isUnhandled(m)&&(y=ae((function(){he?Ce.emit("unhandledRejection",_,b):dispatchEvent("unhandledrejection",b,_)})),m.rejection=he||isUnhandled(m)?2:1,y.error))throw y.value}))},isUnhandled=function(m){return 1!==m.rejection&&!m.parent},onHandleUnhandled=function(m){N(ee,P,(function(){var y=m.facade;he?Ce.emit("rejectionHandled",y):dispatchEvent("rejectionhandled",y,m.value)}))},bind=function(m,y,b){return function(_){m(y,_,b)}},internalReject=function(m,y,b){m.done||(m.done=!0,b&&(m=b),m.value=y,m.state=2,notify(m,!0))},internalResolve=function(m,y,b){if(!m.done){m.done=!0,b&&(m=b);try{if(m.facade===y)throw we("Promise can't be resolved itself");var _=isThenable(y);_?te((function(){var b={done:!1};try{N(_,y,bind(internalResolve,b,m),bind(internalReject,b,m))}catch(y){internalReject(b,y,m)}})):(m.value=y,m.state=1,notify(m,!1))}catch(y){internalReject({done:!1},y,m)}}};if(Ae&&(_e=(be=function Promise(m){Y(this,_e),X(m),N(_,this);var y=ge(this);try{m(bind(internalResolve,y),bind(internalReject,y))}catch(m){internalReject(y,m)}}).prototype,(_=function Promise(m){me(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=B(_e,{then:function then(m,y){var b=ve(this),_=b.reactions,$=ke(Z(this,be));return $.ok=!V(m)||m,$.fail=V(y)&&y,$.domain=he?Ce.domain:void 0,b.parent=!0,_[_.length]=$,0!=b.state&&notify(b,!1),$.promise},catch:function(m){return this.then(void 0,m)}}),$=function(){var m=new _,y=ge(m);this.promise=m,this.resolve=bind(internalResolve,y),this.reject=bind(internalReject,y)},re.f=ke=function(m){return m===be||m===C?new $(m):xe(m)},!M&&V(U)&&ye!==Object.prototype)){D=ye.then,Ee||(H(ye,"then",(function then(m,y){var b=this;return new be((function(m,y){N(D,b,m,y)})).then(m,y)}),{unsafe:!0}),H(ye,"catch",_e.catch,{unsafe:!0}));try{delete ye.constructor}catch(m){}z&&z(ye,_e)}I({global:!0,wrap:!0,forced:Ae},{Promise:be}),q(be,"Promise",!1,!0),W("Promise"),C=R("Promise"),I({target:"Promise",stat:!0,forced:Ae},{reject:function reject(m){var y=ke(this);return N(y.reject,void 0,m),y.promise}}),I({target:"Promise",stat:!0,forced:M||Ae},{resolve:function resolve(m){return ie(M&&this===C?be:this,m)}}),I({target:"Promise",stat:!0,forced:De},{all:function all(m){var y=this,b=ke(y),_=b.resolve,$=b.reject,C=ae((function(){var b=X(y.resolve),C=[],D=0,I=1;Q(m,(function(m){var M=D++,P=!1;I++,N(b,y,m).then((function(m){P||(P=!0,C[M]=m,--I||_(C))}),$)})),--I||_(C)}));return C.error&&$(C.value),b.promise},race:function race(m){var y=this,b=ke(y),_=b.reject,$=ae((function(){var $=X(y.resolve);Q(m,(function(m){N($,y,m).then(b.resolve,_)}))}));return $.error&&_($.value),b.promise}})},function(m,y,b){var _=b(17);m.exports=function(m,y,b){for(var $ in y)_(m,$,y[$],b);return m}},function(m,y,b){"use strict";var _=b(11),$=b(18),C=b(6),D=b(13),I=C("species");m.exports=function(m){var y=_(m),b=$.f;D&&y&&!y[I]&&b(y,I,{configurable:!0,get:function(){return this}})}},function(m,y,b){var _=b(3),$=b(30),C=_.TypeError;m.exports=function(m,y){if($(y,m))return m;throw C("Incorrect invocation")}},function(m,y,b){var _=b(6),$=b(23),C=_("iterator"),D=Array.prototype;m.exports=function(m){return void 0!==m&&($.Array===m||D[C]===m)}},function(m,y,b){var _=b(3),$=b(10),C=b(14),D=b(9),I=b(31),M=b(83),P=_.TypeError;m.exports=function(m,y){var b=arguments.length<2?M(m):y;if(C(b))return D($(b,m));throw P(I(m)+" is not iterable")}},function(m,y,b){var _=b(10),$=b(9),C=b(42);m.exports=function(m,y,b){var D,I;$(m);try{if(!(D=C(m,"return"))){if("throw"===y)throw b;return b}D=_(D,m)}catch(m){I=!0,D=m}if("throw"===y)throw b;if(I)throw D;return $(D),b}},function(m,y,b){var _=b(6)("iterator"),$=!1;try{var C=0,D={next:function(){return{done:!!C++}},return:function(){$=!0}};D[_]=function(){return this},Array.from(D,(function(){throw 2}))}catch(m){}m.exports=function(m,y){if(!y&&!$)return!1;var b=!1;try{var C={};C[_]=function(){return{next:function(){return{done:b=!0}}}},m(C)}catch(m){}return b}},function(m,y,b){var _=b(3),$=b(251),C=b(31),D=_.TypeError;m.exports=function(m){if($(m))return m;throw D(C(m)+" is not a constructor")}},function(m,y,b){var _=b(5),$=b(7),C=b(4),D=b(34),I=b(11),M=b(33),noop=function(){},P=[],R=I("Reflect","construct"),N=/^\s*(?:class|function)\b/,U=_(N.exec),H=!N.exec(noop),isConstructorModern=function(m){if(!C(m))return!1;try{return R(noop,P,m),!0}catch(m){return!1}};m.exports=!R||$((function(){var m;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern((function(){m=!0}))||m}))?function(m){if(!C(m))return!1;switch(D(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return H||!!U(N,M(m))}:isConstructorModern},function(m,y){var b=Function.prototype,_=b.apply,$=b.bind,C=b.call;m.exports="object"==typeof Reflect&&Reflect.apply||($?C.bind(_):function(){return C.apply(_,arguments)})},function(m,y,b){var _,$,C,D,I,M,P,R,N=b(3),U=b(52),H=b(47).f,B=b(85).set,z=b(87),q=b(254),W=b(255),X=b(53),V=N.MutationObserver||N.WebKitMutationObserver,G=N.document,Y=N.process,K=N.Promise,Q=H(N,"queueMicrotask"),J=Q&&Q.value;J||(_=function(){var m,y;for(X&&(m=Y.domain)&&m.exit();$;){y=$.fn,$=$.next;try{y()}catch(m){throw $?D():C=void 0,m}}C=void 0,m&&m.enter()},z||X||W||!V||!G?!q&&K&&K.resolve?((P=K.resolve(void 0)).constructor=K,R=U(P.then,P),D=function(){R(_)}):X?D=function(){Y.nextTick(_)}:(B=U(B,N),D=function(){B(_)}):(I=!0,M=G.createTextNode(""),new V(_).observe(M,{characterData:!0}),D=function(){M.data=I=!I})),m.exports=J||function(m){var y={fn:m,next:void 0};C&&(C.next=y),$||($=y,D()),C=y}},function(m,y,b){var _=b(27),$=b(3);m.exports=/ipad|iphone|ipod/i.test(_)&&void 0!==$.Pebble},function(m,y,b){var _=b(27);m.exports=/web0s(?!.*chrome)/i.test(_)},function(m,y,b){var _=b(3);m.exports=function(m,y){var b=_.console;b&&b.error&&(1==arguments.length?b.error(m):b.error(m,y))}},function(m,y){m.exports="object"==typeof window},function(m,y,b){"use strict";var _=b(16),$=b(22),C=b(82),D=b(7),I=b(11),M=b(4),P=b(84),R=b(88),N=b(17);if(_({target:"Promise",proto:!0,real:!0,forced:!!C&&D((function(){C.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(m){var y=P(this,I("Promise")),b=M(m);return this.then(b?function(b){return R(y,m()).then((function(){return b}))}:m,b?function(b){return R(y,m()).then((function(){throw b}))}:m)}}),!$&&M(C)){var U=I("Promise").prototype.finally;C.prototype.finally!==U&&N(C.prototype,"finally",U,{unsafe:!0})}},function(m,y,b){"use strict";var _=b(260).charAt,$=b(54),C=b(32),D=b(77),I=C.set,M=C.getterFor("String Iterator");D(String,"String",(function(m){I(this,{type:"String Iterator",string:$(m),index:0})}),(function next(){var m,y=M(this),b=y.string,$=y.index;return $>=b.length?{value:void 0,done:!0}:(m=_(b,$),y.index+=m.length,{value:m,done:!1})}))},function(m,y,b){var _=b(5),$=b(43),C=b(54),D=b(39),I=_("".charAt),M=_("".charCodeAt),P=_("".slice),createMethod=function(m){return function(y,b){var _,R,N=C(D(y)),U=$(b),H=N.length;return U<0||U>=H?m?"":void 0:(_=M(N,U))<55296||_>56319||U+1===H||(R=M(N,U+1))<56320||R>57343?m?I(N,U):_:m?P(N,U,U+2):R-56320+(_-55296<<10)+65536}};m.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},function(m,y,b){b(262)},function(m,y,b){"use strict";var _=b(16),$=b(3),C=b(30),D=b(48),I=b(50),M=b(79),P=b(28),R=b(15),N=b(24),U=b(263),H=b(264),B=b(35),z=b(265),q=b(266),W=$.Error,X=[].push,V=function AggregateError(m,y){var b=C(G,this)?this:P(G),_=arguments.length>2?arguments[2]:void 0;I&&(b=I(new W(void 0),D(b))),R(b,"message",z(y,"")),q&&R(b,"stack",U(b.stack,1)),H(b,_);var $=[];return B(m,X,{that:$}),R(b,"errors",$),b};I?I(V,W):M(V,W);var G=V.prototype=P(W.prototype,{constructor:N(1,V),message:N(1,""),name:N(1,"AggregateError")});_({global:!0},{AggregateError:V})},function(m,y,b){var _=b(5),$=b(86),C=_("".replace),D=_("".split),I=_([].join),M=String(Error("zxcasd").stack),P=/\n\s*at [^:]*:[^\n]*/,R=P.test(M),N=/@[^\n]*\n/.test(M)&&!/zxcasd/.test(M);m.exports=function(m,y){if("string"!=typeof m)return m;if(R)for(;y--;)m=C(m,P,"");else if(N)return I($(D(m,"\n"),y),"\n");return m}},function(m,y,b){var _=b(12),$=b(15);m.exports=function(m,y){_(y)&&"cause"in y&&$(m,"cause",y.cause)}},function(m,y,b){var _=b(54);m.exports=function(m,y){return void 0===m?arguments.length<2?"":y:_(m)}},function(m,y,b){var _=b(7),$=b(24);m.exports=!_((function(){var m=Error("a");return!("stack"in m)||(Object.defineProperty(m,"stack",$(1,7)),7!==m.stack)}))},function(m,y,b){b(268)},function(m,y,b){"use strict";var _=b(16),$=b(10),C=b(14),D=b(25),I=b(36),M=b(35);_({target:"Promise",stat:!0},{allSettled:function allSettled(m){var y=this,b=D.f(y),_=b.resolve,P=b.reject,R=I((function(){var b=C(y.resolve),D=[],I=0,P=1;M(m,(function(m){var C=I++,M=!1;P++,$(b,y,m).then((function(m){M||(M=!0,D[C]={status:"fulfilled",value:m},--P||_(D))}),(function(m){M||(M=!0,D[C]={status:"rejected",reason:m},--P||_(D))}))})),--P||_(D)}));return R.error&&P(R.value),b.promise}})},function(m,y,b){b(270)},function(m,y,b){"use strict";var _=b(16),$=b(14),C=b(11),D=b(10),I=b(25),M=b(36),P=b(35);_({target:"Promise",stat:!0},{any:function any(m){var y=this,b=C("AggregateError"),_=I.f(y),R=_.resolve,N=_.reject,U=M((function(){var _=$(y.resolve),C=[],I=0,M=1,U=!1;P(m,(function(m){var $=I++,P=!1;M++,D(_,y,m).then((function(m){P||U||(U=!0,R(m))}),(function(m){P||U||(P=!0,C[$]=m,--M||N(new b(C,"No one promise resolved")))}))})),--M||N(new b(C,"No one promise resolved"))}));return U.error&&N(U.value),_.promise}})},function(m,y,b){"use strict";var _=b(16),$=b(25),C=b(36);_({target:"Promise",stat:!0},{try:function(m){var y=$.f(this),b=C(m);return(b.error?y.reject:y.resolve)(b.value),y.promise}})},function(m,y,b){var _=b(3),$=b(273),C=b(274),D=b(64),I=b(15),M=b(6),P=M("iterator"),R=M("toStringTag"),N=D.values,handlePrototype=function(m,y){if(m){if(m[P]!==N)try{I(m,P,N)}catch(y){m[P]=N}if(m[R]||I(m,R,y),$[y])for(var b in D)if(m[b]!==D[b])try{I(m,b,D[b])}catch(y){m[b]=D[b]}}};for(var U in $)handlePrototype(_[U]&&_[U].prototype,U);handlePrototype(C,"DOMTokenList")},function(m,y){m.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(m,y,b){var _=b(29)("span").classList,$=_&&_.constructor&&_.constructor.prototype;m.exports=$===Object.prototype?void 0:$},,,,,function(m,y,b){"use strict";b.r(y);b(94);var _=b(0),C=b.n(_),D=(b(100),b(101),b(102),b(57)),I=b.n(D);UX.grid={},Object.keys(I.a).map((function(m){UX.grid[m]=parseInt(I.a[m],10)}));b(103),b(104);var M=b(90),P=b.n(M);!function(m){m.test=m.test||{},m.test.inputDate=function(){var m=!1;return function checkInput(m){var y=document.createElement("input");return y.setAttribute("type",m),y.type===m}("date")&&function checkDateInput(){var m=document.createElement("input");return m.setAttribute("type","date"),m.setAttribute("value","not-a-date"),"not-a-date"!==m.value}()&&(m=!0),m},m.test.isIE=function isIE(){var m=window.navigator.userAgent,y=m.indexOf("MSIE ");if(y>0)return parseInt(m.substring(y+5,m.indexOf(".",y)),10);if(m.indexOf("Trident/")>0){var b=m.indexOf("rv:");return parseInt(m.substring(b+3,m.indexOf(".",b)),10)}var _=m.indexOf("Edge/");return _>0&&parseInt(m.substring(_+5,m.indexOf(".",_)),10)}}(UX);var R=UX.test.isIE();b(60),b(61);!function(m){m.utils=m.utils||{},m.utils.generateId=function(){return"_"+Math.random().toString(36).substr(2,9)},m.utils.capitalizeFirstLetter=function(m){return"string"==typeof m?m.charAt(0).toUpperCase()+m.slice(1):""},m.utils.fixedHeaderHeight=function(m){m||(m=".header");var y=document.querySelector(m);if(!y)return 0;if(y.querySelector(".scrollThenFix"))return y.querySelector(".scrollThenFix").getBoundingClientRect().height;if(y.classList.contains("auto-hide-bar")||y.querySelectorAll(".auto-hide-bar").length){var b=y.querySelectorAll(".fixed-element"),_=0;return b.forEach((function(m){_+=m.getBoundingClientRect().height})),_}var $,C=y.parentElement;if(R)$=y.classList.contains("fixed")||C.classList.contains("fixed");else{var D={header:window.getComputedStyle(y).position,parents:window.getComputedStyle(C).position};$=-1!==["fixed","sticky"].indexOf(D.header)||-1!==["fixed","sticky"].indexOf(D.parents)}return $?y.getBoundingClientRect().height:0},m.utils.flattenAndFlip=function(m){var y={},b=function _loop(b){if(!Object.prototype.hasOwnProperty.call(m,b))return 1;m[b].forEach((function(m){return y[m]=b}))};for(var _ in m)b(_);return y},m.utils.getUrlParameter=function(m){var y,b,_=window.location.search.substring(1).split("&");for(b=0;b<_.length;b++)if((y=_[b].split("="))[0]===m)return void 0===y[1]||decodeURIComponent(y[1])},m.utils.removeUrlParam=function(m,y){if(void 0!==y){var b=y.split("?")[0],_=[],$=-1!==y.indexOf("?")?y.split("?")[1]:"";if(""!==$){for(var C=(_=$.split("&")).length-1;C>=0;C-=1)_[C].split("=")[0]===m&&_.splice(C,1);b=b+"?"+_.join("&")}return b}},m.utils.escapeHtml=function(m){var y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(m).replace(/[&<>"'`=\/]/g,(function(m){return y[m]}))},m.utils.isRTL=function(){return"rtl"===document.querySelector("html").getAttribute("dir")},m.utils.convertToArray=function(m){return Array.prototype.slice.call(m)},m.utils.focusCycle=function(y){if(y){var b=m.utils.convertToArray(y.querySelectorAll('a, button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])')),_=function _focusCycle(m){var y=m.target.dataset.focusOrder;if(m.relatedTarget&&!m.relatedTarget.closest(".js--focusCycle"))switch(y){case"0":b[b.length-1].focus();break;case"".concat(b.length-1):b[0].focus()}};y.classList.add("js--focusCycle"),b.length&&b.forEach((function(m,y){m.dataset.focusOrder="".concat(y),m.addEventListener("focusout",_)}))}},m.utils.releasedAssetsPath=function(){var m=P()(document.querySelectorAll("link")).map((function(m){return m.href})).find((function(m){return m.includes("releasedAssets")}));return m&&"".concat(m.split("releasedAssets")[0],"releasedAssets/")}}(UX);UX.utils;var N=UX.utils,U=(N.generateId,N.capitalizeFirstLetter,N.fixedHeaderHeight,N.flattenAndFlip,N.convertToArray,N.focusCycle,b(108),b(109),b(110),b(111),b(112),b(113),b(114),b(115),b(116),b(117),b(118),b(119),b(120),b(121),b(122),b(123),b(55)),H=b.n(U),B=b(19),z=b.n(B),q=b(20),W=b.n(q);function transitionEndEmulator(m){var y=this,b=!1;return C()(this).one(X.TRANSITION_END,(function(){b=!0})),setTimeout((function(){b||X.triggerTransitionEnd(y)}),m),this}var X={TRANSITION_END:"bsTransitionEnd",getUID:function getUID(m){do{m+=~~(1e6*Math.random())}while(document.getElementById(m));return m},getSelectorFromElement:function getSelectorFromElement(m){var y=m.getAttribute("data-target");if(!y||"#"===y){var b=m.getAttribute("href");y=b&&"#"!==b?b.trim():""}try{return document.querySelector(y)?y:null}catch(m){return null}},getTransitionDurationFromElement:function getTransitionDurationFromElement(m){if(!m)return 0;var y=C()(m).css("transition-duration"),b=C()(m).css("transition-delay"),_=parseFloat(y),$=parseFloat(b);return _||$?(y=y.split(",")[0],b=b.split(",")[0],1e3*(parseFloat(y)+parseFloat(b))):0},reflow:function reflow(m){return m.offsetHeight},triggerTransitionEnd:function triggerTransitionEnd(m){C()(m).trigger("transitionend")},supportsTransitionEnd:function supportsTransitionEnd(){return Boolean("transitionend")},isElement:function isElement(m){return(m[0]||m).nodeType},typeCheckConfig:function typeCheckConfig(m,y,b){for(var _ in b)if(Object.prototype.hasOwnProperty.call(b,_)){var $=b[_],C=y[_],D=C&&X.isElement(C)?"element":(I=C,{}.toString.call(I).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp($).test(D))throw new Error("".concat(m.toUpperCase(),": ")+'Option "'.concat(_,'" provided type "').concat(D,'" ')+'but expected type "'.concat($,'".'))}var I},findShadowRoot:function findShadowRoot(m){if(!document.documentElement.attachShadow)return null;if("function"==typeof m.getRootNode){var y=m.getRootNode();return y instanceof ShadowRoot?y:null}return m instanceof ShadowRoot?m:m.parentNode?X.findShadowRoot(m.parentNode):null},jQueryDetection:function jQueryDetection(){if(void 0===C.a)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var m=C.a.fn.jquery.split(" ")[0].split(".");if(m[0]<2&&m[1]<9||1===m[0]&&9===m[1]&&m[2]<1||m[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};X.jQueryDetection(),function setTransitionEndSupport(){C.a.fn.emulateTransitionEnd=transitionEndEmulator,C.a.event.special[X.TRANSITION_END]=function getSpecialTransitionEndEvent(){return{bindType:"transitionend",delegateType:"transitionend",handle:function handle(m){if(C()(m.target).is(this))return m.handleObj.handler.apply(this,arguments)}}}()}();var V=X,G=".".concat("bs.tab"),Y=C.a.fn.tab,K={HIDE:"hide".concat(G),HIDDEN:"hidden".concat(G),SHOW:"show".concat(G),SHOWN:"shown".concat(G),CLICK_DATA_API:"click".concat(G).concat(".data-api")},Q="dropdown-menu",J="active",Z="disabled",ee="fade",te="show",ie=".dropdown",oe=".tab__nav",re=".active",ae="> li > .active, > .active",le='.tab__nav > li:not(.arrows-slide), [data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',ce=".dropdown-toggle",de="> .dropdown-menu .active",ue=function(){function Tab(m){z()(this,Tab),this._element=m}return W()(Tab,[{key:"show",value:function show(){var m=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&C()(this._element).hasClass(J)||C()(this._element).hasClass(Z))){var y,b,_=C()(this._element).closest(oe)[0],$=V.getSelectorFromElement(this._element);if(_){var D="UL"===_.nodeName||"OL"===_.nodeName?ae:re;b=(b=C.a.makeArray(C()(_).find(D)))[b.length-1]}var I=C.a.Event(K.HIDE,{relatedTarget:this._element}),M=C.a.Event(K.SHOW,{relatedTarget:b});if(b&&C()(b).trigger(I),C()(this._element).trigger(M),!M.isDefaultPrevented()&&!I.isDefaultPrevented()){$&&(y=document.querySelector($)),this._activate(this._element,_);var P=function complete(){var y=C.a.Event(K.HIDDEN,{relatedTarget:m._element}),_=C.a.Event(K.SHOWN,{relatedTarget:b});C()(b).trigger(y),C()(m._element).trigger(_)};y?this._activate(y,y.parentNode,P):P()}}}},{key:"dispose",value:function dispose(){C.a.removeData(this._element,"bs.tab"),this._element=null}},{key:"_activate",value:function _activate(m,y,b){var _=this,$=(!y||"UL"!==y.nodeName&&"OL"!==y.nodeName?C()(y).children(re):C()(y).find(ae)).toArray(),D=H()($,2),I=D[0],M=D[1],P=b&&I&&C()(I).hasClass(ee),R=function complete(){return _._transitionComplete(m,I,b,M)};if(I&&P){var N=V.getTransitionDurationFromElement(I);C()(I).removeClass(te).one(V.TRANSITION_END,R).emulateTransitionEnd(N)}else R()}},{key:"_transitionComplete",value:function _transitionComplete(m,y,b,_){var $,D=null===($=document)||void 0===$?void 0:$.activeElement;if(y){C()(y).removeClass(J),"a"===(null==_?void 0:_.localName)&&_.classList.remove(J);var I=C()(y.parentNode).find(de)[0];I&&C()(I).removeClass(J),"tab"===(null==_?void 0:_.getAttribute("role"))&&_.setAttribute("aria-selected",!1)}if(C()(m).addClass(J),"tab"===(null==D?void 0:D.getAttribute("role"))&&D.setAttribute("aria-selected",!0),V.reflow(m),m.classList.contains(ee)&&m.classList.add(te),m.parentNode&&C()(m.parentNode).hasClass(Q)){var M=C()(m).closest(ie)[0];if(M){var P=[].slice.call(M.querySelectorAll(ce));C()(P).addClass(J)}m.setAttribute("aria-expanded",!0)}b&&b()}}],[{key:"VERSION",get:function get(){return"4.4.1"}},{key:"_jQueryInterface",value:function _jQueryInterface(m){return this.each((function(){var y=C()(this),b=y.data("bs.tab");if(b||(b=new Tab(this),y.data("bs.tab",b)),"string"==typeof m){if(void 0===b[m])throw new TypeError('No method named "'.concat(m,'"'));b[m]()}}))}}])}();C()(document).on(K.CLICK_DATA_API,le,(function(m){"tab"==C()(this).attr("data-toggle")&&m.preventDefault(),ue._jQueryInterface.call(C()(this),"show")})),C.a.fn.tab=ue._jQueryInterface,C.a.fn.tab.Constructor=ue,C.a.fn.tab.noConflict=function(){return C.a.fn.tab=Y,ue._jQueryInterface};b(128),b(129),b(130),b(131),b(132),b(37),b(133);var he=b(2),pe=b.n(he),fe=b(91),ge=b.n(fe);function ownKeys(m,y){var b=Object.keys(m);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(m);y&&(_=_.filter((function(y){return Object.getOwnPropertyDescriptor(m,y).enumerable}))),b.push.apply(b,_)}return b}function _objectSpread(m){for(var y=1;y<arguments.length;y++){var b=null!=arguments[y]?arguments[y]:{};y%2?ownKeys(Object(b),!0).forEach((function(y){ge()(m,y,b[y])})):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach((function(y){Object.defineProperty(m,y,Object.getOwnPropertyDescriptor(b,y))}))}return m}var me=".".concat("bs.modal"),ve=C.a.fn.modal,ye={backdrop:!0,keyboard:!0,focus:!0,show:!0},be={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},_e={HIDE:"hide".concat(me),HIDE_PREVENTED:"hidePrevented".concat(me),HIDDEN:"hidden".concat(me),SHOW:"show".concat(me),SHOWN:"shown".concat(me),FOCUSIN:"focusin".concat(me),RESIZE:"resize".concat(me),CLICK_DISMISS:"click.dismiss".concat(me),KEYDOWN_DISMISS:"keydown.dismiss".concat(me),MOUSEUP_DISMISS:"mouseup.dismiss".concat(me),MOUSEDOWN_DISMISS:"mousedown.dismiss".concat(me),CLICK_DATA_API:"click".concat(me).concat(".data-api")},we="modal-dialog-scrollable",$e="modal-scrollbar-measure",Ce="modal-backdrop",ke="modal-open",xe="fade",Se="in",Te="modal-static",Ee=".modal-dialog",Ae=".modal-body",De='[data-toggle="modal"]',Ie='[data-dismiss="modal"]',Me=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Pe=".sticky-top",Le=function(){function Modal(m,y){z()(this,Modal),this._config=this._getConfig(y),this._element=m,this._dialog=m.querySelector(Ee),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}return W()(Modal,[{key:"toggle",value:function toggle(m){return this._isShown?this.hide():this.show(m)}},{key:"show",value:function show(m){var y=this;if(!this._isShown&&!this._isTransitioning){C()(this._element).hasClass(xe)&&(this._isTransitioning=!0);var b=C.a.Event(_e.SHOW,{relatedTarget:m});C()(this._element).trigger(b),this._isShown||b.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),C()(this._element).on(_e.CLICK_DISMISS,Ie,(function(m){return y.hide(m)})),C()(this._dialog).on(_e.MOUSEDOWN_DISMISS,(function(){C()(y._element).one(_e.MOUSEUP_DISMISS,(function(m){C()(m.target).is(y._element)&&(y._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return y._showElement(m)})))}}},{key:"hide",value:function hide(m){var y=this;if(m&&m.preventDefault(),this._isShown&&!this._isTransitioning){var b=C.a.Event(_e.HIDE);if(C()(this._element).trigger(b),this._isShown&&!b.isDefaultPrevented()){this._isShown=!1;var _=C()(this._element).hasClass(xe);if(_&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),C()(document).off(_e.FOCUSIN),C()(this._element).removeClass(Se),C()(this._element).off(_e.CLICK_DISMISS),C()(this._dialog).off(_e.MOUSEDOWN_DISMISS),_){var $=V.getTransitionDurationFromElement(this._element);C()(this._element).one(V.TRANSITION_END,(function(m){return y._hideModal(m)})).emulateTransitionEnd($)}else this._hideModal()}}}},{key:"dispose",value:function dispose(){[window,this._element,this._dialog].forEach((function(m){return C()(m).off(me)})),C()(document).off(_e.FOCUSIN),C.a.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null}},{key:"handleUpdate",value:function handleUpdate(){this._adjustDialog()}},{key:"_getConfig",value:function _getConfig(m){return m=_objectSpread(_objectSpread({},ye),m),V.typeCheckConfig("modal",m,be),m}},{key:"_triggerBackdropTransition",value:function _triggerBackdropTransition(){var m=this;if("static"===this._config.backdrop){var y=C.a.Event(_e.HIDE_PREVENTED);if(C()(this._element).trigger(y),y.defaultPrevented)return;this._element.classList.add(Te);var b=V.getTransitionDurationFromElement(this._element);C()(this._element).one(V.TRANSITION_END,(function(){m._element.classList.remove(Te)})).emulateTransitionEnd(b),this._element.focus()}else this.hide()}},{key:"_showElement",value:function _showElement(m){var y=this,b=C()(this._element).hasClass(xe),_=this._dialog?this._dialog.querySelector(Ae):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),C()(this._dialog).hasClass(we)&&_?_.scrollTop=0:this._element.scrollTop=0,b&&V.reflow(this._element),C()(this._element).addClass(Se),this._config.focus&&this._enforceFocus();var $=C.a.Event(_e.SHOWN,{relatedTarget:m}),D=function transitionComplete(){y._config.focus&&y._element.focus(),y._isTransitioning=!1,C()(y._element).trigger($)};if(b){var I=V.getTransitionDurationFromElement(this._dialog);C()(this._dialog).one(V.TRANSITION_END,D).emulateTransitionEnd(I)}else D()}},{key:"_enforceFocus",value:function _enforceFocus(){var m=this;C()(document).off(_e.FOCUSIN).on(_e.FOCUSIN,(function(y){document!==y.target&&m._element!==y.target&&0===C()(m._element).has(y.target).length&&m._element.focus()}))}},{key:"_setEscapeEvent",value:function _setEscapeEvent(){var m=this;this._isShown&&this._config.keyboard?C()(this._element).on(_e.KEYDOWN_DISMISS,(function(y){27===y.which&&m._triggerBackdropTransition()})):this._isShown||C()(this._element).off(_e.KEYDOWN_DISMISS)}},{key:"_setResizeEvent",value:function _setResizeEvent(){var m=this;this._isShown?C()(window).on(_e.RESIZE,(function(y){return m.handleUpdate(y)})):C()(window).off(_e.RESIZE)}},{key:"_hideModal",value:function _hideModal(){var m=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop((function(){C()(document.body).removeClass(ke),m._resetAdjustments(),m._resetScrollbar(),C()(m._element).trigger(_e.HIDDEN)}))}},{key:"_removeBackdrop",value:function _removeBackdrop(){this._backdrop&&(C()(this._backdrop).remove(),this._backdrop=null)}},{key:"_showBackdrop",value:function _showBackdrop(m){var y=this,b=C()(this._element).hasClass(xe)?xe:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=Ce,b&&this._backdrop.classList.add(b),C()(this._backdrop).appendTo(document.body),C()(this._element).on(_e.CLICK_DISMISS,(function(m){y._ignoreBackdropClick?y._ignoreBackdropClick=!1:m.target===m.currentTarget&&y._triggerBackdropTransition()})),b&&V.reflow(this._backdrop),C()(this._backdrop).addClass(Se),!m)return;if(!b)return void m();var _=V.getTransitionDurationFromElement(this._backdrop);C()(this._backdrop).one(V.TRANSITION_END,m).emulateTransitionEnd(_)}else if(!this._isShown&&this._backdrop){C()(this._backdrop).removeClass(Se);var $=function callbackRemove(){y._removeBackdrop(),m&&m()};if(C()(this._element).hasClass(xe)){var D=V.getTransitionDurationFromElement(this._backdrop);C()(this._backdrop).one(V.TRANSITION_END,$).emulateTransitionEnd(D)}else $()}else m&&m()}},{key:"_adjustDialog",value:function _adjustDialog(){var m=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&m&&(this._element.style.paddingLeft="".concat(this._scrollbarWidth,"px")),this._isBodyOverflowing&&!m&&(this._element.style.paddingRight="".concat(this._scrollbarWidth,"px"))}},{key:"_resetAdjustments",value:function _resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}},{key:"_checkScrollbar",value:function _checkScrollbar(){var m=document.body.getBoundingClientRect();this._isBodyOverflowing=m.left+m.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()}},{key:"_setScrollbar",value:function _setScrollbar(){var m=this;if(this._isBodyOverflowing){var y=[].slice.call(document.querySelectorAll(Me)),b=[].slice.call(document.querySelectorAll(Pe));C()(y).each((function(y,b){var _=b.style.paddingRight,$=C()(b).css("padding-right");C()(b).data("padding-right",_).css("padding-right","".concat(parseFloat($)+m._scrollbarWidth,"px"))})),C()(b).each((function(y,b){var _=b.style.marginRight,$=C()(b).css("margin-right");C()(b).data("margin-right",_).css("margin-right","".concat(parseFloat($)-m._scrollbarWidth,"px"))}));var _=document.body.style.paddingRight,$=C()(document.body).css("padding-right");C()(document.body).data("padding-right",_).css("padding-right","".concat(parseFloat($)+this._scrollbarWidth,"px"))}C()(document.body).addClass(ke)}},{key:"_resetScrollbar",value:function _resetScrollbar(){var m=[].slice.call(document.querySelectorAll(Me));C()(m).each((function(m,y){var b=C()(y).data("padding-right");C()(y).removeData("padding-right"),y.style.paddingRight=b||""}));var y=[].slice.call(document.querySelectorAll("".concat(Pe)));C()(y).each((function(m,y){var b=C()(y).data("margin-right");void 0!==b&&C()(y).css("margin-right",b).removeData("margin-right")}));var b=C()(document.body).data("padding-right");C()(document.body).removeData("padding-right"),document.body.style.paddingRight=b||""}},{key:"_getScrollbarWidth",value:function _getScrollbarWidth(){var m=document.createElement("div");m.className=$e,document.body.appendChild(m);var y=m.getBoundingClientRect().width-m.clientWidth;return document.body.removeChild(m),y}}],[{key:"VERSION",get:function get(){return"4.4.1"}},{key:"Default",get:function get(){return ye}},{key:"_jQueryInterface",value:function _jQueryInterface(m,y){return this.each((function(){var b=C()(this).data("bs.modal"),_=_objectSpread(_objectSpread(_objectSpread({},ye),C()(this).data()),"object"===pe()(m)&&m?m:{});if(b||(b=new Modal(this,_),C()(this).data("bs.modal",b)),"string"==typeof m){if(void 0===b[m])throw new TypeError('No method named "'.concat(m,'"'));b[m](y)}else _.show&&b.show(y)}))}}])}();C()(document).on(_e.CLICK_DATA_API,De,(function(m){var y,b=this,_=V.getSelectorFromElement(this);_&&(y=document.querySelector(_));var $=C()(y).data("bs.modal")?"toggle":_objectSpread(_objectSpread({},C()(y).data()),C()(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||m.preventDefault();var D=C()(y).one(_e.SHOW,(function(m){m.isDefaultPrevented()||D.one(_e.HIDDEN,(function(){C()(b).is(":visible")&&b.focus()}))}));Le._jQueryInterface.call(C()(y),$,this)})),C.a.fn.modal=Le._jQueryInterface,C.a.fn.modal.Constructor=Le,C.a.fn.modal.noConflict=function(){return C.a.fn.modal=ve,Le._jQueryInterface};b(134),b(135),b(136),b(137),b(138),b(139),b(140),b(141),b(142),b(143),b(144);var Oe,je,Re=b(89);Oe=$("body"),(je={$target:null,$toggle:null,$li:null,$spinner:null,$ul:$(".tab__nav"),$previous:null,$content:null,isTouched:!1,extraMargin:25,elementvPort:null,$controls:null,pointerPosition:0,cumulativeShift:0,vPort:"screen-sm",isSlide:!1,isMobile:[],backToAccessibility:!0,swipeDisableClass:"arrows-slide__single--disabled",article:null,isGetFTREnabled:!1,isGetFTRReferencesEnabled:!1,isGetFTRCitedByEnabled:!1,init:function init(){var m,y,b;je.$spinner=$(".tab__spinner"),je.preselectTab(),je.elementvPort=je.vPort,je.vPort=[],je.article=document.querySelector("article"),je.isGetFTREnabled=null===(m=je.article)||void 0===m?void 0:m.getAttribute("data-getFTR-enabled"),je.isGetFTRReferencesEnabled=null===(y=je.article)||void 0===y?void 0:y.getAttribute("data-getFTR-references-enabled"),je.isGetFTRCitedByEnabled=null===(b=je.article)||void 0===b?void 0:b.getAttribute("data-getFTR-citedBy-enabled"),$(".tab:not(.tab .tab)").each((function(m){var y=$(this);je.check.viewPort(m,y),je.responsive(m,y)})),je.$controls="<li class='arrows-slide' role='presentation'><i class='icon-arrow_l arrows-slide__single prev'></i> <i class='icon-arrow_r arrows-slide__single next'></i></li>",je.on.build(),je.control(),$(".tab__nav a").each((function(){je.check.empty($(this))}))},preselectTab:function preselectTab(){$(".tab").each((function(){var m=$(this);if(!1===m.data("js-preselect"))return!0;var y=m.find(".tab__nav").find("li.active a"),b=je.getPaneTarget(y),_=null;!b&&sessionStorage.activeTab&&(_=b=sessionStorage.getItem("activeTab"));var C=b?b.match(/#/):null;if(!b||C&&0===C.index){if(0===m.find(b).length?b=null:_&&sessionStorage.setItem("activeTab",""),""!==location.search){var D=/activeTab=\b[\w-]+$/g;if(D.test(location.search)){var I=location.search.match(D)[0];$("#"+I.split("=")[1]).length&&(b="#"+I.split("=")[1])}}var M=m.find(".tab__nav").find("li:first-of-type a");if(b||(b=je.getPaneTarget(M)),b&&b.split("#").length<2||""===b)return!0;var P=$("[data-target='"+b+"'], [href='"+b+"']");P.closest(".w-slide__btn").length||(P.click(),m.find(b).addClass("active"))}}))},control:function control(){Oe.on("click",".tab-link",(function(m){m.preventDefault();var y=$(this),b=$(document).scrollTop();y.attr("data-scroll-back-to",b),je.triggerExternal(y)})),Oe.on("click",'[data-mobile-toggle="dropdown"] a, .dropblock--tab a',(function(m){je.on.select.dropdown($(this)),$(".js--open[data-db-target-for]").length&&UX.dropBlock.on.hide()})),Oe.on("click",".tab__nav a",(function(){var m=$(this),y=je.getPaneTarget(m);if($(document).trigger("tabs:changeActiveTab",{tabId:y}),m.parents(".tab").hasClass("tab--lazy-load")&&"true"!==$(y).attr("data-ajaxloaded")&&je.getContent($(y).find(".tab-lazy")),je.isGetFTREnabled){var b=UX.getFTR||new Re.e;je.isGetFTRReferencesEnabled&&m[0].classList.contains("references-tab")?b.referencesTab():je.isGetFTRCitedByEnabled&&m[0].classList.contains("related-tab")&&b.relatedTab()}})),Oe.on("click touchend",".arrows-slide .next",(function(m){m.preventDefault();var y=$(this).closest(".tab__nav").find(".active"),b=$(this).closest(".tab").find(".tab__content .tab__pane.active");if(y.next().not(".arrows-slide").length>0){var _=y.removeClass("active").next().not(".arrows-slide");_.addClass("active").show(),b.removeClass("active").next().addClass("active"),je.navToExternal(_),y.next().not(".arrows-slide").next().not(".arrows-slide").length||$(this).addClass(je.swipeDisableClass),$(this).closest(".arrows-slide").find(".prev").removeClass(je.swipeDisableClass)}})),Oe.on("click touchend",".arrows-slide .prev",(function(m){m.preventDefault();var y=$(this).closest(".tab__nav").find(".active"),b=$(this).closest(".tab").find(".tab__content .tab__pane.active");if(y.prev().not(".arrows-slide").length>0){var _=y.removeClass("active").prev().not(".arrows-slide");_.addClass("active").show(),b.removeClass("active").prev().addClass("active"),je.navToExternal(_),y.prev().not(".arrows-slide").prev().not(".arrows-slide").length||$(this).addClass(je.swipeDisableClass),$(this).closest(".arrows-slide").find(".next").removeClass(je.swipeDisableClass)}})),je.setPostbackActiveTab(je.getPostbackActiveTab()),je.additionalControl()},additionalControl:function additionalControl(){},navToExternal:function navToExternal(m){var y=m.find(".external");y.length&&(window.location.href=y.attr("href"))},responsive:function responsive(m,y){$(document).on(je.vPort[m]+"-on",(function(){if(je.isMobile[m]=!0,y.data("ctrl-res")===je.vPort[m]&&(y.addClass("tab--res"),je.additionalControl(),je.on.rebuild.responsive(y)),y.closest(".swipe-with-arrows").length){var b=y.find(".tab__nav");if(b.children("li").length>1){var _=b.children("li.active").index(),C=b.children("li").length,D=$(je.$controls);b.children("li:not(.active)").hide(),_+1===C&&D.find(".next").addClass(je.swipeDisableClass),0===_&&D.find(".prev").addClass(je.swipeDisableClass),b.append(D)}}})),$(document).on(je.vPort[m]+"-off",(function(){je.isMobile[m]=!1,y.data("ctrl-res")===je.vPort[m]&&(y.removeClass("tab--res"),je.on.rebuild.original($(this)));var b=$(".swipe-with-arrows").find(".tab__nav");b.children("li").css("display","inline-block"),b.find(".arrows-slide").remove()}))},animate:{scroll:function scroll(m,y){if(y.length){var b=m.scrollTop(),_=m.position().top,$=y.position().top;m.animate({scrollTop:$-_+b},600)}}},set:{target:function target(m,y,b){m.find(y).length?je.$target=m.find(y):je.$target=m.find("[data-figure-id='"+b+"']")}},accessibility:{externalLink:function externalLink(m,y){var b=y.$target.attr("tabindex");y.$target.attr("tabindex",void 0===b?-1:b);var _=$('<button class="btn btn--keyboard-accessible">Go back to content</button>');y.backToAccessibility&&(y.$target.is("a, ul, ol, img, table")||y.$target.is(":input")?y.$target.after(_):y.$target.append(_),_.on("click",(function(){m.focus()})).on("focusout",(function(){$(this).remove()}))),y.$target.on("focusout.tablink",(function(m){var C=$(this);void 0===b&&C.removeAttr("tabindex"),$(m.relatedTarget).is(_)||$(m.relatedTarget).parents().filter(y.$target).length||(_.length&&_.remove(),C.off("focusout.tablink"))})).on("keydown.tablink",(function(y){var b=$(this);27===y.which&&(b.off("keydown.tablink"),m.focus(),_.length&&_.remove())})),y.$target.focus()}},on:{select:{external:function external(m){var y=m.attr("href");y=y.split(" ")[0],je.$toggle="#"+m.data("tab"),je.$li=$('.tab__nav [href="'+je.$toggle+'"]');var b=y.split("#")[1],_=$(je.$toggle).closest(".tab"),C=function animateScroll(){je.$content=$(je.$toggle).parents(".tab__content"),!je.$content.length&&m.is("[data-slide-target]")&&m.hasClass("slide-active")&&(je.$content=$(".w-slide__content")),_.hasClass("tab--res")?(je.isSlide=_.hasClass("tab--slide"),je.isSlide&&(je.set.target($(".w-slide__content"),y,b),je.$target.length&&(je.animate.scroll($(".w-slide__content"),je.$target),je.$target.attr("tab-index","1"),je.$target.focus()))):(je.set.target(je.$content,y,b),je.animate.scroll(je.$content,je.$target),je.accessibility.externalLink(m,je))};$(je.$toggle).is(":visible")?(je.$li.click(),C()):$(je.$toggle).hasClass("empty")?($(je.$toggle).on("content-loaded",(function(){C()})),je.$li.click()):(je.$li.click(),C())}},build:function build(){je.$ul.each((function(m){$(this).is(".swipe__list")&&je.on.swipeBuild($(this)),$(this).is(".dropblock--tab")&&je.on.dropdownBuild($(this),m)})),$(".tab--lazy-load").each((function(){je.getContent($(this).find(".tab__pane.active").find(".tab-lazy"))}))},slideDestroy:function slideDestroy(m){m.find("[data-slide-target]").removeClass("w-slide__btn slide-active")},rebuild:{original:function original(m){je.$ul=m.find(".tab__nav"),je.$ul.each((function(m){switch($(this).data("mobile-toggle")||$(this).closest("[data-mobile-toggle]").data("mobile-toggle")){case"swipe":je.on.swipeDestroy($(this));break;case"dropdown":je.on.dropdownDestroy($(this));break;case"accordion":je.on.accordionDestroy($(this));break;case"slide":je.on.slideDestroy($(this))}})),$(document).trigger("init.bs.tab")},responsive:function responsive(m){je.$ul=m.find(".tab__nav"),$(".tab__nav").find("[data-slide-target]").addClass("w-slide__btn slide-active"),je.$ul.each((function(m){switch($(this).data("mobile-toggle")||$(this).closest("[data-mobile-toggle]").data("mobile-toggle")){case"swipe":$(this).parent().is(".scroll")||je.on.swipeBuild($(this));break;case"dropdown":$(this).parent().is(".dropBlock")||je.on.dropdownBuild($(this),m);break;case"accordion":$(this).next().hasClass("accordion")||je.on.accordionBuild($(this))}})),$(document).trigger("init.bs.tab")}}},check:{empty:function empty(m){var y=je.getPaneTarget(m);if(!m.is('a:not([href^="#"])')&&!m.hasClass("external")){$(y).length||m.addClass("empty");var b=$(y),_=!b.text().trim().length||b.find(".emptyTab").length||b.is(":empty");if(b.length&&_){if(b.addClass("empty"),m.addClass("empty"),b.is("#pane-pcw-related")){var C=b.data("empty-text");b.append('<div class="is-empty">'.concat(C,"</div>")),b.find(".show-recommended-placeholder").length&&$(document).on("showRecommended:loaded",(function(){b.find(".is-empty").remove(),b.removeClass("empty"),m.removeClass("empty")}))}return!0}return b.removeClass("empty"),b.find(".is-empty").remove(),m.removeClass("empty"),!1}},viewPort:function viewPort(m,y){void 0!==y.data("ctrl-res")||""===y.data("ctrl-res")?je.vPort[m]=y.data("ctrl-res"):(y.data("ctrl-res",je.elementvPort),je.vPort[m]=je.elementvPort)}},triggerExternal:function triggerExternal(m){je.on.select.external(m)},getPaneTarget:function getPaneTarget(m){return m.data("target")||m.attr("href")},getPostbackActiveTab:function getPostbackActiveTab(){var m="tabActivePane";m=m.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var y=new RegExp("[\\?&]"+m+"=([^&#]*)").exec(location.search);return null==y?"":decodeURIComponent(y[1].replace(/\+/g," "))},setPostbackActiveTab:function setPostbackActiveTab(m){if(""!==m){var y=$("a[data-simple-tab-id='"+m+"']");y.length>0&&y.each((function(){y.trigger("click")}))}},additionalAjaxSuccess:function additionalAjaxSuccess(m){},getContent:function getContent(m){var y=m.attr("data-tabId"),b=m.attr("data-widgetId"),_=encodeURIComponent($("meta[name=pbContext]").attr("content")),C=m.parents(".tab__pane");$.ajax({url:"/pb/widgets/ux3/lazyTabs/loadTab?pbContext="+_+"&tabId="+y+"&widgetId="+b,success:function success(y){C.attr("data-ajaxLoaded","true"),m.replaceWith(y),C.find(".tab__pane.active").find(".tab-lazy").length&&je.getContent(C.find(".tab__pane.active").find(".tab-lazy")),C.find(">.tab__spinner").hide(),je.showcaseSlideshowCheck(C.find(".js-showcase-slideshow")),je.additionalAjaxSuccess(y)},error:function error(){}})},showcaseSlideshowCheck:function showcaseSlideshowCheck(m){m.length&&UX.showcaseSlideshow&&UX.showcaseSlideshow.initInstance(m,UX.showcaseSlideshow.defaultOptions)}}).on.select.dropdown=function(m){("dropdown"===m.closest("ul").data("mobile-toggle")||m.closest("ul").hasClass("dropblock--tab"))&&m.closest(".dropBlock").children("a").find("span").text(m.text())},je.on.dropdownBuild=function(m,y){UX.dropBlock&&UX.dropBlock.init(),m.wrap('<div class="dropBlock" data-db-parent-of="dbTab-'+y+'"></div>');var b=m.closest(".dropBlock"),_=m.find(".active a");b.prepend('<a href="#"class="dropBlock__link" data-db-target-for="dbTab-'+y+'"><span>'+_.text()+'</span><i class="icon-arrow_d_n" aria-hidden="true"></i></a>'),m.attr("data-db-target-of","dbTab-"+y)},je.on.dropdownDestroy=function(m){m.closest(".dropBlock").children("a").remove(),m.removeAttr("data-db-target-of").removeClass("js--open").removeAttr("style").unwrap(".dropBlock")},je.on.swipeBuild=function(m,y){m.wrap('<div class="swipe__wrapper"><div class="scroll"></div></div>'),y||(y=je.extraMargin,m.closest(".tab__pane").css("display","block"),m.find("li").each((function(m){y+=$(this).innerWidth()})),m.closest(".tab__pane").css("display","")),m.width(y)},je.on.swipeDestroy=function(m){m.removeAttr("style"),m.unwrap(".scroll").unwrap(".swipe__wrapper")},je.on.accordionBuild=function(m){m.next(".tab__content").addClass("accordion-tabbed").wrap('<div class="accordion"></div>'),m.find("a").each((function(m){var y=$(this),b=je.getPaneTarget(y);$(b).addClass("accordion-tabbed__tab").removeClass("tab__pane").wrapInner('<div class="accordion-tabbed__content"></div>'),y.clone().prependTo(b).addClass("accordion-tabbed__control")})),m.hide(),UX.accordion.init(),$(".tab__content.accordion-tabbed .accordion-tabbed__tab").removeClass("js--open").find(".accordion-tabbed__content").hide(),$(".tab__content.accordion-tabbed .accordion-tabbed__tab.active").addClass("js--open").find(".accordion-tabbed__content").show()},je.on.accordionDestroy=function(m){m.next(".accordion").find(".tab__content").removeClass("accordion-tabbed").unwrap(".accordion").find(".accordion-tabbed__tab").each((function(y){var b=$(this);b.addClass("tab__pane").removeClass("accordion-tabbed__tab js--open");var _=b.find(".accordion-tabbed__content").text();b.html(_),m.show()}));var y=m.next(".tab__content").find(".active").attr("id");m.find(".active").removeClass("active"),$('[href="#'+y+'"]').closest("li").addClass("active")},UX.tab=je;b(145),b(146),b(147),b(148),b(149),b(150),b(151),b(152),b(153),b(154),b(155),b(156),b(157),b(158),b(63);!function(){var m=$("body"),y=$(window),b={$wrapper:null,$list:null,$loiHolder:null,$controls:null,$nextBtn:null,$prevBtn:null,$listItem:null,revers:!1,isTouched:!1,pointerPosition:0,cumulativeShift:0,isMobile:!1,vPort:"screen-sm",year:null,widgetId:null,pagecontext:null,doi:null,decade:null,wrapper:$(".loi-wrapper[data-order]"),targetPane:null,url:"/specs/products/ux3/widgets/list-of-issues/templates/list-of-issues/ajax/2009.html",isNewLoi:!1,init:function init(){b.$wrapper=$(".swipe__wrapper"),b.$list=$(".loi__list"),b.$loiHolder=$(".dropBlock-loi__holder"),b.$controls='<div class="loi-list__controls"><span class="loi__btn--prev"><i class="icon-arrow_l" aria-hidden="true"></i></span><span class="loi__btn--next"><i class="icon-arrow_r" aria-hidden="true"></i></span></div>',b.isNewLoi=$(".loi-wrapper").hasClass("list-of-issues-detailed"),b.addtionalInitialization(),b.on.build(),b.control(),b.addtionalControls(),y.on("resized",(function(){b.on.rebuild()})),y.load((function(){$(".loi__list:visible").each((function(){b.on.recalculate($(this))}))})),$(".loi__archive").addClass("event-init"),b.on.pageLoad()},addtionalInitialization:function addtionalInitialization(){},ajaxResponse:function ajaxResponse(){},control:function control(){b.$list.on("click","a",(function(m){b.$listItem=$(this),b.on.select()})),m.on("click",".loi__btn--prev",(function(){b.$prevBtn=$(this),b.on.prev()})),m.on("click",".loi__btn--next",(function(){b.$nextBtn=$(this),b.on.next()})),m.on("touchmove",(function(m){b.on.touch.move(m)})),b.responsiveController(),b.isNewLoi&&(b.setActiveTabsInView(),m.on("click",".list-of-issues-detailed .loi__list a",(function(m){m.preventDefault();var y=$(this),_=y.data("target")?y.data("target"):y.attr("href");$(_).hasClass("nested-tab")&&setTimeout((function(){var m="> .loi > .swipe__wrapper .tab__nav";b.on.recalculate($(_).find(m)),$(_).find(".tab__pane.active").find(m).each((function(){b.on.recalculate($(this))}))}),50);var C=y.data("target"),D=$(C),I=D.find(".tab__nav"),M=D.parents(".loi-wrapper").length&&"ascendingOrder"===D.parents(".loi-wrapper").data("order")?"last":"first";if(D.length&&I.length){var P=D.find(".tab__nav").find("li:"+M+"-of-type a"),R=P.data("target")?P.data("target"):P.attr("href"),N=$("[data-target='"+R+"'], [href='"+R+"']");N.click();var U=N.parent().parent().closest(".scroll");b.scrollToActiveLinkInTabList(U)}else b.wrapper=y.closest(".loi-wrapper"),b.get.activeLink(y),b.set.historyState(y),b.link&&"ajax"===$(".list-of-issues-detailed").attr("data-ajax")&&b.load.ajax()}))),b.isNewLoi||(m.on("click",".tab__nav a",(function(){var m=$(this),y=m.data("target")?m.data("target"):m.attr("href");$(y).hasClass("nested-tab")&&setTimeout((function(){var m="> .loi > .swipe__wrapper .tab__nav";b.on.recalculate($(y).find(m)),$(y).find(".tab__pane.active").find(m).each((function(){b.on.recalculate($(this))}))}),50)})),m.on("click",".loi__list a",(function(){b.wrapper=$(this).closest(".loi-wrapper"),0===b.wrapper.length&&(b.wrapper=$(".loi-wrapper")),$(this).closest(".tab__pane").length?(b.get.activeDecade($(this)),b.get.year($(this))):(b.get.decade($(this)),b.get.activeYear($(this))),b.get.doi(),b.get.pagecontext(),b.get.url(),"decade"===(b.wrapper.find(".dropBlock-loi__holder").length?b.wrapper.find(".dropBlock-loi__holder").attr("data-grouptype"):b.wrapper.attr("data-grouptype"))&&b.year&&b.decade&&b.pagecontext&&b.doi&&b.load.ajax()})))},responsiveController:function responsiveController(){$(document).on(b.vPort+"-on",(function(){b.isMobile=!0,$(".loi").addClass("loi--res"),$(".loi__banner").addClass("loi--res"),$(".corrections-container__label").length>0&&$(".corrections-container__label").addClass("w-slide__btn slide-active"),b.setActiveTabsInView()})),$(document).on(b.vPort+"-off",(function(){b.isMobile=!1,$(".loi").removeClass("loi--res"),$(".loi__banner").removeClass("loi--res"),$(".corrections-container__label").length>0&&$(".corrections-container__label").removeClass("w-slide__btn slide-active"),b.setActiveTabsInView()}))},scrollToActiveLinkInTabList:function scrollToActiveLinkInTabList(m){setTimeout((function(){var y=m.find(".tab__nav li.active");if(!(y[0].getBoundingClientRect().left>=m[0].getBoundingClientRect().left&&y[0].getBoundingClientRect().right<=m[0].getBoundingClientRect().right)){var b=m[0].getBoundingClientRect().right-y[0].getBoundingClientRect().right,_=y[0].getBoundingClientRect().left-m[0].getBoundingClientRect().left,$=_>=0?m.scrollLeft()-b+20:m.scrollLeft()+_-20;m.animate({scrollLeft:$},400)}}),50)},setActiveTabsInView:function setActiveTabsInView(){b.$list.filter(":visible").each((function(m,y){var _=$(y).parent();b.scrollToActiveLinkInTabList(_)}))},addtionalControls:function addtionalControls(){},on:{select:function select(){var m=b.$listItem.closest(".swipe__wrapper"),y=m.find(".loi__list");b.$list=y,b.$nextBtn=m.find(".loi__btn--next"),b.$prevBtn=m.find(".loi__btn--prev"),b.$scroll=b.$list.closest(".scroll");var _=b.$listItem.offset().left,$=b.$nextBtn.offset().left,C=b.$prevBtn.offset().left;_>$-b.$listItem.outerWidth()?b.$scroll.stop().animate({scrollLeft:"+="+b.$listItem.outerWidth()},500,"linear",(function(){b.on.activeArrows(y)})):_<C+b.$prevBtn.outerWidth()&&b.$scroll.stop().animate({scrollLeft:"-="+b.$listItem.outerWidth()},500,"linear",(function(){b.on.activeArrows(y)}))},next:function next(){b.$list=b.$nextBtn.closest(".swipe__wrapper").find(".loi__list"),b.$prevBtn=b.$list.closest(".loi-list__wrapper").find(".loi__btn--prev"),b.$scroll=b.$list.closest(".scroll");var m=b.$scroll.width()-20;b.$nextBtn.hasClass("inactive")||b.$scroll.stop().animate({scrollLeft:"+="+m},500,"linear",(function(){b.on.activeArrows()}))},prev:function prev(){b.$list=b.$prevBtn.closest(".swipe__wrapper").find(".loi__list"),b.$nextBtn=b.$list.closest(".loi-list__wrapper").find(".loi__btn--next"),b.$scroll=b.$list.closest(".scroll");var m=b.$scroll.width()-20;b.$scroll.stop().animate({scrollLeft:"-="+m},500,"linear",(function(){b.on.activeArrows()}))},touch:{move:function move(m){($(m.target).closest(".loi__list").length||$(m.target).hasClass("loi__list"))&&(b.$list=$(m.target).closest(".loi__list"),b.$wrapper=$(m.target).closest(".loi-list__wrapper"),b.$nextBtn=$(m.target).closest(".loi-list__wrapper").find(".loi__btn--next"),b.$prevBtn=$(m.target).closest(".loi-list__wrapper").find(".loi__btn--prev"),b.on.activeArrows())}},escape:function escape(){},tab:function tab(){},tabRevers:function tabRevers(){},activeArrows:function activeArrows(m){var y=null!=m?m:b.$list,_=y.closest(".scroll"),$=y.closest(".swipe__wrapper"),C=_.css("direction"),D=$.find("ltr"===C?".loi__btn--prev":".loi__btn--next"),I=$.find("ltr"===C?".loi__btn--next":".loi__btn--prev"),M=$.width()-D.width(),P=parseInt(M-_.width()+(y.width()-M)),R=Math.abs(_.scrollLeft());R>P?I.addClass("inactive"):I.removeClass("inactive"),R>1?D.removeClass("inactive"):D.addClass("inactive")},build:function build(){b.$wrapper=b.$list.closest(".swipe__wrapper"),b.$wrapper.addClass("loi-list__wrapper"),b.$list.each((function(m){$(this).width()>b.$wrapper.width()&&$(this).closest(".swipe__wrapper").prepend(b.$controls),b.set.defaultInActiveControl()})),b.$nextBtn=$(".loi__btn--next"),b.$prevBtn=$(".loi__btn--prev"),$(".journal-home").length&&(b.vPort="screen-md")},rebuild:function rebuild(){$(".loi-list__controls").remove(),b.$list=$(".loi__list"),b.$list.each((function(m){$(this).width()>b.$wrapper.width()?($(this).closest(".swipe__wrapper").prepend(b.$controls),b.set.defaultInActiveControl()):$(this).closest(".swipe__wrapper").find(".loi-list__controls").remove()}))},recalculate:function recalculate(m){var y=25;m.find("li").each((function(m){y+=$(this).innerWidth()})),m.width(y),b.$wrapper=m.closest(".swipe__wrapper").addClass("loi-list__wrapper"),y>b.$wrapper.width()?0===m.closest(".swipe__wrapper").find(".loi-list__controls").length&&m.closest(".swipe__wrapper").prepend(b.$controls):m.closest(".swipe__wrapper").find(".loi-list__controls").remove()},pageLoad:function pageLoad(){var m=window.location.search.substr(1),y={};m.split("&").map((function(m){var b=m.split("=");y[b[0]]=b[1]})),b.$loiHolder.each((function(m,b){var _=$(b).attr("data-grouptype"),C=$(b).prev(".loi__banner-list"),D=window.innerWidth>parseInt(UX.grid.screenSm);if(y.year&&D)if("decade"===_){var I=$("[data-expand="+y.year+"]",b);if(I.length){var M=I.closest("li[role=tabpanel]").attr("id"),P=$("a[href$=#"+M+"]",b);$(".loi__archive",C).trigger("click"),P.length&&P.trigger("focus").trigger("click"),setTimeout((function(){I.trigger("focus").trigger("click")}),100)}}else"year"===_&&($(".loi__archive",C).trigger("click"),$("[data-expand="+y.year+"]",b).trigger("focus").trigger("click"));y.volume&&"volume"===_&&($(".loi__archive",C).trigger("click"),$("[data-expand="+y.volume+"]",b).trigger("click"))}))}},load:{},get:{year:function year(m){b.year=m.find("span").text(),b.targetPane=m.attr("href")},activeDecade:function activeDecade(m){var y=m.closest(".tab__pane").attr("aria-labelledby");b.decade=$("#"+y).data("decade")?$("#"+y).data("decade"):$("#"+y).find("span").text()},decade:function decade(m){b.decade=m.data("decade")?m.data("decade"):m.find("span").text()},activeYear:function activeYear(m){var y=m.attr("href");b.year=$(y).find(".loi__list").find(".active").find("span").text(),b.targetPane=$(y).find(".loi__list").find(".active").find("a").attr("href")},url:function url(){b.isNewLoi?(b.widgetId=$(".loi-wrapper").attr("data-db-parent-of"),void 0===b.widgetId&&(b.widgetId=b.wrapper.attr("data-widget-id")),b.url="/pb/widgets/loi/content?widgetId="+b.widgetId+"&pbContext="+b.pagecontext.replace(/#/g,"%23")+"&id="+b.link):(b.widgetId=b.wrapper.attr("data-db-parent-of"),void 0===b.widgetId&&(b.widgetId=b.wrapper.attr("data-widget-id")),b.url="/pb/widgets/loi/loiAjax?widgetId="+b.widgetId+"&pbContext="+b.pagecontext+"&doi="+b.doi+"&decadeRange="+b.decade+"&yearParam="+b.year)},doi:function doi(){b.doi=b.wrapper.attr("data-journal-doi")},pagecontext:function pagecontext(){b.pagecontext=encodeURI($("[name='pbContext']").attr("content"))},activeLink:function activeLink(m){var y,_;m.attr("data-url")?(y=m.attr("data-url"),_=m.data("target"),b.link=y,b.targetPane=$(_)):(y=m.attr("href"),_=$(y).find(".tab__nav .active a.empty"),b.targetPane=_.data("target")?_.data("target"):_.attr("href"),b.link=_.attr("data-url"))},isASC:function isASC(){var m;return null===(m=b.wrapper)||void 0===m?void 0:m.data("order").startsWith("ascending")}},set:{historyState:function historyState(m){var y=m.attr("href");y&&history.replaceState(null,"loi history",y)},defaultInActiveControl:function defaultInActiveControl(){var m,y=b.get.isASC()?"next":"prev",_=null!==(m=b["".concat(y,"Btn")])&&void 0!==m?m:$(".loi__btn--".concat(y));null==_||_.addClass("inactive")}},check:{viewPort:function viewPort(){$(".loi").each((function(){$(this).attr("data-ctrl-res")&&(b.vPort=$(this).attr("data-ctrl-res"))}))}}};b.load.ajax=function(){var m=UX.loi.targetPane[0];if(!m||!m.childNodes.length){var y=document.querySelector(".tab__pane"),_={headers:{"accept-language":document.documentElement.lang||"en-US,en;q=0.9"}};b.isNewLoi&&(UX.loi.get.doi(),UX.loi.get.pagecontext(),UX.loi.get.url()),y&&(y.classList.remove("loading"),m.classList.add("loading")),fetch(UX.loi.url,_).then((function(y){y.text().then((function(y){m.innerHTML=y,m.classList.remove("loading"),b.ajaxResponse()}))})).catch((function(y){console.error(y),m.classList.remove("loading")}))}},UX.loi=b}();var Ne;b(159),b(160),b(161),b(162),b(163),b(164),b(165),b(166),b(167),b(168),b(169),b(170),b(171),b(56),b(172),b(173),b(174),b(175),b(176),b(177),b(178),b(179),b(180),b(182),b(183),b(184),b(185),b(186),b(187),b(188),b(189),b(190),b(191),b(192),b(193),b(194),b(195),b(196),b(197),b(198),b(199),b(200),b(201),b(202),b(203),b(204),b(205),b(206),b(207),b(208),b(209),b(210),b(211),b(212),b(213);Ne={selectors:{content:".cited-by__content",seeMore:".cited-by__see-more",appendTo:".cited-content_cbyCitation"},classes:{seeMore:"cited-by__see-more"},content:null,seeMore:null,loadingSpinner:'<div class="loader"></div>',init:function init(){Ne.content=document.querySelector(Ne.selectors.content),Ne.seeMore=document.querySelector(Ne.selectors.seeMore),Ne.control()},control:function control(){var m;null===(m=Ne.seeMore)||void 0===m||m.addEventListener("click",(function(m){if("#"===Ne.seeMore.getAttribute("href")){m.preventDefault();var y=Ne.seeMore.dataset.source;Ne.content.classList.toggle("loading"),Ne.content.insertAdjacentHTML("beforeend",Ne.loadingSpinner),Ne.seeMore.style.display="none",UX.loader.calcStickyQVPosition(),fetch(y).then((function(m){return m.json()})).then((function(m){return Ne.buildLoadedContent(m)})).finally((function(){var m,y,b;null===(m=UX)||void 0===m||null===(y=m.getFTR)||void 0===y||null===(b=y.observeNewCitedByElements)||void 0===b||b.call(y)}))}}))},buildLoadedContent:function buildLoadedContent(m){Ne.content.classList.toggle("loading"),m&&m.item&&m.item.citedByPage&&($(Ne.selectors.content).find(".loader").remove(),$(Ne.selectors.appendTo).append(m.item.citedByPage),UX.loader.calcStickyQVPosition(),Ne.seeMore.style.display="inline-block",m.seeMoreLink?Ne.seeMore.dataset.source=m.seeMoreLink:m.seeAllLink?(Ne.seeMore.querySelector("span").textContent="Load all citations",Ne.seeMore.setAttribute("title","Load all citations"),Ne.seeMore.dataset.source=m.seeAllLink):Ne.seeMore.style.display="none")}},UX.citedBy=Ne;var Fe;b(214),b(215),b(216);Fe={init:function init(){Fe.set.variables(),Fe.controls()},set:{variables:function variables(){Fe.copyBtns=document.querySelectorAll(".copyToken"),Fe.timeoutId=null}},controls:function controls(){Array.prototype.forEach.call(Fe.copyBtns,(function(m,y){m.addEventListener("click",(function(m){var y=m.currentTarget.closest(".kbart-token_new").querySelector(".token-number");Fe.copyToClipboard(y),Fe.additionalControls()}))}))},copyToClipboard:function copyToClipboard(m){var y=document.createElement("input");y.value=m.innerText,document.body.appendChild(y),y.select(),document.execCommand("copy"),document.body.removeChild(y),Fe.showTokenCopies()},showTokenCopies:function showTokenCopies(){var m=document.querySelector(".copy-notification");null==m||m.classList.add("shown"),Fe.timeoutId&&clearTimeout(Fe.timeoutId),Fe.timeoutId=setTimeout((function(){null==m||m.classList.remove("shown")}),1200)},additionalControls:function additionalControls(){}},UX.kbartApiTokens=Fe;b(217);!function(m){var y={holdingsForm:null,sendToRadioGroup:null,emailsListInput:null,submitButton:null,emailsListRadio:null,init:function init(){this.holdingsForm=document.querySelector("#holdingsForm"),this.sendToRadioGroup=this.holdingsForm.querySelector(".sendTo"),this.emailsListRadio=this.sendToRadioGroup.querySelector("#list"),this.emailsListInput=this.holdingsForm.querySelector("#emailList"),this.submitButton=this.holdingsForm.querySelector(".submit button"),this.controller()},controller:function controller(){var m=this;this.emailsListInput.addEventListener("input",(function(){return m.selectEmailsRadio()})),this.emailsListInput.addEventListener("change",(function(){return m.validateEmails()})),this.sendToRadioGroup.querySelectorAll('input[type="radio"]').forEach((function(y){y.addEventListener("change",(function(y){m.submitButton.disabled=!!m.emailsListRadio.checked,"list"===y.target.value&&""!==m.emailsListInput.value&&m.validateEmails()}))})),this.holdingsForm.addEventListener("submit",(function(m){window.validateHoldingsForm&&window.validateHoldingsForm(m)}))},selectEmailsRadio:function selectEmailsRadio(){""!==this.emailsListInput.value&&(this.emailsListRadio.checked=!0)},validateEmails:function validateEmails(){var m=this.holdingsForm.querySelector(".emailsList-error");this.emailsListInput.classList.remove("invalid"),m.classList.add("hidden"),this.submitButton.disabled=!1;var y=this.emailsListInput.value.split(";"),b=!0;if(y.length>0){for(var _=0;_<y.length&&(b=this.validateEmail(y[_].trim()));_++);b||(this.emailsListInput.classList.add("invalid"),m.classList.remove("hidden"),this.submitButton.disabled=!0)}},validateEmail:function validateEmail(m){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(m).toLowerCase())}};m.holdings=y}(UX);var Ue;b(218),b(219),b(220),b(221);Ue={init:function init(){var m,y;UX.controller.enabled=!0,enquire.register("screen and (max-width:"+(parseInt(UX.grid.screenXs)-1)+"px)",{match:function match(){Ue.dispatchEvent("screen-xs-on")},unmatch:function unmatch(){Ue.dispatchEvent("screen-xs-off")}}).register("screen and (max-width:"+(parseInt(UX.grid.screenSm)-1)+"px)",{match:function match(){Ue.dispatchEvent("screen-sm-on")},unmatch:function unmatch(){Ue.dispatchEvent("screen-sm-off")}}).register("screen and (max-width:"+(parseInt(UX.grid.screenMd)-1)+"px)",{match:function match(){Ue.dispatchEvent("screen-md-on")},unmatch:function unmatch(){Ue.dispatchEvent("screen-md-off")}}).register("screen and (max-width:"+(parseInt(UX.grid.screenLg)-1)+"px)",{match:function match(){Ue.dispatchEvent("screen-lg-on")},unmatch:function unmatch(){Ue.dispatchEvent("screen-lg-off")}}).register("screen and (min-width:0px)",{match:function match(){Ue.dispatchEvent("screen-xlg-on")}}).register("screen and (max-width:"+(parseInt(UX.grid.articleLg)-1)+"px)",{match:function match(){Ue.dispatchEvent("screen-article-lg-on")},unmatch:function unmatch(){Ue.dispatchEvent("screen-article-lg-off")}}),y=$(window).width(),window.addEventListener("resize",(function(b){m&&clearTimeout(m),m=setTimeout((function(){$(window).width()!==y&&(y=$(window).width(),window.dispatchEvent(new CustomEvent("resized")),$(window).trigger("resized"))}),100,b)}))},dispatchEvent:function dispatchEvent(m){document.dispatchEvent(new Event(m)),document.dispatchEvent(new Event("smartResize"))}},UX.enquireIt=Ue;b(222)},function(m,y,b){"use strict";b.r(y);var _,C=b(19),D=b.n(C),I=b(20),M=b.n(I),P=(b(64),b(240),b(242),b(258),b(259),b(261),b(267),b(269),b(271),b(272),b(63),function(){return M()((function SciteMetrics(){var m=this;D()(this,SciteMetrics),this.loadWidgetContent=function(y){var b=y.dataset.ajaxUrl;b&&fetch(b).then((function(m){return m.text()})).then((function(m){return y.innerHTML=m})).then((function(){m.postLoadInit()}))},this.fireClickingAnalyticsEvent=function(){var y=m._elements.articleFullPage&&m._elements.articleFullPage.length?"Scite_FullText":"Scite_Abstract";gtag("event","Click",{event_category:y,event_label:"Scite_ai"})},this.postLoadSetElements=function(){m._elements.sciteMetricsClickableItems=document.querySelectorAll(m._selectors.sciteMetricsClickableItems)},this.postLoadInit=function(){m.postLoadSetElements(),m.googleAnalyticsInit()},this.convertToArray=function(m){return Array.prototype.slice.call(m)},this._classList=this.classList,this._selectors=this.selectors,this._elements=this.elements,this.init()}),[{key:"classList",get:function get(){return{sciteMetrics:"scite-metrics",loading:"js--loading"}}},{key:"selectors",get:function get(){return{sciteMetrics:".scite-metrics",sciteMetricsClickableItems:".scite-metrics__items, .scite-metrics__info a, .scite-link",lazyLoad:".scite-metrics__lazyLoad",articleFullPage:".article_fullPage"}}},{key:"elements",get:function get(){return{sciteMetrics:null,sciteMetricsClickableItems:null,lazyLoad:null,articleFullPage:null}}},{key:"setElements",value:function setElements(){this._elements.sciteMetrics=this.convertToArray(document.querySelectorAll(this._selectors.sciteMetrics)),this._elements.lazyLoad=this.convertToArray(document.querySelectorAll(this._selectors.lazyLoad)),this._elements.articleFullPage=document.querySelectorAll(this._selectors.articleFullPage),this._elements.sciteMetricsClickableItems=null}},{key:"onReady",value:function onReady(){var m=this;this._elements.lazyLoad.length&&this._elements.lazyLoad.forEach((function(y){return m.loadWidgetContent(y)}))}},{key:"googleAnalyticsInit",value:function googleAnalyticsInit(){var m=this;this._elements.sciteMetricsClickableItems&&this._elements.sciteMetricsClickableItems.forEach((function(y){y.addEventListener("click",m.fireClickingAnalyticsEvent)}))}},{key:"init",value:function init(){this.setElements(),this.onReady()}}])}()),R=b(56),N=b(1),U=(_=function(m,y){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(m[b]=y[b])})(m,y)},function(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function __(){this.constructor=m}_(m,y),m.prototype=null===y?Object.create(y):(__.prototype=y.prototype,new __)}),__decorate=function(m,y,b,_){var $,C=arguments.length,D=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(m,y,b,_);else for(var I=m.length-1;I>=0;I--)($=m[I])&&(D=(C<3?$(D):C>3?$(y,b,D):$(y,b))||D);return C>3&&D&&Object.defineProperty(y,b,D),D},__metadata=function(m,y){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(m,y)},H=function(m){function Texts(){var y,b=m.apply(this,arguments)||this;return b.pbContext=null===(y=document.querySelector('[name="pbContext"]'))||void 0===y?void 0:y.getAttribute("content"),b}return U(Texts,m),Texts}(N.d),B=function(m){function ClassList(){return null!==m&&m.apply(this,arguments)||this}return U(ClassList,m),ClassList}(N.d),z=function(m){function Selectors(){var y=null!==m&&m.apply(this,arguments)||this;return y.previewLink=".smart-layout_preview-link:not([data-listener-added])",y}return U(Selectors,m),Selectors}(N.f),q=function(m){function Elements(){var y=null!==m&&m.apply(this,arguments)||this;return y.previewLink=[],y}return U(Elements,m),Elements}(N.b),W=function(){function SmartLayout(m){this.wrapper=m}return SmartLayout.prototype.initialize=function(){var m=this;this.elements.initialize(this.wrapper);var y=window.PB;y&&y.$&&y.$(document.documentElement).on("WidgetReinit.smart-layout",(function(){m.addEventListeners()}))},SmartLayout.prototype.addEventListeners=function(){var m=this;this.elements.previewLink=this.domUtils.getElements(this.selectors.previewLink),this.elements.previewLink.forEach((function(y){y.addEventListener("click",(function(y){m.handlePreviewLinkClick(y)})),y.setAttribute("data-listener-added","true")}))},SmartLayout.prototype.handlePreviewLinkClick=function(m){var y=m.target;m.preventDefault();var b=y.getAttribute("href"),_="pbEdit=true&pbNoSession=true&pbContext="+this.texts.pbContext;this.fetchPendingEdits(_,b)},SmartLayout.prototype.fetchPendingEdits=function(m,y){var b=this;fetch("/pb/editor/pendingEdits",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:m}).then((function(m){return m.json()})).then((function(m){return b.handleFetchSuccess(m,y)})).catch(this.handleFetchError)},SmartLayout.prototype.handleFetchSuccess=function(m,y){if(m.pendingEdits.length>0){var b=m.pendingEdits[0][0].id;window.open(y+"#review?edit="+b,"_blank")}else window.open(y,"_blank")},SmartLayout.prototype.handleFetchError=function(m){console.error("Error:",m)},SmartLayout=__decorate([Object(N.c)(z,q,B,H),__metadata("design:paramtypes",[HTMLElement])],SmartLayout)}(),X=function(){var extendStatics=function(m,y){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(m[b]=y[b])})(m,y)};return function(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function __(){this.constructor=m}extendStatics(m,y),m.prototype=null===y?Object.create(y):(__.prototype=y.prototype,new __)}}(),show_recommended_article_decorate=function(m,y,b,_){var $,C=arguments.length,D=C<3?y:null===_?_=Object.getOwnPropertyDescriptor(y,b):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(m,y,b,_);else for(var I=m.length-1;I>=0;I--)($=m[I])&&(D=(C<3?$(D):C>3?$(y,b,D):$(y,b))||D);return C>3&&D&&Object.defineProperty(y,b,D),D},show_recommended_article_metadata=function(m,y){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(m,y)},__awaiter=function(m,y,b,_){return new(b||(b=Promise))((function($,C){function fulfilled(m){try{step(_.next(m))}catch(m){C(m)}}function rejected(m){try{step(_.throw(m))}catch(m){C(m)}}function step(m){m.done?$(m.value):function adopt(m){return m instanceof b?m:new b((function(y){y(m)}))}(m.value).then(fulfilled,rejected)}step((_=_.apply(m,y||[])).next())}))},__generator=function(m,y){var b,_,$,C,D={label:0,sent:function(){if(1&$[0])throw $[1];return $[1]},trys:[],ops:[]};return C={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(C[Symbol.iterator]=function(){return this}),C;function verb(C){return function(I){return function step(C){if(b)throw new TypeError("Generator is already executing.");for(;D;)try{if(b=1,_&&($=2&C[0]?_.return:C[0]?_.throw||(($=_.return)&&$.call(_),0):_.next)&&!($=$.call(_,C[1])).done)return $;switch(_=0,$&&(C=[2&C[0],$.value]),C[0]){case 0:case 1:$=C;break;case 4:return D.label++,{value:C[1],done:!1};case 5:D.label++,_=C[1],C=[0];continue;case 7:C=D.ops.pop(),D.trys.pop();continue;default:if(!($=D.trys,($=$.length>0&&$[$.length-1])||6!==C[0]&&2!==C[0])){D=0;continue}if(3===C[0]&&(!$||C[1]>$[0]&&C[1]<$[3])){D.label=C[1];break}if(6===C[0]&&D.label<$[1]){D.label=$[1],$=C;break}if($&&D.label<$[2]){D.label=$[2],D.ops.push(C);break}$[2]&&D.ops.pop(),D.trys.pop();continue}C=y.call(m,D)}catch(m){C=[6,m],_=0}finally{b=$=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([C,I])}}},V=function(m){function Texts(){var y=null!==m&&m.apply(this,arguments)||this;return y.isExpanded=!1,y.isTablet=window.matchMedia("(max-width: "+UX.grid.screenSm+"px)").matches,y.config={childList:!0,subtree:!0},y.isAddTriggered=!1,y.dataIDMore="article_drawer_RecommendedShowMore",y.dataIDLess="article_drawer_RecommendedShowLess",y}return X(Texts,m),Texts}(N.d),G=function(m){function ClassList(){var y=null!==m&&m.apply(this,arguments)||this;return y.collapsedClass="collapsed",y}return X(ClassList,m),ClassList}(N.d),Y=function(m){function Selectors(){var y=null!==m&&m.apply(this,arguments)||this;return y.placeholder=new N.e(".show-recommended-placeholder"),y.showRecommendedWrapper=new N.e(".show-recommended__wrapper"),y.drawerContainer=new N.e(".article_qv-xs"),y.showRecommendedDropzone=new N.e(".recommendedDropzone7"),y.articleGrid=new N.e(".article-grid"),y.sponseredContentSlot="#dfp-journal-article-recommend",y.headerDrawerBtn=".header_qv-link a",y.showRecommendedBtn=".show-recommended__button",y.showRecommendedHeader=".show-recommended__header",y.sponsoredContent=".sponsoredContent",y.advertisementElement="[data-ntv-id]",y.showRecommendedList=".show-recommended__list",y}return X(Selectors,m),Selectors}(N.f),K=function(m){function Elements(){return null!==m&&m.apply(this,arguments)||this}return X(Elements,m),Elements}(N.b),Q=function(){function ShowRecommendedArticle(m){this.wrapper=m}return ShowRecommendedArticle.prototype.initialize=function(){this.elements.initialize(this.wrapper),this.texts.isTablet&&this.tabletWidgetInitialization(),!this.texts.isTablet&&this.initializeWidgetContent(),this.setAddMutationObserver(),this.setElements(),this.addEventListeners()},ShowRecommendedArticle.prototype.setElements=function(){this.elements.headerDrawerBtn=this.domUtils.getElement(this.selectors.headerDrawerBtn)},ShowRecommendedArticle.prototype.tabletWidgetInitialization=function(){var m;null===(m=this.elements.showRecommendedWrapper)||void 0===m||m.classList.remove(this.classList.collapsedClass),this.cloneDropzoneToDrawer()},ShowRecommendedArticle.prototype.cloneDropzoneToDrawer=function(){var m;null===(m=this.elements.drawerContainer)||void 0===m||m.appendChild(this.elements.showRecommendedDropzone)},ShowRecommendedArticle.prototype.initializeWidgetContent=function(){this.getContent(this.elements.placeholder)},ShowRecommendedArticle.prototype.addEventListeners=function(){var m,y;null===(m=this.elements.showRecommendedWrapper)||void 0===m||m.addEventListener("click",this.handleShowRecommendedToggle.bind(this)),null===(y=this.elements.headerDrawerBtn)||void 0===y||y.addEventListener("click",this.initializeWidgetContent.bind(this),{once:!0})},ShowRecommendedArticle.prototype.handleShowRecommendedToggle=function(m){var y,b,_,$,C=m.target;this.elements.showRecommendedBtn=this.domUtils.getElement(this.selectors.showRecommendedBtn,this.wrapper),(null===(y=this.elements.showRecommendedBtn)||void 0===y?void 0:y.contains(C))&&(this.texts.isExpanded=!this.texts.isExpanded,null===(b=this.elements.showRecommendedBtn)||void 0===b||b.setAttribute("aria-expanded",""+this.texts.isExpanded),null===(_=this.elements.showRecommendedBtn)||void 0===_||_.setAttribute("data-id",this.texts.isExpanded?this.texts.dataIDLess:this.texts.dataIDMore),null===($=this.elements.showRecommendedWrapper)||void 0===$||$.classList.toggle(this.classList.collapsedClass))},ShowRecommendedArticle.prototype.getContent=function(m){return __awaiter(this,void 0,void 0,(function(){var y,b,_;return __generator(this,(function($){switch($.label){case 0:if(!(y=null==m?void 0:m.dataset.ajaxurl))return[2];$.label=1;case 1:return $.trys.push([1,4,,5]),[4,fetch(y)];case 2:if(!(b=$.sent()).ok)throw new Error("HTTP error! status: "+b.status);return[4,b.text()];case 3:return _=$.sent(),this.extractChildren(_),[3,5];case 4:return $.sent(),[2];case 5:return[2]}}))}))},ShowRecommendedArticle.prototype.extractChildren=function(m){var y,b=document.createElement("div");b.innerHTML=m;var _=null===(y=b.querySelector(this.selectors.showRecommendedHeader))||void 0===y?void 0:y.nextElementSibling;_&&(this.elements.placeholder.replaceWith(_),this.setElementsAfterSuccess())},ShowRecommendedArticle.prototype.setAddMutationObserver=function(){UX.achsUtils.mutationObserverSubscription(this.mutationCallBack.bind(this),this.elements.showRecommendedWrapper,this.texts.config,!1)},ShowRecommendedArticle.prototype.mutationCallBack=function(){var m;this.elements.advertisementElement=this.domUtils.getElement(this.selectors.advertisementElement),this.elements.sponsoredContent&&this.elements.sponseredContentSlot&&!this.elements.advertisementElement&&!this.texts.isAddTriggered&&(this.texts.isAddTriggered=!0,null===(m=window.googletag)||void 0===m||m.cmd.push((function(){window.googletag.display("dfp-journal-article-recommend")})))},ShowRecommendedArticle.prototype.setElementsAfterSuccess=function(){this.elements.sponsoredContent=this.domUtils.getElement(this.selectors.sponsoredContent),this.elements.sponseredContentSlot=this.domUtils.getElement(this.selectors.sponseredContentSlot),this.elements.showRecommendedList=this.domUtils.getElement(this.selectors.showRecommendedList)},ShowRecommendedArticle=show_recommended_article_decorate([Object(N.c)(Y,K,G,V),show_recommended_article_metadata("design:paramtypes",[HTMLElement])],ShowRecommendedArticle)}();b.p="/products/achs/releasedAssets/",location.href.indexOf("specs")>-1&&(b.p="/specs".concat(b.p)),$(document).ready((function(){calcMainContentHeight(),UX.controller.init();var m=document.querySelector("article"),y="true"===(null==m?void 0:m.getAttribute("data-enable-mathjax")),_=document.querySelector(".MathJaxEquation");y&&_&&b.e(8).then(b.bind(null,283)).then((function(m){new(0,m.default)})),(null==m?void 0:m.getAttribute("data-getFTR-enabled"))&&b.e(6).then(b.bind(null,284)).then((function(m){var y=m.default;UX.getFTR=new y,UX.getFTR.initialize()}));var C=document.querySelectorAll(".share .a2a");C.length&&b.e(7).then(b.bind(null,285)).then((function(m){var y=m.default;C.forEach((function(m){UX.addToAnyEnhancement=new y(m).initialize()}))}));var D=document.querySelector(".access-management-access-icons");D&&b.e(9).then(b.bind(null,282)).then((function(m){var y=m.default;UX.AccessManagementConrols=y,new UX.AccessManagementConrols(D).initialize()}));var I=document.querySelectorAll(".article__cc-license");I.length&&b.e(10).then(b.bind(null,286)).then((function(m){var y=m.default;I.forEach((function(m){UX.AccessManagementConrolsCCLicense=y,new UX.AccessManagementConrolsCCLicense(m).initialize()}))}));var M=document.querySelector(".infocus-carousels_group");M&&b.e(5).then(b.bind(null,287)).then((function(m){var y=m.default;UX.InfocusSlider=y,new UX.InfocusSlider(M).initialize()}));var N=document.querySelector(".pub-grid");N&&b.e(11).then(b.bind(null,288)).then((function(m){var y=m.default;UX.SubjectsPublications=y,new UX.SubjectsPublications(N).initialize()}));var U=document.querySelector(".article-grid");U&&(UX.ShowRecommendedArticle=Q,new UX.ShowRecommendedArticle(U).initialize()),document.querySelector(".find-abook_year")&&UX.findBook.init(),$(".kbart-token_table").length&&UX.kbartApiTokens.init(),$(".updateInstitutionMessageForm").length&&UX.intitutionId.init();var H=document.querySelector(".advanced-search");H&&(UX.searchFieldsCtrl=new R.a(H).initialize()),$(".quick-search").length&&$(".quick-search").quickSearch(),$(".book-qs").length&&UX.bookSearch.init(),$(".sg-quick-search").length&&UX.sgSearch.init(),$(".header_burger-menu").length&&$(".header_burger-menu").burgerMenu(),$(".header_my-activity").length&&$(".header_my-activity").myActivity(),$(".myActivityMobile").length&&$(".myActivityMobile").myActivityMobile(),$(".device-pairing-submit").length&&$(".device-pairing-submit").checkpairing(),$(".accordion").length&&UX.accordion.init(),$("[data-db-target-for]").length&&UX.dropBlock.init(),$(".niHeader").length&&UX.niHeader.init(),$(".book-toc-header").length&&UX.bookHeader.init(),$(".jhHeader").length&&UX.jhHeader.init(),$(".tab").length&&UX.tab.init(),$(".loi__banner").length&&UX.loi.init(),$(".holdings").length&&UX.holdings.init(),$(".multi-search").length&&UX.multiSearch.init(),$("article").length&&(UX.loader.init(),UX.ACSPubs.init()),$(".articleMetrics").length&&UX.articleMetrics.init(),$(".cookiePolicy-popup").length&&UX.cookiePolicyPopupWidget.init(),$(".figure-viewer").length&&UX.figureViewer.init(),$(".w-slide__btn").length&&(UX.slide.init(),UX.slide.controlACS()),$(".cpJournalHeader").length&&UX.cpJournalHeader.init(),($(".access-denial-widget-container").length||$(".seamless-access-btn-container").length)&&UX.accessDenial.init(),$(".eCommerceCheckoutIdentityWidget").length&&UX.returnUser.init(),$(".literatumSsoStartWidget").length&&UX.federatedLogin.init(),$(".facetDateChart").length&&UX.facetDateChart.init(),$(".search__filters").length&&UX.searchFacets.init(),$(".facet").length&&UX.toggle.init(),$("table").length&&UX.toggleTable.init(),$(".sortable-table").length&&UX.sortableTableRow.init(),$(".cited-by").length&&UX.citedBy.init(),$(".user-login-bar").length&&UX.userLogin.init(),UX.facetDate.init(),UX.searchResult.init(),$(".toc-article-group").length&&UX.tocArticleGroup.init(),UX.dropblockUl.init(),$("#institutionUsageReport").length&&UX.reports.init(),$("#meteredAccessReport").length&&b.e(0).then(b.t.bind(null,289,7)).then((function(){UX.meteredAccessReport.init()})),$(".js__removeAdmins").length&&UX.administrators.init(),$(".pairing-management").length&&UX.pairingManagment.init(),$(".datepicker").length&&UX.datepicker.init(),$('[data-toggle="modal"]').length&&UX.modal.init(),$(".remote-access-email-domains").length&&UX.remoteAccessEmail.init(),UX.alerts.init(),$(".favoriteShortlist").length&&UX.favorites.init(),$(".figure-viewer-cgeabj").length&&UX.figureViewerCGEABJ.init(),$(".manageAlertsWidget").length&&UX.manageAlerts.init(),$(".topical-alerts-container").length&&UX.topicalAlerts.init(),$(".browse-taxonomies").length&&UX.browseTaxonomies.init(),$(".books-series_tab").length&&UX.booksSeries.init(),$(".achs-addto-mendeley").length&&UX.achsAddToMendeley.init(),$(".achs-mendeley").length&&UX.achsMendeley.init(),$(".recommendationForm").length&&UX.recommendToLibrarian.init(),$(".topical-index").length&&UX.topicalIndex.init(),jcf&&jcf.setOptions("Select",{wrapNative:!1,wrapNativeOnMobile:!0}),$("#saveSearchDialog").length&&UX.saveSearchLogInUser.init(),$("#guestButtonID").length&&UX.cartScrollTop.init(),$(".external-alerts-management").length&&UX.externalAlertsManagement.init(),$(".pj-badge").length&&UX.partnerJournal.init(),$(".list-of-issues-detailed").length&&UX.InsinuationBanner.init(),($(".truncate-text").length||$(".truncate-list").length||$(".truncate-with-shadow").length)&&(UX.genericTruncate.init(),$(".modal").on("shown.bs.modal",(function(){setTimeout((function(){UX.genericTruncate.init()}),1)}))),$(".more-access-btn").length&&UX.moreAccesOptionsBtn.init(),($(".infocus-book-toc").length||$(".table-of-content").length||$(".preview_button").length)&&UX.tableOfContent.init(),$(".generate-pairing-code").length&&UX.devicePairingRequest.init(),(!$(".article").length||$(".article").length&&$(".show-recommended-secondary").length)&&UX.showRecommended.init(),UX.accessibility.init(),fixInternalPageNavigation(),addNewUpdatedBadge(),$("article").length||scrollToHash(),$(".historyDate").length&&disableHistoryDateLabel(),UX.pairingAff.init(),$(".remote_institutional_access").length&&UX.institutionAffiliations.init();var B=document.querySelector(".scite-metrics");B&&(UX.sciteMetrics=new P(B)),$(".scite-metrics").length&&UX.tooltip.init(),UX.smartLayout=(new W).initialize(),UX.abLogger.init(),UX.enquireIt.init()})),$(window).load((function(){$(".owl-carousel").length&&UX.slider.init()}))}]);
//# sourceMappingURL=main.bundle-e97e6493487a2463f9d6.js.map