(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{312:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var l=n(7),o=n.n(l),a=n(8),i=n.n(a),s=function(){return i()((function AdPlaceholder(){o()(this,AdPlaceholder),this.selectors={kevel:".kevel-ad-placeholder",kevelBannerTop:".kevel-banner-top",pbContext:"pbContext"},this.elements={kevel:null,kevelBannerTop:null,pbContext:null},this.variables={data:{},pbContext:""},this.setElements(),this.addEventListeners(),this.renderKevel()}),[{key:"setElements",value:function setElements(){this.elements.kevel=UX.utils.convertToArray(document.querySelectorAll(this.selectors.kevel)),this.elements.kevelBannerTop=document.querySelector(this.selectors.kevelBannerTop),this.elements.pbContext=document.getElementsByName(this.selectors.pbContext)[0]}},{key:"addEventListeners",value:function addEventListeners(){var e=this;window.addEventListener("resize",(function(){e.hideKevelPlaceholder()}))}},{key:"renderKevel",value:function renderKevel(){var e=this;this.elements.kevel.length&&(this.setKevelData(),this.elements.kevel.forEach((function(t){e.variables.data["kevel-widget-ids"]=[t.getAttribute("data-placeholder-widget-id")],e.getKevelPlaceholder(t)})))}},{key:"setKevelData",value:function setKevelData(){var e;this.variables.pbContext=encodeURIComponent(null===(e=this.elements.pbContext)||void 0===e?void 0:e.content),this.variables.data={"viewport-width":window.innerWidth,"kevel-widget-ids":[]}}},{key:"getKevelPlaceholder",value:function getKevelPlaceholder(e){fetch("/pb/widgets/kevel-ad-placeholder/get-kevel-ads-content?pbContext=".concat(this.variables.pbContext),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.variables.data)}).then((function(e){return e.json()})).then((function(t){if(t["kevel-widgets-data"].length){var n=t["kevel-widgets-data"][0],l=document.createElement("iframe");l.width=parseInt(n.width)+16,l.height=parseInt(n.height)+20,t["moat-enabled"]&&n.moat&&n.moat["moat-tags"]?l.srcdoc=n.html+n.moat["moat-tags"]:l.srcdoc=n.html,e.append(l),e.removeAttribute("hidden")}else console.log("INFO: No Kevel ads suitable to this page")})).catch((function(e){console.error("Error in loading Kevel ads, for the following reason:",e)}))}},{key:"hideKevelPlaceholder",value:function hideKevelPlaceholder(){var e=window.innerWidth<UX.grid.screenSm;this.elements.kevelBannerTop&&(this.elements.kevelBannerTop.hidden=e)}}])}()}}]);
//# sourceMappingURL=keveladplaceholder-d5c3b1ba03b7d21e0add.js.map